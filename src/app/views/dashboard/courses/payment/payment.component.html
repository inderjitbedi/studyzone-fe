<main>
  <div class="container">
    <div class="row">
      <div class="col">
        <nav aria-label="breadcrumb">
          <a (click)="back()" class="back-button">
            <svg width="7" height="12" viewBox="0 0 7 15" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M5.38247 10.9393L0.723485 6.37992C0.668185 6.32564 0.629107 6.26684 0.60625 6.20352C0.583024 6.14019 0.571411 6.07234 0.571411 5.99997C0.571411 5.9276 0.583024 5.85976 0.60625 5.79643C0.629107 5.73311 0.668185 5.6743 0.723485 5.62003L5.38247 1.04709C5.5115 0.920441 5.67279 0.857117 5.86634 0.857117C6.05989 0.857117 6.22579 0.924964 6.36404 1.06066C6.50229 1.19636 6.57141 1.35467 6.57141 1.53559C6.57141 1.71652 6.50229 1.87483 6.36404 2.01053L2.29952 5.99997L6.36404 9.98942C6.49307 10.1161 6.55759 10.272 6.55759 10.4573C6.55759 10.6429 6.48846 10.8036 6.35021 10.9393C6.21196 11.075 6.05067 11.1428 5.86634 11.1428C5.68201 11.1428 5.52072 11.075 5.38247 10.9393Z"
                fill="#3F3F3F" />
            </svg>&nbsp; Back
          </a>
          <!-- <ol class="breadcrumb">
                      <li class="breadcrumb-item">
                          <a (click)="back()">All Courses</a>
                      </li>
                      <li class="breadcrumb-item active" aria-current="page">{{courseDetails?.name | titlecase}}</li>
                  </ol> -->

        </nav>
      </div>
    </div>
    <section>
      <div class="row" *ngIf="courseDetails?._id">
        <div class="col-6">
          <div class="card-body">
            <h3 class="card-title">CA 80 $</h3>
            <span class="lesson">
              <!-- 16 Modules Completed -->
            </span>
            <div class="d-flex">
              <span class="badge badge-pill badge-success" *ngIf="courseDetails.type =='public'">Free</span>
              <span class="badge badge-pill badge-danger" *ngIf="courseDetails.type =='paid'">Paid</span>
              <span class="badge badge-pill badge-light" *ngIf="courseDetails.type =='private'">Private</span>
            </div>
            <p>{{courseDetails.description || 'No description added'}}</p>


            <button class="btn enroll-btn" *ngIf="courseDetails.type =='paid' &&  
                          courseDetails.enrollmentStatus == 'not_enrolled'" (click)="requestEnrollment()">
              Enroll Me
            </button>

            <button class="btn enroll-btn" *ngIf="!courseDetails.hasAlreadyStarted &&  
                      (courseDetails.type =='public' )" (click)="enrollCourse()">Start Course</button>


          </div>

        </div>
        <div class="col-1"><span class="divider-vr"></span></div>
        <div class="col-5">
          <ngx-stripe-card-group [formGroup]="stripeTest" [elementsOptions]="elementsOptions">

            <div class="form-group pb-3">
              <label for="InputEmail">Contact Information</label>
              <input type="email" formControlName="email" placeholder="Enter your email" class="form-control mt-2"
                id="InputEmail" aria-describedby="emailHelp">
              <!-- <span class="error"
                          *ngIf="matcher.isErrorState(loginForm.controls['email'], ngForm) && loginForm.controls['email'].hasError('required')">Required</span>
                      <span class="error" *ngIf="loginForm.controls['email'].hasError('pattern')">Invalid
                          email</span> -->
            </div>
            <!-- <div class="form-group pb-3">
              <label for="InputPassword">Amount</label>
              <input type="text" formControlName="amount" placeholder="Enter Amount" class="form-control mt-2"
                id="InputPassword">
            </div> -->
            <div class="form-group">
              <label for="InputEmail">Payment Method</label><br />
              <label class="rounded-card-heading blue-color" ><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M14 4H10C6.22876 4 4.34315 4 3.17157 5.17157C2.32803 6.01511 2.09185 7.22882 2.02572 9.25H21.9743C21.9082 7.22882 21.672 6.01511 20.8284 5.17157C19.6569 4 17.7712 4 14 4Z" fill="#007AFF"/>
                <path d="M10 20H14C17.7712 20 19.6569 20 20.8284 18.8284C22 17.6569 22 15.7712 22 12C22 11.5581 22 11.142 21.9981 10.75H2.00189C2 11.142 2 11.5581 2 12C2 15.7712 2 17.6569 3.17157 18.8284C4.34315 20 6.22876 20 10 20Z" fill="#007AFF"/>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M5.25 16C5.25 15.5858 5.58579 15.25 6 15.25H10C10.4142 15.25 10.75 15.5858 10.75 16C10.75 16.4142 10.4142 16.75 10 16.75H6C5.58579 16.75 5.25 16.4142 5.25 16Z" fill="white"/>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M11.75 16C11.75 15.5858 12.0858 15.25 12.5 15.25H14C14.4142 15.25 14.75 15.5858 14.75 16C14.75 16.4142 14.4142 16.75 14 16.75H12.5C12.0858 16.75 11.75 16.4142 11.75 16Z" fill="white"/>
                </svg>
                 &nbsp;Card</label>
              <ngx-stripe-card-number class="card-number" [options]="cardOptions"></ngx-stripe-card-number>
            </div>

            <div class="form-group  expy-cvvdetails">
              <ngx-stripe-card-expiry  class="form-control" [options]="cardOptions"></ngx-stripe-card-expiry>
              <!-- </div>
            <div class="form-group pb-3"> -->
              <ngx-stripe-card-cvc class="form-control" [options]="cardOptions"></ngx-stripe-card-cvc>
            </div>
              <input type="text" formControlName="email" placeholder="Name on card" class="form-control mt-2"
                id="InputEmail" aria-describedby="emailHelp">
     
            <button type="submit" (click)="pay()" class="btn-payment">
              Confirm Payment
            </button>
          </ngx-stripe-card-group>
        </div>
      </div>
    </section>
  </div>
</main>