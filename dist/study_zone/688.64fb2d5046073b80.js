"use strict";(self.webpackChunkstudy_zone=self.webpackChunkstudy_zone||[]).push([[688],{7688:(Y,c,a)=>{a.r(c),a.d(c,{DashboardModule:()=>I});var l=a(6895),m=a(2998),h=a(9938),w=a(3099),n=a(433),r=a(8256),f=a(3263),g=a(8606),P=a(2510),v=a(4204),F=a(5412);function Z(o,t){1&o&&(r.TgZ(0,"span",21),r._uU(1,"Required"),r.qZA())}function S(o,t){1&o&&(r.TgZ(0,"span",21),r._uU(1,"Required"),r.qZA())}function C(o,t){1&o&&(r.TgZ(0,"span",21),r._uU(1," Password can't contain a blank space."),r.qZA())}function T(o,t){1&o&&(r.TgZ(0,"span",21),r._uU(1,"Password should be min of 8 characters and must include atleast one uppercase, lowercase, number, and a special character. "),r.qZA())}function N(o,t){1&o&&(r.TgZ(0,"span",21),r._uU(1,"Required"),r.qZA())}function U(o,t){1&o&&(r.TgZ(0,"span",21),r._uU(1," Confirm password does not match with New Password."),r.qZA())}function b(o,t){1&o&&(r.TgZ(0,"span",21),r._uU(1,"Please enter a valid New Password first. "),r.qZA())}function A(o,t){1&o&&(r.TgZ(0,"span",21),r._uU(1,"Required"),r.qZA())}let y=(()=>{class o{constructor(e,s,d,i,q,J){this.errorHandlingService=e,this.formBuilder=s,this.apiService=d,this.matcher=i,this.emitter=q,this.alertService=J,this.profileForm=this.formBuilder.group({fullName:["",[n.kI.required]]}),this.changePasswordForm=this.formBuilder.group({password:["",[n.kI.required]],newPassword:["",[n.kI.required,n.kI.pattern(w.c.passwordValidator.pattern),this.noWhitespaceValidator]],confirmPassword:["",[n.kI.required]]}),this.changePasswordForm.controls.newPassword.valueChanges.subscribe(u=>{this.changePasswordForm.controls.newPassword.valid?(this.changePasswordForm.controls.confirmPassword.errors&&delete this.changePasswordForm.controls.confirmPassword.errors["invalid-password"],this.changePasswordForm.controls.newPassword.value!==this.changePasswordForm.controls.confirmPassword.value?this.changePasswordForm.controls.confirmPassword.setErrors({"password-mismatch":!0}):this.changePasswordForm.controls.confirmPassword.errors&&delete this.changePasswordForm.controls.confirmPassword.errors["password-mismatch"],this.changePasswordForm.controls.confirmPassword.errors&&this.changePasswordForm.controls.confirmPassword.setErrors(null)):this.changePasswordForm.controls.confirmPassword.value&&this.changePasswordForm.controls.confirmPassword.setErrors({"invalid-password":!0})}),this.changePasswordForm.controls.confirmPassword.valueChanges.subscribe(u=>{u&&this.changePasswordForm.controls.confirmPassword.valid&&(this.changePasswordForm.controls.newPassword.valid?(this.changePasswordForm.controls.newPassword.value!==this.changePasswordForm.controls.confirmPassword.value?this.changePasswordForm.controls.confirmPassword.setErrors({"password-mismatch":!0}):this.changePasswordForm.controls.confirmPassword.errors&&delete this.changePasswordForm.controls.confirmPassword.errors["password-mismatch"],this.changePasswordForm.controls.confirmPassword.errors&&delete this.changePasswordForm.controls.confirmPassword.errors["invalid-password"]):this.changePasswordForm.controls.confirmPassword.setErrors({"invalid-password":!0}))})}ngOnInit(){this.getUser()}noWhitespaceValidator(e){return(e.value||"").indexOf(" ")>-1?{whitespace:!0}:null}changePassword(){this.changePasswordForm.valid&&(delete this.changePasswordForm.value.confirmPassword,console.log(this.changePasswordForm.value),this.apiService.put(h.d.changePassword,this.changePasswordForm.value).subscribe({next:e=>{console.log(e),this.changePasswordForm.reset(),Object.keys(this.changePasswordForm.controls).forEach(s=>{this.changePasswordForm.get(s)?.setErrors(null)}),this.alertService.notify(e.message)},error:e=>{this.errorHandlingService.handle(e)}}))}getUser(){let e=localStorage.getItem("user"),s=JSON.parse(e+"");this.profileForm.controls.fullName.setValue(s.fullName)}updateProfile(){this.profileForm.valid&&this.apiService.put(h.d.profile,this.profileForm.value).subscribe({next:e=>{console.log(e),this.emitter.profileUpdated(e),this.alertService.notify(e.message)},error:e=>{this.errorHandlingService.handle(e)}})}}return o.\u0275fac=function(e){return new(e||o)(r.Y36(f.r),r.Y36(n.qu),r.Y36(g.a),r.Y36(P.d),r.Y36(v.Y),r.Y36(F.c))},o.\u0275cmp=r.Xpm({type:o,selectors:[["app-settings"]],decls:56,vars:10,consts:[[1,"container"],[1,"row"],[1,"col","py-32"],[1,"p-4","user-settings"],[1,"col"],[1,"form-style"],[1,"form-inline",3,"formGroup","ngSubmit"],["ngForm1","ngForm"],[1,"form-group","pb-3"],["for","InputName"],["type","text","placeholder","Full Name","formControlName","fullName","id","InputName","aria-describedby","fullNameHelp",1,"form-control","mt-2","bg-white"],["class","error",4,"ngIf"],["type","submit",1,"btn","my-3","w-128"],[1,"p-4","mt-4","user-settings"],["ngForm","ngForm"],["for","InputPassword"],["type","password","placeholder","Enter Password","formControlName","newPassword","id","InputPassword","aria-describedby","passwordHelp",1,"form-control","mt-2"],["for","InputConfirmPassword"],["type","password","placeholder","Confirm Password","formControlName","confirmPassword","id","InputConfirmPassword","aria-describedby","confirmPasswordHelp",1,"form-control","mt-2"],["for","InputCurrentPassword"],["type","password","placeholder","Enter Password","formControlName","password","id","InputCurrentPassword","aria-describedby","currentPasswordHelp",1,"form-control","mt-2"],[1,"error"]],template:function(e,s){if(1&e&&(r.TgZ(0,"main")(1,"div",0)(2,"div",1)(3,"div",2)(4,"h2"),r._uU(5,"Settings"),r.qZA()()(),r.TgZ(6,"section",3)(7,"div",1)(8,"div",4)(9,"h5"),r._uU(10,"Profile Settings"),r.qZA(),r.TgZ(11,"p"),r._uU(12,"Change your basic profile information."),r.qZA(),r.TgZ(13,"div",5)(14,"form",6,7),r.NdJ("ngSubmit",function(){return s.updateProfile()}),r.TgZ(16,"div",8)(17,"label",9),r._uU(18,"Full Name"),r.qZA(),r._UZ(19,"input",10),r.YNc(20,Z,2,0,"span",11),r.qZA(),r.TgZ(21,"div")(22,"button",12),r._uU(23,"Update"),r.qZA()()()()()()(),r.TgZ(24,"section",13)(25,"div",1)(26,"div",4)(27,"h5"),r._uU(28,"Password"),r.qZA(),r.TgZ(29,"p"),r._uU(30,"Change your password. Leave this blank to keep your current password."),r.qZA(),r.TgZ(31,"div",5)(32,"form",6,14),r.NdJ("ngSubmit",function(){return s.changePassword()}),r.TgZ(34,"div",8)(35,"label",15),r._uU(36,"New Password"),r.qZA(),r._UZ(37,"input",16),r.YNc(38,S,2,0,"span",11),r.YNc(39,C,2,0,"span",11),r.YNc(40,T,2,0,"span",11),r.qZA(),r.TgZ(41,"div",8)(42,"label",17),r._uU(43,"Confirm New Password"),r.qZA(),r._UZ(44,"input",18),r.YNc(45,N,2,0,"span",11),r.YNc(46,U,2,0,"span",11),r.YNc(47,b,2,0,"span",11),r.qZA(),r.TgZ(48,"div")(49,"div",8)(50,"label",19),r._uU(51,"Current Password"),r.qZA(),r._UZ(52,"input",20),r.YNc(53,A,2,0,"span",11),r.qZA(),r.TgZ(54,"button",12),r._uU(55,"Update"),r.qZA()()()()()()()()()),2&e){const d=r.MAs(15),i=r.MAs(33);r.xp6(14),r.Q6J("formGroup",s.profileForm),r.xp6(6),r.Q6J("ngIf",s.matcher.isErrorState(s.profileForm.controls.fullName,d)&&s.profileForm.controls.fullName.hasError("required")),r.xp6(12),r.Q6J("formGroup",s.changePasswordForm),r.xp6(6),r.Q6J("ngIf",s.matcher.isErrorState(s.changePasswordForm.controls.newPassword,i)&&s.changePasswordForm.controls.newPassword.hasError("required")),r.xp6(1),r.Q6J("ngIf",s.changePasswordForm.controls.newPassword.hasError("whitespace")),r.xp6(1),r.Q6J("ngIf",s.changePasswordForm.controls.newPassword.hasError("pattern")),r.xp6(5),r.Q6J("ngIf",s.matcher.isErrorState(s.changePasswordForm.controls.confirmPassword,i)&&s.changePasswordForm.controls.confirmPassword.hasError("required")),r.xp6(1),r.Q6J("ngIf",s.matcher.isErrorState(s.changePasswordForm.controls.confirmPassword,i)&&s.changePasswordForm.controls.confirmPassword.hasError("password-mismatch")),r.xp6(1),r.Q6J("ngIf",s.matcher.isErrorState(s.changePasswordForm.controls.confirmPassword,i)&&s.changePasswordForm.controls.confirmPassword.hasError("invalid-password")),r.xp6(6),r.Q6J("ngIf",s.matcher.isErrorState(s.changePasswordForm.controls.password,i)&&s.changePasswordForm.controls.password.hasError("required"))}},dependencies:[l.O5,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u]}),o})();var p=a(4507);const E=[{path:"courses",loadChildren:()=>a.e(924).then(a.bind(a,1924)).then(o=>o.CoursesModule),canActivate:[p.a]},{path:"settings",component:y,canActivate:[p.a]},{path:"**",redirectTo:"courses"}];let I=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=r.oAB({type:o}),o.\u0275inj=r.cJS({imports:[m.Bz,m.Bz.forChild(E),l.ez,n.UX]}),o})()}}]);