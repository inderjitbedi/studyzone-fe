var xt=Object.defineProperty,Et=(_e,L,ne)=>L in _e?xt(_e,L,{enumerable:!0,configurable:!0,writable:!0,value:ne}):_e[L]=ne,ze=(_e,L,ne)=>(Et(_e,"symbol"!=typeof L?L+"":L,ne),ne),$e=(_e,L,ne)=>{if(!L.has(_e))throw TypeError("Cannot "+ne)},Pe=(_e,L,ne)=>($e(_e,L,"read from private field"),ne?ne.call(_e):L.get(_e)),Ee=(_e,L,ne)=>{if(L.has(_e))throw TypeError("Cannot add the same private member more than once");L instanceof WeakSet?L.add(_e):L.set(_e,ne)},Fe=(_e,L,ne,f)=>($e(_e,L,"write to private field"),f?f.call(_e,ne):L.set(_e,ne),ne),lt=(_e,L,ne,f)=>({set _(ue){Fe(_e,L,ue,ne)},get _(){return Pe(_e,L,f)}}),xe=(_e,L,ne)=>($e(_e,L,"access private method"),ne);(self.webpackChunkstudy_zone=self.webpackChunkstudy_zone||[]).push([[393],{7393:(_e,L,ne)=>{"use strict";ne.r(L),ne.d(L,{CoursesModule:()=>ye});var f=ne(6895),ue=ne(5243),se=ne(9938),K=ne(2340),n=ne(8256),I=ne(2998),h=ne(8606),C=ne(433),m=ne(3263);function p(q,pe){1&q&&(n.TgZ(0,"span",32),n._uU(1,"Free"),n.qZA())}function a(q,pe){1&q&&(n.TgZ(0,"span",33),n._uU(1,"Paid"),n.qZA())}function b(q,pe){1&q&&(n.TgZ(0,"span",34),n._uU(1,"Private"),n.qZA())}function i(q,pe){if(1&q){const M=n.EpF();n.TgZ(0,"div",20)(1,"div",21),n._UZ(2,"img",22),n.TgZ(3,"div",23)(4,"h5",24),n._uU(5),n.ALo(6,"titlecase"),n.qZA(),n.TgZ(7,"span",25),n._uU(8),n.qZA(),n.TgZ(9,"p",26),n._uU(10),n.qZA(),n.TgZ(11,"div",27),n.YNc(12,p,2,0,"span",28),n.YNc(13,a,2,0,"span",29),n.YNc(14,b,2,0,"span",30),n.TgZ(15,"a",31),n.NdJ("click",function(){const we=n.CHM(M).$implicit,Me=n.oxw();return n.KtG(Me.viewDetails(we))}),n._uU(16,"View Course"),n.qZA()()()()()}if(2&q){const M=pe.$implicit,G=n.oxw();n.xp6(2),n.Q6J("src",null!=M&&null!=M.cover&&M.cover.path?G.baseUrl+(null==M||null==M.cover?null:M.cover.path):"../assets/jillyAcadey.png",n.LSH),n.xp6(3),n.Oqu(n.lcZ(6,7,M.name)),n.xp6(3),n.hij("",M.slideCount," lessons"),n.xp6(2),n.Oqu(M.description||"No description added"),n.xp6(2),n.Q6J("ngIf","public"==M.type),n.xp6(1),n.Q6J("ngIf","paid"==M.type),n.xp6(1),n.Q6J("ngIf","private"==M.type)}}function s(q,pe){if(1&q){const M=n.EpF();n.TgZ(0,"a",31),n.NdJ("click",function(){n.CHM(M);const he=n.oxw();return n.KtG(he.getCourses())}),n._uU(1,"Load more"),n.qZA()}}let u=(()=>{class q{constructor(M,G,he,we){this.router=M,this.apiService=G,this.formBuilder=he,this.errorHandlingService=we,this.baseUrl=K.N.baseUrl,this.apiCallActive=!1,this.courses=[],this.totalCourses=0,this.pagination={page:1,limit:6},this.getCourses(),this.searchForm=this.formBuilder.group({type:[""],searchKey:[""]}),this.searchForm.valueChanges.pipe((0,ue.b)(500)).subscribe({next:Me=>{this.courses=[],this.pagination={page:1,limit:6},this.getCourses()}})}ngOnInit(){}viewDetails(M){this.router.navigate(["/dashboard/courses/course/"+M._id+"/details"])}toQueryString(M){let G="";return Object.keys(M).map((he,we)=>{M[he]&&(G+=0===we?"?":"&",G+=he+"="+M[he])}),G}getCourses(){this.apiCallActive=!0;let{page:M,limit:G}=this.pagination;this.apiService.get(se.d.allCourses+this.toQueryString({page:M,limit:G,...this.searchForm?.value})).subscribe({next:({courses:he,pagination:we,totalCourses:Me})=>{this.apiCallActive=!1,this.courses=[...this.courses,...he],this.pagination.page++,console.log(this.pagination),this.pagination={...this.pagination,...we},this.totalCourses=Me},error:he=>{this.apiCallActive=!1,this.errorHandlingService.handle(he)}})}}return q.\u0275fac=function(M){return new(M||q)(n.Y36(I.F0),n.Y36(h.a),n.Y36(C.qu),n.Y36(m.r))},q.\u0275cmp=n.Xpm({type:q,selectors:[["app-all-courses"]],decls:32,vars:4,consts:[[1,"container"],[1,"row"],[1,"col","py-32"],[1,"col","py-32","form-style","ml-auto"],[1,"form-inline","justify-content-end","align-items-baseline",3,"formGroup"],[1,"form-group"],["formControlName","type",1,"form-control","all-courses"],["value",""],["value","public"],["value","private"],["value","paid"],[1,"form-group","has-search"],[1,"form-control-feedback"],["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12.0835 13.2603L9.08346 10.2603C8.66679 10.5936 8.18762 10.8575 7.64596 11.052C7.10429 11.2464 6.5279 11.3436 5.91679 11.3436C4.4029 11.3436 3.12179 10.8195 2.07346 9.77115C1.02457 8.72226 0.500122 7.44087 0.500122 5.92698C0.500122 4.41309 1.02457 3.1317 2.07346 2.08281C3.12179 1.03448 4.4029 0.510315 5.91679 0.510315C7.43068 0.510315 8.71207 1.03448 9.76096 2.08281C10.8093 3.1317 11.3335 4.41309 11.3335 5.92698C11.3335 6.53809 11.2362 7.11448 11.0418 7.65615C10.8473 8.19781 10.5835 8.67698 10.2501 9.09365L13.271 12.1145C13.4237 12.2673 13.5001 12.4548 13.5001 12.677C13.5001 12.8992 13.4168 13.0936 13.2501 13.2603C13.0973 13.4131 12.9029 13.4895 12.6668 13.4895C12.4307 13.4895 12.2362 13.4131 12.0835 13.2603ZM5.91679 9.67698C6.95846 9.67698 7.84401 9.31254 8.57346 8.58365C9.30234 7.8542 9.66679 6.96865 9.66679 5.92698C9.66679 4.88531 9.30234 3.99976 8.57346 3.27031C7.84401 2.54143 6.95846 2.17698 5.91679 2.17698C4.87512 2.17698 3.98957 2.54143 3.26012 3.27031C2.53123 3.99976 2.16679 4.88531 2.16679 5.92698C2.16679 6.96865 2.53123 7.8542 3.26012 8.58365C3.98957 9.31254 4.87512 9.67698 5.91679 9.67698Z","fill","#92929D"],["type","search","formControlName","searchKey","placeholder","Search course","id","InputPassword",1,"form-control","mt-2"],[1,"col"],["class","col-sm-6 col-md-6 col-lg-4  pt-16 pr-16 pl-0",4,"ngFor","ngForOf"],[1,"row","text-center"],["class","view-course",3,"click",4,"ngIf"],[1,"col-sm-6","col-md-6","col-lg-4","pt-16","pr-16","pl-0"],[1,"card","p-3"],["alt","...",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[1,"lesson"],[1,"card-text"],[1,"d-flex"],["class","badge badge-pill badge-success",4,"ngIf"],["class","badge badge-pill badge-danger",4,"ngIf"],["class","badge badge-pill badge-light",4,"ngIf"],[1,"view-course",3,"click"],[1,"badge","badge-pill","badge-success"],[1,"badge","badge-pill","badge-danger"],[1,"badge","badge-pill","badge-light"]],template:function(M,G){1&M&&(n.TgZ(0,"main")(1,"div",0)(2,"div",1)(3,"div",2)(4,"h2"),n._uU(5,"All Courses"),n.qZA(),n.TgZ(6,"span"),n._uU(7),n.qZA()(),n.TgZ(8,"div",3)(9,"form",4)(10,"div",5)(11,"select",6)(12,"option",7),n._uU(13,"All"),n.qZA(),n.TgZ(14,"option",8),n._uU(15,"Free"),n.qZA(),n.TgZ(16,"option",9),n._uU(17,"Private"),n.qZA(),n.TgZ(18,"option",10),n._uU(19,"Paid"),n.qZA()()(),n.TgZ(20,"div",11)(21,"span",12),n.O4$(),n.TgZ(22,"svg",13),n._UZ(23,"path",14),n.qZA()(),n.kcU(),n._UZ(24,"input",15),n.qZA()()()(),n.TgZ(25,"div",1)(26,"div",16),n._UZ(27,"hr"),n.qZA()(),n.TgZ(28,"div",1),n.YNc(29,i,17,9,"div",17),n.qZA(),n.TgZ(30,"div",18),n.YNc(31,s,2,0,"a",19),n.qZA()()()),2&M&&(n.xp6(7),n.hij("",G.totalCourses," courses"),n.xp6(2),n.Q6J("formGroup",G.searchForm),n.xp6(20),n.Q6J("ngForOf",G.courses),n.xp6(2),n.Q6J("ngIf",G.pagination.totalPages&&G.pagination.totalPages!=G.pagination.currentPage))},dependencies:[f.sg,f.O5,C._Y,C.YN,C.Kr,C.Fj,C.EJ,C.JJ,C.JL,C.sg,C.u,f.rS],styles:[".card-img-top[_ngcontent-%COMP%]{height:213px!important}"]}),q})();var x=ne(7071);function _(q,pe){if(1&q){const M=n.EpF();n.TgZ(0,"div",20),n.NdJ("click",function(){const we=n.CHM(M).$implicit,Me=n.oxw();return n.KtG(Me.viewDetails(we))}),n.TgZ(1,"div",21)(2,"div",1)(3,"div",22),n._UZ(4,"img",23),n.qZA(),n.TgZ(5,"div",16)(6,"div",24)(7,"h5",25),n._uU(8),n.ALo(9,"titlecase"),n.qZA(),n.TgZ(10,"div",26),n._UZ(11,"div",27),n.qZA(),n.TgZ(12,"span",28),n._uU(13),n.qZA()()()()()()}if(2&q){const M=pe.$implicit,G=n.oxw();n.xp6(4),n.Q6J("src",null!=M&&null!=M.course&&null!=M.course.cover&&M.course.cover.path?G.baseUrl+(null==M||null==M.course||null==M.course.cover?null:M.course.cover.path):"../assets/jillyAcadey.png",n.LSH),n.xp6(4),n.Oqu(n.lcZ(9,5,null==M||null==M.course?null:M.course.name)),n.xp6(3),n.Udp("width",M.progress+"%"),n.xp6(2),n.hij("",M.progress,"% Slides Completed")}}function g(q,pe){if(1&q){const M=n.EpF();n.TgZ(0,"a",29),n.NdJ("click",function(){n.CHM(M);const he=n.oxw();return n.KtG(he.getCourses())}),n._uU(1,"Load more"),n.qZA()}}let t=(()=>{class q{constructor(M,G,he,we){this.router=M,this.apiService=G,this.formBuilder=he,this.errorHandlingService=we,this.baseUrl=K.N.baseUrl,this.apiCallActive=!1,this.courses=[],this.totalCourses=0,this.pagination={page:1,limit:6},this.getCourses(),this.searchForm=this.formBuilder.group({type:[""],searchKey:[""]}),this.searchForm.valueChanges.pipe((0,ue.b)(500)).subscribe({next:Me=>{this.courses=[],this.pagination={page:1,limit:6},this.getCourses()}})}toQueryString(M){let G="";return Object.keys(M).map((he,we)=>{M[he]&&(G+=0===we?"?":"&",G+=he+"="+M[he])}),G}ngOnInit(){}viewDetails(M){this.router.navigate([x.g.Pages.MY_COURSE_DETAILS.replace(":id",M.course._id)])}getCourses(){this.apiCallActive=!0;let{page:M,limit:G}=this.pagination;this.apiService.get(se.d.myCourses+this.toQueryString({page:M,limit:G,...this.searchForm?.value})).subscribe({next:({courses:he,pagination:we,totalCourses:Me})=>{this.apiCallActive=!1,this.courses=[...this.courses,...he],this.pagination.page++,this.pagination={...this.pagination,...we},this.totalCourses=Me},error:he=>{this.apiCallActive=!1,this.errorHandlingService.handle(he)}})}}return q.\u0275fac=function(M){return new(M||q)(n.Y36(I.F0),n.Y36(h.a),n.Y36(C.qu),n.Y36(m.r))},q.\u0275cmp=n.Xpm({type:q,selectors:[["app-my-courses"]],decls:32,vars:4,consts:[[1,"container"],[1,"row"],[1,"col","py-32"],[1,"col","py-32","form-style","ml-auto"],[1,"form-inline","justify-content-end","align-items-baseline",3,"formGroup"],[1,"form-group"],["formControlName","type",1,"form-control","all-courses"],["value",""],["value","public"],["value","private"],["value","paid"],[1,"form-group","has-search"],[1,"form-control-feedback"],["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12.0835 13.2603L9.08346 10.2603C8.66679 10.5936 8.18762 10.8575 7.64596 11.052C7.10429 11.2464 6.5279 11.3436 5.91679 11.3436C4.4029 11.3436 3.12179 10.8195 2.07346 9.77115C1.02457 8.72226 0.500122 7.44087 0.500122 5.92698C0.500122 4.41309 1.02457 3.1317 2.07346 2.08281C3.12179 1.03448 4.4029 0.510315 5.91679 0.510315C7.43068 0.510315 8.71207 1.03448 9.76096 2.08281C10.8093 3.1317 11.3335 4.41309 11.3335 5.92698C11.3335 6.53809 11.2362 7.11448 11.0418 7.65615C10.8473 8.19781 10.5835 8.67698 10.2501 9.09365L13.271 12.1145C13.4237 12.2673 13.5001 12.4548 13.5001 12.677C13.5001 12.8992 13.4168 13.0936 13.2501 13.2603C13.0973 13.4131 12.9029 13.4895 12.6668 13.4895C12.4307 13.4895 12.2362 13.4131 12.0835 13.2603ZM5.91679 9.67698C6.95846 9.67698 7.84401 9.31254 8.57346 8.58365C9.30234 7.8542 9.66679 6.96865 9.66679 5.92698C9.66679 4.88531 9.30234 3.99976 8.57346 3.27031C7.84401 2.54143 6.95846 2.17698 5.91679 2.17698C4.87512 2.17698 3.98957 2.54143 3.26012 3.27031C2.53123 3.99976 2.16679 4.88531 2.16679 5.92698C2.16679 6.96865 2.53123 7.8542 3.26012 8.58365C3.98957 9.31254 4.87512 9.67698 5.91679 9.67698Z","fill","#92929D"],["type","search","formControlName","searchKey","placeholder","Search course","id","InputPassword",1,"form-control","mt-2"],[1,"col"],["class","col-sm-6 col-md-6 col-lg-4 mb-3 cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"row","text-center"],["class","view-course",3,"click",4,"ngIf"],[1,"col-sm-6","col-md-6","col-lg-4","mb-3","cursor-pointer",3,"click"],[1,"card","p-3","my-courses"],[1,"col-4"],["alt","...",1,"card-img-top",3,"src"],[1,"course-in-progress"],[1,"card-title"],[1,"progress"],["role","progressbar","aria-valuenow","45","aria-valuemin","0","aria-valuemax","100",1,"progress-bar"],[1,"lesson"],[1,"view-course",3,"click"]],template:function(M,G){1&M&&(n.TgZ(0,"main")(1,"div",0)(2,"div",1)(3,"div",2)(4,"h2"),n._uU(5,"My Courses"),n.qZA(),n.TgZ(6,"span"),n._uU(7),n.qZA()(),n.TgZ(8,"div",3)(9,"form",4)(10,"div",5)(11,"select",6)(12,"option",7),n._uU(13,"All"),n.qZA(),n.TgZ(14,"option",8),n._uU(15,"Free"),n.qZA(),n.TgZ(16,"option",9),n._uU(17,"Private"),n.qZA(),n.TgZ(18,"option",10),n._uU(19,"Paid"),n.qZA()()(),n.TgZ(20,"div",11)(21,"span",12),n.O4$(),n.TgZ(22,"svg",13),n._UZ(23,"path",14),n.qZA()(),n.kcU(),n._UZ(24,"input",15),n.qZA()()()(),n.TgZ(25,"div",1)(26,"div",16),n._UZ(27,"hr"),n.qZA()(),n.TgZ(28,"div",1),n.YNc(29,_,14,7,"div",17),n.qZA(),n.TgZ(30,"div",18),n.YNc(31,g,2,0,"a",19),n.qZA()()()),2&M&&(n.xp6(7),n.hij("",G.totalCourses||0," courses"),n.xp6(2),n.Q6J("formGroup",G.searchForm),n.xp6(20),n.Q6J("ngForOf",G.courses),n.xp6(2),n.Q6J("ngIf",G.pagination.totalPages&&G.pagination.totalPages!=G.pagination.currentPage))},dependencies:[f.sg,f.O5,C._Y,C.YN,C.Kr,C.Fj,C.EJ,C.JJ,C.JL,C.sg,C.u,f.rS],styles:[".card-img-top[_ngcontent-%COMP%]{height:76px!important}"]}),q})();function r(q,pe){1&q&&(n.TgZ(0,"span",21),n._uU(1,"Free"),n.qZA())}function y(q,pe){1&q&&(n.TgZ(0,"span",22),n._uU(1,"Paid"),n.qZA())}function A(q,pe){1&q&&(n.TgZ(0,"span",23),n._uU(1,"Private"),n.qZA())}function v(q,pe){if(1&q){const M=n.EpF();n.TgZ(0,"button",24),n.NdJ("click",function(){n.CHM(M);const he=n.oxw();return n.KtG(he.requestEnrollment())}),n._uU(1," Enroll Me "),n.qZA()}}function k(q,pe){if(1&q){const M=n.EpF();n.TgZ(0,"button",24),n.NdJ("click",function(){n.CHM(M);const he=n.oxw();return n.KtG(he.enrollCourse())}),n._uU(1,"Start Course"),n.qZA()}}function R(q,pe){1&q&&(n.TgZ(0,"i",25),n._uU(1,"Requested."),n.qZA())}function F(q,pe){1&q&&(n.TgZ(0,"i",25),n._uU(1,"Sorry, unfortunately your enollment request have been declined by the Administrator."),n.qZA())}function B(q,pe){if(1&q){const M=n.EpF();n.TgZ(0,"button",24),n.NdJ("click",function(){n.CHM(M);const he=n.oxw();return n.KtG(he.resumeCourse())}),n._uU(1,"Resume"),n.qZA()}}let z=(()=>{class q{constructor(M,G,he,we){this.router=M,this.activeRoute=G,this.apiService=he,this.errorHandlingService=we,this.baseUrl=K.N.baseUrl,this.apiCallActive=!1,this.activeRoute.params.subscribe({next:Me=>{this.selectedCourseId=Me.id,this.getCourseDetails()}})}ngOnInit(){}back(){this.router.navigate(["/dashboard/courses/all-courses"])}getCourseDetails(){this.apiCallActive=!0,this.apiService.get(se.d.getCourseDetails.replace(":id",this.selectedCourseId)).subscribe({next:M=>{this.apiCallActive=!1,this.courseDetails=M.course},error:M=>{this.apiCallActive=!1,this.errorHandlingService.handle(M)}})}requestEnrollment(){"pending"!=this.courseDetails.enrollemtStatus&&(this.apiCallActive=!0,this.apiService.post(se.d.requestEnrollment.replace(":id",this.selectedCourseId),{}).subscribe({next:M=>{this.apiCallActive=!1,this.getCourseDetails()},error:M=>{this.apiCallActive=!1,this.errorHandlingService.handle(M)}}))}resumeCourse(){this.router.navigate([x.g.Pages.MY_COURSE_DETAILS.replace(":id",this.selectedCourseId)])}enrollCourse(){this.apiCallActive=!0,this.apiService.post(se.d.enrollCourse.replace(":id",this.selectedCourseId),{}).subscribe({next:M=>{this.apiCallActive=!1,this.router.navigate([x.g.Pages.MY_COURSE_DETAILS.replace(":id",M.enrollment.course)])},error:M=>{this.apiCallActive=!1,this.errorHandlingService.handle(M)}})}}return q.\u0275fac=function(M){return new(M||q)(n.Y36(I.F0),n.Y36(I.gz),n.Y36(h.a),n.Y36(m.r))},q.\u0275cmp=n.Xpm({type:q,selectors:[["app-course-detail"]],decls:38,vars:16,consts:[[1,"container"],[1,"row"],[1,"col"],["aria-label","breadcrumb"],[1,"back-button",3,"click"],["width","7","height","12","viewBox","0 0 7 15","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M5.38247 10.9393L0.723485 6.37992C0.668185 6.32564 0.629107 6.26684 0.60625 6.20352C0.583024 6.14019 0.571411 6.07234 0.571411 5.99997C0.571411 5.9276 0.583024 5.85976 0.60625 5.79643C0.629107 5.73311 0.668185 5.6743 0.723485 5.62003L5.38247 1.04709C5.5115 0.920441 5.67279 0.857117 5.86634 0.857117C6.05989 0.857117 6.22579 0.924964 6.36404 1.06066C6.50229 1.19636 6.57141 1.35467 6.57141 1.53559C6.57141 1.71652 6.50229 1.87483 6.36404 2.01053L2.29952 5.99997L6.36404 9.98942C6.49307 10.1161 6.55759 10.272 6.55759 10.4573C6.55759 10.6429 6.48846 10.8036 6.35021 10.9393C6.21196 11.075 6.05067 11.1428 5.86634 11.1428C5.68201 11.1428 5.52072 11.075 5.38247 10.9393Z","fill","#3F3F3F"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"click"],["aria-current","page",1,"breadcrumb-item","active"],[1,"card-body"],[1,"card-title"],[1,"lesson"],[1,"d-flex"],["class","badge badge-pill badge-success",4,"ngIf"],["class","badge badge-pill badge-danger",4,"ngIf"],["class","badge badge-pill badge-light",4,"ngIf"],["class","btn enroll-btn",3,"click",4,"ngIf"],["class","badge-danger",4,"ngIf"],["alt","...",1,"card-img-top",3,"src"],[1,"badge","badge-pill","badge-success"],[1,"badge","badge-pill","badge-danger"],[1,"badge","badge-pill","badge-light"],[1,"btn","enroll-btn",3,"click"],[1,"badge-danger"]],template:function(M,G){1&M&&(n.TgZ(0,"main")(1,"div",0)(2,"div",1)(3,"div",2)(4,"nav",3)(5,"a",4),n.NdJ("click",function(){return G.back()}),n.O4$(),n.TgZ(6,"svg",5),n._UZ(7,"path",6),n.qZA(),n._uU(8,"\xa0 Back "),n.qZA(),n.kcU(),n.TgZ(9,"ol",7)(10,"li",8)(11,"a",9),n.NdJ("click",function(){return G.back()}),n._uU(12,"All Courses"),n.qZA()(),n.TgZ(13,"li",10),n._uU(14),n.ALo(15,"titlecase"),n.qZA()()()()(),n.TgZ(16,"section")(17,"div",1)(18,"div",2)(19,"div",11)(20,"h3",12),n._uU(21),n.ALo(22,"titlecase"),n.qZA(),n.TgZ(23,"span",13),n._uU(24,"16 Modules Completed"),n.qZA(),n.TgZ(25,"div",14),n.YNc(26,r,2,0,"span",15),n.YNc(27,y,2,0,"span",16),n.YNc(28,A,2,0,"span",17),n.qZA(),n.TgZ(29,"p"),n._uU(30),n.qZA(),n.YNc(31,v,2,0,"button",18),n.YNc(32,k,2,0,"button",18),n.YNc(33,R,2,0,"i",19),n.YNc(34,F,2,0,"i",19),n.YNc(35,B,2,0,"button",18),n.qZA()(),n.TgZ(36,"div",2),n._UZ(37,"img",20),n.qZA()()()()()),2&M&&(n.xp6(14),n.Oqu(n.lcZ(15,12,G.courseDetails.name)),n.xp6(7),n.Oqu(n.lcZ(22,14,G.courseDetails.name)),n.xp6(5),n.Q6J("ngIf","public"==G.courseDetails.type),n.xp6(1),n.Q6J("ngIf","paid"==G.courseDetails.type),n.xp6(1),n.Q6J("ngIf","private"==G.courseDetails.type),n.xp6(2),n.Oqu(G.courseDetails.description||"No description added"),n.xp6(1),n.Q6J("ngIf","paid"==G.courseDetails.type&&"not_enrolled"==G.courseDetails.enrollmentStatus),n.xp6(1),n.Q6J("ngIf",!G.courseDetails.hasAlreadyStarted&&"public"==G.courseDetails.type),n.xp6(1),n.Q6J("ngIf","paid"==G.courseDetails.type&&"pending"==G.courseDetails.enrollmentStatus),n.xp6(1),n.Q6J("ngIf","paid"==G.courseDetails.type&&"declined"==G.courseDetails.enrollmentStatus),n.xp6(1),n.Q6J("ngIf",G.courseDetails.hasAlreadyStarted||"private"==G.courseDetails.type||"paid"==G.courseDetails.type&&"accepted"==G.courseDetails.enrollmentStatus),n.xp6(2),n.Q6J("src",null!=G.courseDetails&&null!=G.courseDetails.cover&&G.courseDetails.cover.path?G.baseUrl+(null==G.courseDetails||null==G.courseDetails.cover?null:G.courseDetails.cover.path):"../assets/jillyAcadey.png",n.LSH))},dependencies:[f.O5,f.rS]}),q})();var Z=ne(8421),te=ne(9751),U=ne(5577),Y=ne(1144),$=ne(576),re=ne(3268);const le=["addListener","removeListener"],T=["addEventListener","removeEventListener"],o=["on","off"];function l(q,pe,M,G){if((0,$.m)(M)&&(G=M,M=void 0),G)return l(q,pe,M).pipe((0,re.Z)(G));const[he,we]=function w(q){return(0,$.m)(q.addEventListener)&&(0,$.m)(q.removeEventListener)}(q)?T.map(Me=>ke=>q[Me](pe,ke,M)):function c(q){return(0,$.m)(q.addListener)&&(0,$.m)(q.removeListener)}(q)?le.map(e(q,pe)):function d(q){return(0,$.m)(q.on)&&(0,$.m)(q.off)}(q)?o.map(e(q,pe)):[];if(!he&&(0,Y.z)(q))return(0,U.z)(Me=>l(Me,pe,M))((0,Z.Xf)(q));if(!he)throw new TypeError("Invalid event target");return new te.y(Me=>{const ke=(...Oe)=>Me.next(1<Oe.length?Oe:Oe[0]);return he(ke),()=>we(ke)})}function e(q,pe){return M=>G=>q[M](pe,G)}var P=ne(7579),E=ne(2076),V=ne(4482),W=ne(5403),j=ne(5032);function H(q){return(0,V.e)((pe,M)=>{(0,Z.Xf)(q).subscribe((0,W.x)(M,()=>M.complete(),j.Z)),!M.closed&&pe.subscribe(M)})}var Q=ne(9300),ee=ne(6036),fe=ne.t(ee,2),Ce=ne(2813),J=ne.t(Ce,2);const oe=["pdfViewerContainer"];function N(q,pe,M){q[pe]=M}function X(){return typeof window>"u"}X()||N(fe,"verbosity",ee.VerbosityLevel.INFOS);var Ae=(()=>{return(q=Ae||(Ae={}))[q.DISABLED=0]="DISABLED",q[q.ENABLED=1]="ENABLED",q[q.ENHANCED=2]="ENHANCED",Ae;var q})();let me=(()=>{class q{constructor(M,G){if(this.element=M,this.ngZone=G,this.isVisible=!1,this._cMapsUrl=typeof fe<"u"?`https://unpkg.com/pdfjs-dist@${ee.version}/cmaps/`:null,this._imageResourcesPath=typeof fe<"u"?`https://unpkg.com/pdfjs-dist@${ee.version}/web/images/`:null,this._renderText=!0,this._renderTextMode=Ae.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new P.x,this.afterLoadComplete=new n.vpe,this.pageRendered=new n.vpe,this.pageInitialized=new n.vpe,this.textLayerRendered=new n.vpe,this.onError=new n.vpe,this.onProgress=new n.vpe,this.pageChange=new n.vpe(!0),X())return;let he;const we=ee.version;he=window[`pdfWorkerSrc${we}`]||(window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${we}/legacy/build/pdf.worker.min.js`),N(ee.GlobalWorkerOptions,"workerSrc",he)}set cMapsUrl(M){this._cMapsUrl=M}set page(M){const G=M=parseInt(M,10)||1;this._pdf&&(M=this.getValidPageNumber(M)),this._page=M,G!==M&&this.pageChange.emit(M)}set renderText(M){this._renderText=M}set renderTextMode(M){this._renderTextMode=M}set originalSize(M){this._originalSize=M}set showAll(M){this._showAll=M}set stickToPage(M){this._stickToPage=M}set zoom(M){M<=0||(this._zoom=M)}get zoom(){return this._zoom}set zoomScale(M){this._zoomScale=M}get zoomScale(){return this._zoomScale}set rotation(M){"number"==typeof M&&M%90==0?this._rotation=M:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(M){this._externalLinkTarget=M}set autoresize(M){this._canAutoResize=Boolean(M)}set fitToPage(M){this._fitToPage=Boolean(M)}set showBorders(M){this._showBorders=Boolean(M)}static getLinkTarget(M){switch(M){case"blank":return Ce.LinkTarget.BLANK;case"none":return Ce.LinkTarget.NONE;case"self":return Ce.LinkTarget.SELF;case"parent":return Ce.LinkTarget.PARENT;case"top":return Ce.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const M=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=M?!1===this.isVisible&&null!=M&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(M){if(!X()&&this.isVisible)if("src"in M)this.loadPDF();else if(this._pdf){if("renderText"in M?(this.pdfViewer.textLayerMode=this._renderText?this._renderTextMode:Ae.DISABLED,this.resetPdfDocument()):"showAll"in M&&(this.setupViewer(),this.resetPdfDocument()),"page"in M){const{page:G}=M;if(G.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){(0,E.D)(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe(H(this.destroy$)).subscribe({next:M=>{const G=this._rotation+M.rotate,he=M.getViewport({scale:this._zoom,rotation:G}).width*q.CSS_UNITS;let we=this._zoom,Me=!0;if(!this._originalSize||this._fitToPage&&he>this.pdfViewerContainer.nativeElement.clientWidth){const ke=M.getViewport({scale:1,rotation:G});we=this.getScale(ke.width,ke.height),Me=!this._stickToPage}this.pdfViewer._setScale(we,Me)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._latestScrolledPage=0,this._pdf.destroy(),this._pdf=null,this.pdfViewer.setDocument(null),this.pdfLinkService.setDocument(null,null),this.pdfFindController.setDocument(null))}getPDFLinkServiceConfig(){const M=q.getLinkTarget(this._externalLinkTarget);return M?{externalLinkTarget:M}:{}}initEventBus(){this.eventBus=function ae(q,pe){const M=new q.EventBus;return function S(q,pe){l(q,"documentload").pipe(H(pe)).subscribe(()=>{const M=document.createEvent("CustomEvent");M.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(M)}),l(q,"pagerendered").pipe(H(pe)).subscribe(({pageNumber:M,cssTransform:G,source:he})=>{const we=document.createEvent("CustomEvent");we.initCustomEvent("pagerendered",!0,!0,{pageNumber:M,cssTransform:G}),he.div.dispatchEvent(we)}),l(q,"textlayerrendered").pipe(H(pe)).subscribe(({pageNumber:M,source:G})=>{const he=document.createEvent("CustomEvent");he.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:M}),G.textLayerDiv.dispatchEvent(he)}),l(q,"pagechanging").pipe(H(pe)).subscribe(({pageNumber:M,source:G})=>{const he=document.createEvent("UIEvents");he.initEvent("pagechanging",!0,!0),he.pageNumber=M,G.container.dispatchEvent(he)}),l(q,"pagesinit").pipe(H(pe)).subscribe(({source:M})=>{const G=document.createEvent("CustomEvent");G.initCustomEvent("pagesinit",!0,!0,null),M.container.dispatchEvent(G)}),l(q,"pagesloaded").pipe(H(pe)).subscribe(({pagesCount:M,source:G})=>{const he=document.createEvent("CustomEvent");he.initCustomEvent("pagesloaded",!0,!0,{pagesCount:M}),G.container.dispatchEvent(he)}),l(q,"scalechange").pipe(H(pe)).subscribe(({scale:M,presetValue:G,source:he})=>{const we=document.createEvent("UIEvents");we.initEvent("scalechange",!0,!0),we.scale=M,we.presetValue=G,he.container.dispatchEvent(we)}),l(q,"updateviewarea").pipe(H(pe)).subscribe(({location:M,source:G})=>{const he=document.createEvent("UIEvents");he.initEvent("updateviewarea",!0,!0),he.location=M,G.container.dispatchEvent(he)}),l(q,"find").pipe(H(pe)).subscribe(({source:M,type:G,query:he,phraseSearch:we,caseSensitive:Me,highlightAll:ke,findPrevious:Oe})=>{if(M===window)return;const De=document.createEvent("CustomEvent");De.initCustomEvent("find"+G,!0,!0,{query:he,phraseSearch:we,caseSensitive:Me,highlightAll:ke,findPrevious:Oe}),window.dispatchEvent(De)}),l(q,"attachmentsloaded").pipe(H(pe)).subscribe(({attachmentsCount:M,source:G})=>{const he=document.createEvent("CustomEvent");he.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:M}),G.container.dispatchEvent(he)}),l(q,"sidebarviewchanged").pipe(H(pe)).subscribe(({view:M,source:G})=>{const he=document.createEvent("CustomEvent");he.initCustomEvent("sidebarviewchanged",!0,!0,{view:M}),G.outerContainer.dispatchEvent(he)}),l(q,"pagemode").pipe(H(pe)).subscribe(({mode:M,source:G})=>{const he=document.createEvent("CustomEvent");he.initCustomEvent("pagemode",!0,!0,{mode:M}),G.pdfViewer.container.dispatchEvent(he)}),l(q,"namedaction").pipe(H(pe)).subscribe(({action:M,source:G})=>{const he=document.createEvent("CustomEvent");he.initCustomEvent("namedaction",!0,!0,{action:M}),G.pdfViewer.container.dispatchEvent(he)}),l(q,"presentationmodechanged").pipe(H(pe)).subscribe(({active:M,switchInProgress:G})=>{const he=document.createEvent("CustomEvent");he.initCustomEvent("presentationmodechanged",!0,!0,{active:M,switchInProgress:G}),window.dispatchEvent(he)}),l(q,"outlineloaded").pipe(H(pe)).subscribe(({outlineCount:M,source:G})=>{const he=document.createEvent("CustomEvent");he.initCustomEvent("outlineloaded",!0,!0,{outlineCount:M}),G.container.dispatchEvent(he)})}(M,pe),M}(J,this.destroy$),l(this.eventBus,"pagerendered").pipe(H(this.destroy$)).subscribe(M=>{this.pageRendered.emit(M)}),l(this.eventBus,"pagesinit").pipe(H(this.destroy$)).subscribe(M=>{this.pageInitialized.emit(M)}),l(this.eventBus,"pagechanging").pipe(H(this.destroy$)).subscribe(({pageNumber:M})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=M,this.pageChange.emit(M)},100)}),l(this.eventBus,"textlayerrendered").pipe(H(this.destroy$)).subscribe(M=>{this.textLayerRendered.emit(M)})}initPDFServices(){this.pdfLinkService=new Ce.PDFLinkService({eventBus:this.eventBus,...this.getPDFLinkServiceConfig()}),this.pdfFindController=new Ce.PDFFindController({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:Ae.DISABLED,findController:this.pdfFindController,renderer:"canvas",l10n:void 0,imageResourcesPath:this._imageResourcesPath}}setupViewer(){N(fe,"disableTextLayer",!this._renderText),this.initPDFServices(),this.pdfViewer=this._showAll?new Ce.PDFViewer(this.getPDFOptions()):new Ce.PDFSinglePageViewer(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(M){return M<1?1:M>this._pdf.numPages?this._pdf.numPages:M}getDocumentParams(){const M=typeof this.src;if(!this._cMapsUrl)return this.src;const G={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0};return"string"===M?G.url=this.src:"object"===M&&(void 0!==this.src.byteLength?G.data=this.src:Object.assign(G,this.src)),G}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.setupViewer(),this.loadingTask=ee.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=G=>{this.onProgress.emit(G)};const M=this.src;(0,E.D)(this.loadingTask.promise).pipe(H(this.destroy$)).subscribe({next:G=>{this._pdf=G,this.lastLoaded=M,this.afterLoadComplete.emit(G),this.resetPdfDocument(),this.update()},error:G=>{this.lastLoaded=null,this.onError.emit(G)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page),(0!==this._rotation||this.pdfViewer.pagesRotation!==this._rotation)&&setTimeout(()=>{this.pdfViewer.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.updateSize()}getScale(M,G){const he=this._showBorders?2*q.BORDER_WIDTH:0,we=this.pdfViewerContainer.nativeElement.clientWidth-he,Me=this.pdfViewerContainer.nativeElement.clientHeight-he;if(0===Me||0===G||0===we||0===M)return 1;let ke=1;switch(this._zoomScale){case"page-fit":ke=Math.min(Me/G,we/M);break;case"page-height":ke=Me/G;break;default:ke=we/M}return this._zoom*ke/q.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){X()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){X()||this.ngZone.runOutsideAngular(()=>{l(window,"resize").pipe((0,ue.b)(100),(0,Q.h)(()=>this._canAutoResize&&!!this._pdf),H(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return q.CSS_UNITS=96/72,q.BORDER_WIDTH=9,q.\u0275fac=function(M){return new(M||q)(n.Y36(n.SBq),n.Y36(n.R0b))},q.\u0275cmp=n.Xpm({type:q,selectors:[["pdf-viewer"]],viewQuery:function(M,G){if(1&M&&n.Gf(oe,5),2&M){let he;n.iGM(he=n.CRH())&&(G.pdfViewerContainer=he.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[n.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(M,G){1&M&&(n.TgZ(0,"div",0,1),n._UZ(2,"div",2),n.qZA())},styles:[".ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--zoom-factor: 1;--viewport-scale-factor: 1;--shadow: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=);--viewer-container-height: 0;--annotation-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\");--xfa-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\")}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 9px auto 0;--page-border: none;--spreadHorizontalWrapped-margin-LR: 4.5px}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:blue}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{position:relative;top:0;left:0;z-index:-1}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:yellow;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:\"\";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid #333333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:blue}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-feature-settings:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-feature-settings:\"kern\" off;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:1px;text-overflow:\"\"}}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);background-clip:content-box;border-image:var(--shadow) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}"]}),q})(),ge=(()=>{class q{}return q.\u0275fac=function(M){return new(M||q)},q.\u0275mod=n.oAB({type:q}),q.\u0275inj=n.cJS({}),q})();function Se(q,pe){if(1&q){const M=n.EpF();n.TgZ(0,"a",23),n.NdJ("click",function(){n.CHM(M);const he=n.oxw();return n.KtG(he.nextSlide())}),n._uU(1,"Next \xa0 "),n.O4$(),n.TgZ(2,"svg",24),n._UZ(3,"path",25),n.qZA()()}}function ve(q,pe){1&q&&(n.O4$(),n.TgZ(0,"svg",13),n._UZ(1,"path",32),n.qZA())}function Te(q,pe){1&q&&(n.O4$(),n.TgZ(0,"svg",13),n._UZ(1,"circle",33),n.qZA())}function Le(q,pe){1&q&&n._UZ(0,"div",34)}function Re(q,pe){if(1&q){const M=n.EpF();n.TgZ(0,"div",26)(1,"div",27)(2,"div",28),n.YNc(3,ve,2,0,"svg",29),n.YNc(4,Te,2,0,"svg",29),n._uU(5," \xa0 "),n.qZA(),n.YNc(6,Le,1,0,"div",30),n.qZA(),n.TgZ(7,"div",31),n.NdJ("click",function(){const we=n.CHM(M).$implicit,Me=n.oxw();return n.KtG(Me.getSlideDetails(we))}),n._uU(8),n.ALo(9,"titlecase"),n.qZA()()}if(2&q){const M=pe.$implicit,G=pe.index,he=n.oxw();n.xp6(3),n.Q6J("ngIf",M.isCompleted),n.xp6(1),n.Q6J("ngIf",!M.isCompleted),n.xp6(2),n.Q6J("ngIf",G+1<he.slides.length),n.xp6(1),n.ekj("active",he.selectedSlideId==M._id),n.xp6(1),n.hij(" ",n.lcZ(9,6,null==M?null:M.name)," ")}}function ie(q,pe){if(1&q&&(n.TgZ(0,"video",35),n._UZ(1,"source",36),n._uU(2," Your browser does not support the video tag. "),n.qZA()),2&q){const M=n.oxw();n.xp6(1),n.Q6J("src",M.baseUrl+(null==M.slideDetails||null==M.slideDetails.file?null:M.slideDetails.file.path),n.LSH)}}function O(q,pe){if(1&q&&(n.TgZ(0,"audio",37),n._UZ(1,"source",38),n._uU(2," Sorry, your browser does not support the audio element. "),n.qZA()),2&q){const M=n.oxw();n.xp6(1),n.Q6J("src",M.baseUrl+(null==M.slideDetails||null==M.slideDetails.file?null:M.slideDetails.file.path),n.LSH)}}function D(q,pe){if(1&q&&(n.TgZ(0,"p"),n._uU(1),n.qZA()),2&q){const M=n.oxw();n.xp6(1),n.Oqu(null==M.slideDetails?null:M.slideDetails.text)}}function ce(q,pe){if(1&q&&n._UZ(0,"pdf-viewer",39),2&q){const M=n.oxw();n.Q6J("src",M.baseUrl+(null==M.slideDetails||null==M.slideDetails.file?null:M.slideDetails.file.path))("render-text",!0)("original-size",!1)}}let de=(()=>{class q{constructor(M,G,he,we,Me){this.router=M,this.activeRoute=G,this.apiService=he,this.errorHandlingService=we,this._location=Me,this.baseUrl=K.N.baseUrl,this.pdfSrc="https://vadimdez.github.io/ng2-pdf-viewer/assets/pdf-test.pdf",this.apiCallActive=!1,this.slides=[],this.slideDetails={},this.activeRoute.params.subscribe({next:ke=>{this.selectedCourseId=ke.id,this.getCourseDetails()}})}ngOnInit(){}back(){this.router.navigate(["/dashboard/courses/my-courses"])}getCourseDetails(){this.apiCallActive=!0,this.apiService.get(se.d.getMyCourseDetails.replace(":id",this.selectedCourseId)).subscribe({next:M=>{this.apiCallActive=!1,this.courseDetails=M.courseDetails,this.getProgress(),this.slides=M.slides},error:M=>{this.apiCallActive=!1,this.errorHandlingService.handle(M)}})}getSlideDetails(M){this.apiCallActive=!0,this.apiService.get(se.d.getSlideDetails.replace(":id",this.selectedCourseId).replace(":slideid",M._id)).subscribe({next:G=>{this.apiCallActive=!1,this.slideDetails=G.slide,console.log(this.slideDetails),this.selectedSlideId=this.slideDetails._id,this._location.go(x.g.Pages.SLIDE_DETAILS.replace(":id",this.selectedCourseId).replace(":slideid",this.selectedSlideId)),console.log(this.slideDetails.name," = getSlideDetails:isCompleted = ",this.slideDetails.isCompleted),this.slideDetails.isCompleted||this.markProgress(this.slideDetails)},error:G=>{this.apiCallActive=!1,this.errorHandlingService.handle(G)}})}markProgress(M,G=!1){this.apiService.post(se.d.markProgress.replace(":id",this.selectedCourseId).replace(":slideid",M._id),{isCompleted:G}).subscribe({next:he=>{console.log(M.name," = markProgress:isCompleted = ",he.progress.isCompleted),this.slides[M.position-1].isCompleted=he.progress.isCompleted},error:he=>{this.errorHandlingService.handle(he)}})}getProgress(){this.apiService.get(se.d.getProgress.replace(":id",this.selectedCourseId)).subscribe({next:({progress:M})=>{this.progress=M;let G=M[0]?M[0].slide:this.slides[0];this.getSlideDetails(G),this.selectedSlideId=G._id,this._location.go(x.g.Pages.SLIDE_DETAILS.replace(":id",this.selectedCourseId).replace(":slideid",this.selectedSlideId))},error:M=>{this.errorHandlingService.handle(M)}})}nextSlide(){let M=this.slides.filter(G=>this.slideDetails.position+1==G.position)[0];M&&(this.markProgress(this.slideDetails,!0),this.getSlideDetails(M))}}return q.\u0275fac=function(M){return new(M||q)(n.Y36(I.F0),n.Y36(I.gz),n.Y36(h.a),n.Y36(m.r),n.Y36(f.Ye))},q.\u0275cmp=n.Xpm({type:q,selectors:[["app-my-courses-details"]],decls:36,vars:14,consts:[[1,"container"],[1,"row"],[1,"col"],["aria-label","breadcrumb"],[1,"back-button",3,"click"],["width","7","height","12","viewBox","0 0 7 15","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M5.38247 10.9393L0.723485 6.37992C0.668185 6.32564 0.629107 6.26684 0.60625 6.20352C0.583024 6.14019 0.571411 6.07234 0.571411 5.99997C0.571411 5.9276 0.583024 5.85976 0.60625 5.79643C0.629107 5.73311 0.668185 5.6743 0.723485 5.62003L5.38247 1.04709C5.5115 0.920441 5.67279 0.857117 5.86634 0.857117C6.05989 0.857117 6.22579 0.924964 6.36404 1.06066C6.50229 1.19636 6.57141 1.35467 6.57141 1.53559C6.57141 1.71652 6.50229 1.87483 6.36404 2.01053L2.29952 5.99997L6.36404 9.98942C6.49307 10.1161 6.55759 10.272 6.55759 10.4573C6.55759 10.6429 6.48846 10.8036 6.35021 10.9393C6.21196 11.075 6.05067 11.1428 5.86634 11.1428C5.68201 11.1428 5.52072 11.075 5.38247 10.9393Z","fill","#3F3F3F"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"click"],["aria-current","page",1,"breadcrumb-item","active"],["class","back-button ml-auto",3,"click",4,"ngIf"],[1,"download"],["width","16","height","16","viewBox","0 0 16 16","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8 11.575C7.86667 11.575 7.74167 11.554 7.625 11.512C7.50833 11.4707 7.4 11.4 7.3 11.3L3.7 7.7C3.51667 7.51667 3.425 7.28333 3.425 7C3.425 6.71667 3.51667 6.48333 3.7 6.3C3.88333 6.11667 4.12067 6.02067 4.412 6.012C4.704 6.004 4.94167 6.09167 5.125 6.275L7 8.15V1C7 0.716667 7.096 0.479 7.288 0.287C7.47933 0.0956668 7.71667 0 8 0C8.28333 0 8.521 0.0956668 8.713 0.287C8.90433 0.479 9 0.716667 9 1V8.15L10.875 6.275C11.0583 6.09167 11.296 6.004 11.588 6.012C11.8793 6.02067 12.1167 6.11667 12.3 6.3C12.4833 6.48333 12.575 6.71667 12.575 7C12.575 7.28333 12.4833 7.51667 12.3 7.7L8.7 11.3C8.6 11.4 8.49167 11.4707 8.375 11.512C8.25833 11.554 8.13333 11.575 8 11.575ZM2 16C1.45 16 0.979333 15.8043 0.588 15.413C0.196 15.021 0 14.55 0 14V12C0 11.7167 0.0956668 11.479 0.287 11.287C0.479 11.0957 0.716667 11 1 11C1.28333 11 1.521 11.0957 1.713 11.287C1.90433 11.479 2 11.7167 2 12V14H14V12C14 11.7167 14.096 11.479 14.288 11.287C14.4793 11.0957 14.7167 11 15 11C15.2833 11 15.5207 11.0957 15.712 11.287C15.904 11.479 16 11.7167 16 12V14C16 14.55 15.8043 15.021 15.413 15.413C15.021 15.8043 14.55 16 14 16H2Z","fill","#3F3F3F"],[1,"p-0","bg-gray","mt-2"],[1,"col-3"],[1,"stepper","d-flex","flex-column","ml-2"],["class","align-items-baseline d-flex mt-n5",4,"ngFor","ngForOf"],["width","100%","height","340","controls","","autoplay","",4,"ngIf"],["controls","","width","100%","height","340","autoplay","",4,"ngIf"],[4,"ngIf"],["style","width: 100%; height: 555px",3,"src","render-text","original-size",4,"ngIf"],[1,"back-button","ml-auto",3,"click"],["width","7","height","12","viewBox","0 0 7 12","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M1.6175 1.06068L6.27648 5.62005C6.33178 5.67433 6.37086 5.73313 6.39372 5.79645C6.41695 5.85978 6.42856 5.92763 6.42856 6C6.42856 6.07237 6.41695 6.14021 6.39372 6.20354C6.37086 6.26686 6.33178 6.32567 6.27648 6.37994L1.6175 10.9529C1.48847 11.0795 1.32718 11.1429 1.13363 11.1429C0.940079 11.1429 0.77418 11.075 0.635931 10.9393C0.497683 10.8036 0.428558 10.6453 0.428558 10.4644C0.428558 10.2834 0.497683 10.1251 0.635931 9.98944L4.70045 6L0.635931 2.01055C0.506899 1.8839 0.442383 1.72794 0.442383 1.54267C0.442383 1.35704 0.511507 1.19638 0.649756 1.06068C0.788005 0.924987 0.949295 0.857139 1.13363 0.857139C1.31796 0.857139 1.47925 0.924987 1.6175 1.06068Z","fill","#3F3F3F"],[1,"align-items-baseline","d-flex","mt-n5"],[1,"d-flex","flex-column","pr-4","align-items-center"],[1,"mentor-detail"],["width","16","height","16","viewBox","0 0 16 16","fill","none","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["class","line h-100",4,"ngIf"],[1,"mt-2px","cursor-pointer","slide-name",3,"click"],["fill-rule","evenodd","clip-rule","evenodd","d","M16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8ZM11.2243 5.57574C11.4586 5.81005 11.4586 6.18995 11.2243 6.42426L7.22426 10.4243C6.98995 10.6586 6.61005 10.6586 6.37574 10.4243L4.77574 8.82426C4.54142 8.58995 4.54142 8.21005 4.77574 7.97574C5.01005 7.74142 5.38995 7.74142 5.62426 7.97574L6.8 9.15147L8.58787 7.3636L10.3757 5.57574C10.6101 5.34142 10.9899 5.34142 11.2243 5.57574Z","fill","#00CD83"],["cx","8","cy","8","r","7.25","fill","white","stroke","#7B8392","stroke-width","1.5"],[1,"line","h-100"],["width","100%","height","340","controls","","autoplay",""],["type","video/mp4",3,"src"],["controls","","width","100%","height","340","autoplay",""],[3,"src"],[2,"width","100%","height","555px",3,"src","render-text","original-size"]],template:function(M,G){1&M&&(n.TgZ(0,"main")(1,"div",0)(2,"div",1)(3,"div",2)(4,"nav",3)(5,"a",4),n.NdJ("click",function(){return G.back()}),n.O4$(),n.TgZ(6,"svg",5),n._UZ(7,"path",6),n.qZA(),n._uU(8," \xa0 Back"),n.qZA(),n.kcU(),n.TgZ(9,"ol",7)(10,"li",8)(11,"a",9),n.NdJ("click",function(){return G.back()}),n._uU(12,"My Courses"),n.qZA()(),n.TgZ(13,"li",10),n._uU(14),n.ALo(15,"titlecase"),n.qZA()(),n.YNc(16,Se,4,0,"a",11),n.TgZ(17,"a",12),n.O4$(),n.TgZ(18,"svg",13),n._UZ(19,"path",14),n.qZA()()()()(),n.kcU(),n._UZ(20,"hr"),n.TgZ(21,"section",15)(22,"div",1)(23,"div",16)(24,"article")(25,"div",17),n.YNc(26,Re,10,8,"div",18),n.qZA()()(),n.TgZ(27,"div",2)(28,"section")(29,"h3"),n._uU(30),n.ALo(31,"titlecase"),n.qZA(),n.YNc(32,ie,3,1,"video",19),n.YNc(33,O,3,1,"audio",20),n.YNc(34,D,2,1,"p",21),n.YNc(35,ce,1,3,"pdf-viewer",22),n.qZA()()()()()()),2&M&&(n.xp6(14),n.Oqu(n.lcZ(15,10,null==G.courseDetails?null:G.courseDetails.name)),n.xp6(2),n.Q6J("ngIf",G.slideDetails.position!=G.slides.length),n.xp6(1),n.ekj("ml-auto",G.slideDetails.position==G.slides.length),n.xp6(9),n.Q6J("ngForOf",G.slides),n.xp6(4),n.Oqu(n.lcZ(31,12,null==G.slideDetails?null:G.slideDetails.name)),n.xp6(2),n.Q6J("ngIf","video"==(null==G.slideDetails?null:G.slideDetails.type)),n.xp6(1),n.Q6J("ngIf","audio"==(null==G.slideDetails?null:G.slideDetails.type)),n.xp6(1),n.Q6J("ngIf","text"==(null==G.slideDetails?null:G.slideDetails.type)),n.xp6(1),n.Q6J("ngIf","pdf"==(null==G.slideDetails?null:G.slideDetails.type)))},dependencies:[f.sg,f.O5,me,f.rS],styles:[".slide-name.active[_ngcontent-%COMP%]{font-size:18px}"]}),q})();const be=[{path:"all",component:u},{path:"course/:id/details",component:z},{path:"my-courses",component:t},{path:"my-course/:id/details",component:de},{path:"my-course/:id/slide/:slideid",component:de},{path:"**",redirectTo:"all"}];let ye=(()=>{class q{}return q.\u0275fac=function(M){return new(M||q)},q.\u0275mod=n.oAB({type:q}),q.\u0275inj=n.cJS({imports:[I.Bz,I.Bz.forChild(be),f.ez,C.UX,C.u5,ge]}),q})()},6036:function(module,__unused_webpack_exports,__webpack_require__){var _asyncToGenerator=__webpack_require__(7156).default,ne;ne=()=>(()=>{"use strict";var __webpack_modules__=[,(_e,L,ne)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.VerbosityLevel=L.Util=L.UnknownErrorException=L.UnexpectedResponseException=L.UNSUPPORTED_FEATURES=L.TextRenderingMode=L.StreamType=L.RenderingIntentFlag=L.PermissionFlag=L.PasswordResponses=L.PasswordException=L.PageActionEventType=L.OPS=L.MissingPDFException=L.InvalidPDFException=L.ImageKind=L.IDENTITY_MATRIX=L.FormatError=L.FontType=L.FeatureTest=L.FONT_IDENTITY_MATRIX=L.DocumentActionEventType=L.CMapCompressionType=L.BaseException=L.AnnotationType=L.AnnotationStateModelType=L.AnnotationReviewState=L.AnnotationReplyType=L.AnnotationMode=L.AnnotationMarkedState=L.AnnotationFlag=L.AnnotationFieldFlag=L.AnnotationBorderStyleType=L.AnnotationActionEventType=L.AbortException=void 0,L.arrayByteLength=W,L.arraysToBytes=function j(ie){const O=ie.length;if(1===O&&ie[0]instanceof Uint8Array)return ie[0];let D=0;for(let be=0;be<O;be++)D+=W(ie[be]);let ce=0;const de=new Uint8Array(D);for(let be=0;be<O;be++){let ye=ie[be];ye instanceof Uint8Array||(ye="string"==typeof ye?V(ye):new Uint8Array(ye));const q=ye.byteLength;de.set(ye,ce),ce+=q}return de},L.assert=function Y(ie,O){ie||U(O)},L.bytesToString=function E(ie){("object"!=typeof ie||null===ie||void 0===ie.length)&&U("Invalid argument for bytesToString");const O=ie.length,D=8192;if(O<D)return String.fromCharCode.apply(null,ie);const ce=[];for(let de=0;de<O;de+=D){const be=Math.min(de+D,O),ye=ie.subarray(de,be);ce.push(String.fromCharCode.apply(null,ye))}return ce.join("")},L.createPromiseCapability=function Re(){const ie=Object.create(null);let O=!1;return Object.defineProperty(ie,"settled",{get:()=>O}),ie.promise=new Promise(function(D,ce){ie.resolve=function(de){O=!0,D(de)},ie.reject=function(de){O=!0,ce(de)}}),ie},L.createValidAbsoluteUrl=function re(ie,O=null,D=null){if(!ie)return null;try{if(D&&"string"==typeof ie){if(D.addDefaultProtocol&&ie.startsWith("www.")){const de=ie.match(/\./g);de&&de.length>=2&&(ie=`http://${ie}`)}if(D.tryConvertEncoding)try{ie=ge(ie)}catch{}}const ce=O?new URL(ie,O):new URL(ie);if(function $(ie){if(!ie)return!1;switch(ie.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(ce))return ce}catch{}return null},L.escapeString=function X(ie){return ie.replace(/([()\\\n\r])/g,O=>"\n"===O?"\\n":"\r"===O?"\\r":`\\${O}`)},L.getModificationDate=function Le(ie=new Date){return[ie.getUTCFullYear().toString(),(ie.getUTCMonth()+1).toString().padStart(2,"0"),ie.getUTCDate().toString().padStart(2,"0"),ie.getUTCHours().toString().padStart(2,"0"),ie.getUTCMinutes().toString().padStart(2,"0"),ie.getUTCSeconds().toString().padStart(2,"0")].join("")},L.getVerbosityLevel=function z(){return F},L.info=function Z(ie){F>=y.INFOS&&console.log(`Info: ${ie}`)},L.isArrayBuffer=function ve(ie){return"object"==typeof ie&&null!==ie&&void 0!==ie.byteLength},L.isArrayEqual=function Te(ie,O){if(ie.length!==O.length)return!1;for(let D=0,ce=ie.length;D<ce;D++)if(ie[D]!==O[D])return!1;return!0},L.isAscii=function Ae(ie){return/^[\x00-\x7F]*$/.test(ie)},L.objectFromMap=function ee(ie){const O=Object.create(null);for(const[D,ce]of ie)O[D]=ce;return O},L.objectSize=function Q(ie){return Object.keys(ie).length},L.setVerbosityLevel=function B(ie){Number.isInteger(ie)&&(F=ie)},L.shadow=le,L.string32=function H(ie){return String.fromCharCode(ie>>24&255,ie>>16&255,ie>>8&255,255&ie)},L.stringToBytes=V,L.stringToPDFString=function N(ie){if(ie[0]>="\xef"){let D;if("\xfe"===ie[0]&&"\xff"===ie[1]?D="utf-16be":"\xff"===ie[0]&&"\xfe"===ie[1]?D="utf-16le":"\xef"===ie[0]&&"\xbb"===ie[1]&&"\xbf"===ie[2]&&(D="utf-8"),D)try{const ce=new TextDecoder(D,{fatal:!0}),de=V(ie);return ce.decode(de)}catch(ce){te(`stringToPDFString: "${ce}".`)}}const O=[];for(let D=0,ce=ie.length;D<ce;D++){const de=S[ie.charCodeAt(D)];O.push(de?String.fromCharCode(de):ie.charAt(D))}return O.join("")},L.stringToUTF16BEString=function me(ie){const O=["\xfe\xff"];for(let D=0,ce=ie.length;D<ce;D++){const de=ie.charCodeAt(D);O.push(String.fromCharCode(de>>8&255),String.fromCharCode(255&de))}return O.join("")},L.stringToUTF8String=ge,L.unreachable=U,L.utf8StringToString=function Se(ie){return unescape(encodeURIComponent(ie))},L.warn=te,ne(2),L.IDENTITY_MATRIX=[1,0,0,1,0,0],L.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],L.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},L.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},L.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},L.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},L.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},L.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},L.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},L.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},L.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},L.AnnotationReplyType={GROUP:"Group",REPLY:"R"},L.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},L.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},L.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},L.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},L.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},L.PageActionEventType={O:"PageOpen",C:"PageClose"},L.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},L.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const y={ERRORS:0,WARNINGS:1,INFOS:5};L.VerbosityLevel=y,L.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},L.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},L.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},L.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let F=y.WARNINGS;function te(ie){F>=y.WARNINGS&&console.log(`Warning: ${ie}`)}function U(ie){throw new Error(ie)}function le(ie,O,D){return Object.defineProperty(ie,O,{value:D,enumerable:!0,configurable:!0,writable:!1}),D}const T=function(){function O(D,ce){this.constructor===O&&U("Cannot initialize BaseException."),this.message=D,this.name=ce}return O.prototype=new Error,O.constructor=O,O}();function V(ie){"string"!=typeof ie&&U("Invalid argument for stringToBytes");const O=ie.length,D=new Uint8Array(O);for(let ce=0;ce<O;++ce)D[ce]=255&ie.charCodeAt(ce);return D}function W(ie){return void 0!==ie.length?ie.length:void 0!==ie.byteLength?ie.byteLength:void U("Invalid argument for arrayByteLength")}L.BaseException=T,L.PasswordException=class o extends T{constructor(O,D){super(O,"PasswordException"),this.code=D}},L.UnknownErrorException=class l extends T{constructor(O,D){super(O,"UnknownErrorException"),this.details=D}},L.InvalidPDFException=class e extends T{constructor(O){super(O,"InvalidPDFException")}},L.MissingPDFException=class c extends T{constructor(O){super(O,"MissingPDFException")}},L.UnexpectedResponseException=class d extends T{constructor(O,D){super(O,"UnexpectedResponseException"),this.status=D}},L.FormatError=class w extends T{constructor(O){super(O,"FormatError")}},L.AbortException=class P extends T{constructor(O){super(O,"AbortException")}},L.FeatureTest=class J{static get isLittleEndian(){return le(this,"isLittleEndian",function fe(){const ie=new Uint8Array(4);return ie[0]=1,1===new Uint32Array(ie.buffer,0,1)[0]}())}static get isEvalSupported(){return le(this,"isEvalSupported",function Ce(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return le(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}};const oe=[...Array(256).keys()].map(ie=>ie.toString(16).padStart(2,"0"));class ae{static makeHexColor(O,D,ce){return`#${oe[O]}${oe[D]}${oe[ce]}`}static scaleMinMax(O,D){let ce;O[0]?(O[0]<0&&(ce=D[0],D[0]=D[1],D[1]=ce),D[0]*=O[0],D[1]*=O[0],O[3]<0&&(ce=D[2],D[2]=D[3],D[3]=ce),D[2]*=O[3],D[3]*=O[3]):(ce=D[0],D[0]=D[2],D[2]=ce,ce=D[1],D[1]=D[3],D[3]=ce,O[1]<0&&(ce=D[2],D[2]=D[3],D[3]=ce),D[2]*=O[1],D[3]*=O[1],O[2]<0&&(ce=D[0],D[0]=D[1],D[1]=ce),D[0]*=O[2],D[1]*=O[2]),D[0]+=O[4],D[1]+=O[4],D[2]+=O[5],D[3]+=O[5]}static transform(O,D){return[O[0]*D[0]+O[2]*D[1],O[1]*D[0]+O[3]*D[1],O[0]*D[2]+O[2]*D[3],O[1]*D[2]+O[3]*D[3],O[0]*D[4]+O[2]*D[5]+O[4],O[1]*D[4]+O[3]*D[5]+O[5]]}static applyTransform(O,D){return[O[0]*D[0]+O[1]*D[2]+D[4],O[0]*D[1]+O[1]*D[3]+D[5]]}static applyInverseTransform(O,D){const ce=D[0]*D[3]-D[1]*D[2];return[(O[0]*D[3]-O[1]*D[2]+D[2]*D[5]-D[4]*D[3])/ce,(-O[0]*D[1]+O[1]*D[0]+D[4]*D[1]-D[5]*D[0])/ce]}static getAxialAlignedBoundingBox(O,D){const ce=ae.applyTransform(O,D),de=ae.applyTransform(O.slice(2,4),D),be=ae.applyTransform([O[0],O[3]],D),ye=ae.applyTransform([O[2],O[1]],D);return[Math.min(ce[0],de[0],be[0],ye[0]),Math.min(ce[1],de[1],be[1],ye[1]),Math.max(ce[0],de[0],be[0],ye[0]),Math.max(ce[1],de[1],be[1],ye[1])]}static inverseTransform(O){const D=O[0]*O[3]-O[1]*O[2];return[O[3]/D,-O[1]/D,-O[2]/D,O[0]/D,(O[2]*O[5]-O[4]*O[3])/D,(O[4]*O[1]-O[5]*O[0])/D]}static apply3dTransform(O,D){return[O[0]*D[0]+O[1]*D[1]+O[2]*D[2],O[3]*D[0]+O[4]*D[1]+O[5]*D[2],O[6]*D[0]+O[7]*D[1]+O[8]*D[2]]}static singularValueDecompose2dScale(O){const D=[O[0],O[2],O[1],O[3]],ce=O[0]*D[0]+O[1]*D[2],ye=O[2]*D[1]+O[3]*D[3],q=(ce+ye)/2,pe=Math.sqrt((ce+ye)**2-4*(ce*ye-(O[2]*D[0]+O[3]*D[2])*(O[0]*D[1]+O[1]*D[3])))/2,G=q-pe||1;return[Math.sqrt(q+pe||1),Math.sqrt(G)]}static normalizeRect(O){const D=O.slice(0);return O[0]>O[2]&&(D[0]=O[2],D[2]=O[0]),O[1]>O[3]&&(D[1]=O[3],D[3]=O[1]),D}static intersect(O,D){const ce=Math.max(Math.min(O[0],O[2]),Math.min(D[0],D[2])),de=Math.min(Math.max(O[0],O[2]),Math.max(D[0],D[2]));if(ce>de)return null;const be=Math.max(Math.min(O[1],O[3]),Math.min(D[1],D[3])),ye=Math.min(Math.max(O[1],O[3]),Math.max(D[1],D[3]));return be>ye?null:[ce,be,de,ye]}static bezierBoundingBox(O,D,ce,de,be,ye,q,pe){const M=[],G=[[],[]];let he,we,Me,ke,Oe,De,Be,Ie;for(let Ye=0;Ye<2;++Ye)if(0===Ye?(we=6*O-12*ce+6*be,he=-3*O+9*ce-9*be+3*q,Me=3*ce-3*O):(we=6*D-12*de+6*ye,he=-3*D+9*de-9*ye+3*pe,Me=3*de-3*D),Math.abs(he)<1e-12){if(Math.abs(we)<1e-12)continue;ke=-Me/we,0<ke&&ke<1&&M.push(ke)}else Be=we*we-4*Me*he,Ie=Math.sqrt(Be),!(Be<0)&&(Oe=(-we+Ie)/(2*he),0<Oe&&Oe<1&&M.push(Oe),De=(-we-Ie)/(2*he),0<De&&De<1&&M.push(De));let Ne,Ue=M.length;const je=Ue;for(;Ue--;)ke=M[Ue],Ne=1-ke,G[0][Ue]=Ne*Ne*Ne*O+3*Ne*Ne*ke*ce+3*Ne*ke*ke*be+ke*ke*ke*q,G[1][Ue]=Ne*Ne*Ne*D+3*Ne*Ne*ke*de+3*Ne*ke*ke*ye+ke*ke*ke*pe;return G[0][je]=O,G[1][je]=D,G[0][je+1]=q,G[1][je+1]=pe,G[0].length=G[1].length=je+2,[Math.min(...G[0]),Math.min(...G[1]),Math.max(...G[0]),Math.max(...G[1])]}}L.Util=ae;const S=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function ge(ie){return decodeURIComponent(escape(ie))}},(_e,L,ne)=>{ne(3)},(_e,L)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.isNodeJS=void 0;const ne=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);L.isNodeJS=ne},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var _e,ne,f,ue,se,K,n,I,Qe,C;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_annotation_storage=__w_pdfjs_require__(8),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(13),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(14),_metadata=__w_pdfjs_require__(15),_optional_content_config=__w_pdfjs_require__(16),_transport_stream=__w_pdfjs_require__(17),_xfa_text=__w_pdfjs_require__(18);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:p,NodeCMapReaderFactory:a,NodeStandardFontDataFactory:b}=__w_pdfjs_require__(19);exports.DefaultCanvasFactory=DefaultCanvasFactory=p,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=a,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=b}function setPDFNetworkStreamFactory(p){createPDFNetworkStream=p}function getDocument(p){const a=new PDFDocumentLoadingTask;let b;if("string"==typeof p||p instanceof URL)b={url:p};else if((0,_util.isArrayBuffer)(p))b={data:p};else if(p instanceof PDFDataRangeTransport)b={range:p};else{if("object"!=typeof p)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!p.url&&!p.data&&!p.range)throw new Error("Invalid parameter object: need either .data, .range or .url");b=p}const i=Object.create(null);let s=null,u=null;for(const _ in b){const g=b[_];switch(_){case"url":if(typeof window<"u")try{i[_]=new URL(g,window.location).href;continue}catch(t){(0,_util.warn)(`Cannot create valid URL: "${t}".`)}else if("string"==typeof g||g instanceof URL){i[_]=g.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":s=g;continue;case"worker":u=g;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&g instanceof Buffer)i[_]=new Uint8Array(g);else{if(g instanceof Uint8Array)break;if("string"==typeof g)i[_]=(0,_util.stringToBytes)(g);else if("object"!=typeof g||null===g||isNaN(g.length)){if(!(0,_util.isArrayBuffer)(g))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");i[_]=new Uint8Array(g)}else i[_]=new Uint8Array(g)}continue}i[_]=g}if(i.CMapReaderFactory=i.CMapReaderFactory||DefaultCMapReaderFactory,i.StandardFontDataFactory=i.StandardFontDataFactory||DefaultStandardFontDataFactory,i.ignoreErrors=!0!==i.stopAtErrors,i.fontExtraProperties=!0===i.fontExtraProperties,i.pdfBug=!0===i.pdfBug,i.enableXfa=!0===i.enableXfa,(!Number.isInteger(i.rangeChunkSize)||i.rangeChunkSize<1)&&(i.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof i.docBaseUrl||(0,_display_utils.isDataScheme)(i.docBaseUrl))&&(i.docBaseUrl=null),(!Number.isInteger(i.maxImageSize)||i.maxImageSize<-1)&&(i.maxImageSize=-1),"string"!=typeof i.cMapUrl&&(i.cMapUrl=null),"string"!=typeof i.standardFontDataUrl&&(i.standardFontDataUrl=null),"boolean"!=typeof i.useWorkerFetch&&(i.useWorkerFetch=i.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&i.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof i.isEvalSupported&&(i.isEvalSupported=!0),"boolean"!=typeof i.disableFontFace&&(i.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof i.useSystemFonts&&(i.useSystemFonts=!_is_node.isNodeJS&&!i.disableFontFace),("object"!=typeof i.ownerDocument||null===i.ownerDocument)&&(i.ownerDocument=globalThis.document),"boolean"!=typeof i.disableRange&&(i.disableRange=!1),"boolean"!=typeof i.disableStream&&(i.disableStream=!1),"boolean"!=typeof i.disableAutoFetch&&(i.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(i.verbosity),!u){const _={verbosity:i.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};u=_.port?PDFWorker.fromPort(_):new PDFWorker(_),a._worker=u}const x=a.docId;return u.promise.then(function(){if(a.destroyed)throw new Error("Loading aborted");const _=_fetchDocument(u,i,s,x),g=new Promise(function(t){let r;s?r=new _transport_stream.PDFDataTransportStream({length:i.length,initialData:i.initialData,progressiveDone:i.progressiveDone,contentDispositionFilename:i.contentDispositionFilename,disableRange:i.disableRange,disableStream:i.disableStream},s):i.data||(r=createPDFNetworkStream({url:i.url,length:i.length,httpHeaders:i.httpHeaders,withCredentials:i.withCredentials,rangeChunkSize:i.rangeChunkSize,disableRange:i.disableRange,disableStream:i.disableStream})),t(r)});return Promise.all([_,g]).then(function([t,r]){if(a.destroyed)throw new Error("Loading aborted");const y=new _message_handler.MessageHandler(x,t,u.port),A=new WorkerTransport(y,a,r,i);a._transport=A,y.send("Ready",null)})}).catch(a._capability.reject),a}function _fetchDocument(p,a,b,i){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(p,a,b,i){if(p.destroyed)throw new Error("Worker was destroyed");b&&(a.length=b.length,a.initialData=b.initialData,a.progressiveDone=b.progressiveDone,a.contentDispositionFilename=b.contentDispositionFilename);const s=yield p.messageHandler.sendWithPromise("GetDocRequest",{docId:i,apiVersion:"2.14.305",source:{data:a.data,url:a.url,password:a.password,disableAutoFetch:a.disableAutoFetch,rangeChunkSize:a.rangeChunkSize,length:a.length},maxImageSize:a.maxImageSize,disableFontFace:a.disableFontFace,docBaseUrl:a.docBaseUrl,ignoreErrors:a.ignoreErrors,isEvalSupported:a.isEvalSupported,fontExtraProperties:a.fontExtraProperties,enableXfa:a.enableXfa,useSystemFonts:a.useSystemFonts,cMapUrl:a.useWorkerFetch?a.cMapUrl:null,standardFontDataUrl:a.useWorkerFetch?a.standardFontDataUrl:null});if(p.destroyed)throw new Error("Worker was destroyed");return s})).apply(this,arguments)}const L=class{constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+lt(L,_e)._++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var a=this;return _asyncToGenerator(function*(){a.destroyed=!0,yield a._transport?.destroy(),a._transport=null,a._worker&&(a._worker.destroy(),a._worker=null)})()}};let PDFDocumentLoadingTask=L;_e=new WeakMap,Ee(PDFDocumentLoadingTask,_e,0),exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(a,b,i=!1,s=null){this.length=a,this.initialData=b,this.progressiveDone=i,this.contentDispositionFilename=s,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(a){this._rangeListeners.push(a)}addProgressListener(a){this._progressListeners.push(a)}addProgressiveReadListener(a){this._progressiveReadListeners.push(a)}addProgressiveDoneListener(a){this._progressiveDoneListeners.push(a)}onDataRange(a,b){for(const i of this._rangeListeners)i(a,b)}onDataProgress(a,b){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(a,b)})}onDataProgressiveRead(a){this._readyCapability.promise.then(()=>{for(const b of this._progressiveReadListeners)b(a)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const a of this._progressiveDoneListeners)a()})}transportReady(){this._readyCapability.resolve()}requestDataRange(a,b){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(a,b){var s,i=this;this._pdfInfo=a,this._transport=b,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(s=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),i.stats||{streamTypes:{},fontTypes:{}}}),function(){return s.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(a){return this._transport.getPage(a)}getPageIndex(a){return this._transport.getPageIndex(a)}getDestinations(){return this._transport.getDestinations()}getDestination(a){return this._transport.getDestination(a)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(a=!1){return this._transport.startCleanup(a||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(a,b,i,s,u=!1){this._pageIndex=a,this._pageInfo=b,this._ownerDocument=s,this._transport=i,this._stats=u?new _display_utils.StatTimer:null,this._pdfBug=u,this.commonObjs=i.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:a,rotation:b=this.rotate,offsetX:i=0,offsetY:s=0,dontFlip:u=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:a,rotation:b,offsetX:i,offsetY:s,dontFlip:u})}getAnnotations({intent:a="display"}={}){const b=this._transport.getRenderingIntent(a);let i=this._annotationPromises.get(b.cacheKey);return i||(i=this._transport.getAnnotations(this._pageIndex,b.renderingIntent),this._annotationPromises.set(b.cacheKey,i),i=i.then(s=>{for(const u of s)void 0!==u.titleObj&&Object.defineProperty(u,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),u.titleObj.str)}),void 0!==u.contentsObj&&Object.defineProperty(u,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),u.contentsObj.str)});return s})),i}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}getXfa(){var a=this;return _asyncToGenerator(function*(){return a._transport._htmlForXfa?.children[a._pageIndex]||null})()}render({canvasContext:a,viewport:b,intent:i="display",annotationMode:s=_util.AnnotationMode.ENABLE,transform:u=null,imageLayer:x=null,canvasFactory:_=null,background:g=null,optionalContentConfigPromise:t=null,annotationCanvasMap:r=null,pageColors:y=null}){void 0!==arguments[0]?.renderInteractiveForms&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&s===_util.AnnotationMode.ENABLE&&(s=_util.AnnotationMode.ENABLE_FORMS)),void 0!==arguments[0]?.includeAnnotationStorage&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&s===_util.AnnotationMode.ENABLE&&(s=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const A=this._transport.getRenderingIntent(i,s);this.pendingCleanup=!1,t||(t=this._transport.getOptionalContentConfig());let v=this._intentStates.get(A.cacheKey);v||(v=Object.create(null),this._intentStates.set(A.cacheKey,v)),v.streamReaderCancelTimeout&&(clearTimeout(v.streamReaderCancelTimeout),v.streamReaderCancelTimeout=null);const k=_||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),R=!!(A.renderingIntent&_util.RenderingIntentFlag.PRINT);v.displayReadyCapability||(v.displayReadyCapability=(0,_util.createPromiseCapability)(),v.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(A));const F=Z=>{v.renderTasks.delete(B),(this.cleanupAfterRender||R)&&(this.pendingCleanup=!0),this._tryCleanup(),Z?(B.capability.reject(Z),this._abortOperatorList({intentState:v,reason:Z instanceof Error?Z:new Error(Z)})):B.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},B=new InternalRenderTask({callback:F,params:{canvasContext:a,viewport:b,transform:u,imageLayer:x,background:g},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:r,operatorList:v.operatorList,pageIndex:this._pageIndex,canvasFactory:k,useRequestAnimationFrame:!R,pdfBug:this._pdfBug,pageColors:y});(v.renderTasks||(v.renderTasks=new Set)).add(B);const z=B.task;return Promise.all([v.displayReadyCapability.promise,t]).then(([Z,te])=>{this.pendingCleanup?F():(this._stats&&this._stats.time("Rendering"),B.initializeGraphics({transparency:Z,optionalContentConfig:te}),B.operatorListChanged())}).catch(F),z}getOperatorList({intent:a="display",annotationMode:b=_util.AnnotationMode.ENABLE}={}){const s=this._transport.getRenderingIntent(a,b,!0);let x,u=this._intentStates.get(s.cacheKey);return u||(u=Object.create(null),this._intentStates.set(s.cacheKey,u)),u.opListReadCapability||(x=Object.create(null),x.operatorListChanged=function i(){u.operatorList.lastChunk&&(u.opListReadCapability.resolve(u.operatorList),u.renderTasks.delete(x))},u.opListReadCapability=(0,_util.createPromiseCapability)(),(u.renderTasks||(u.renderTasks=new Set)).add(x),u.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(s)),u.opListReadCapability.promise}streamTextContent({disableCombineTextItems:a=!1,includeMarkedContent:b=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==a,includeMarkedContent:!0===b},{highWaterMark:100,size:s=>s.items.length})}getTextContent(a={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>_xfa_text.XfaText.textContent(i));const b=this.streamTextContent(a);return new Promise(function(i,s){const x=b.getReader(),_={items:[],styles:Object.create(null)};!function u(){x.read().then(function({value:g,done:t}){t?i(_):(Object.assign(_.styles,g.styles),_.items.push(...g.items),u())},s)}()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const a=[];for(const b of this._intentStates.values())if(this._abortOperatorList({intentState:b,reason:new Error("Page was destroyed."),force:!0}),!b.opListReadCapability)for(const i of b.renderTasks)a.push(i.completed),i.cancel();this.objs.clear();for(const b of this._bitmaps)b.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(a)}cleanup(a=!1){return this.pendingCleanup=!0,this._tryCleanup(a)}_tryCleanup(a=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:b,operatorList:i}of this._intentStates.values())if(b.size>0||!i.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,a&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const b of this._bitmaps)b.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(a,b){const i=this._intentStates.get(b);!i||(this._stats&&this._stats.timeEnd("Page Request"),i.displayReadyCapability&&i.displayReadyCapability.resolve(a))}_renderPageChunk(a,b){for(let i=0,s=a.length;i<s;i++)b.operatorList.fnArray.push(a.fnArray[i]),b.operatorList.argsArray.push(a.argsArray[i]);b.operatorList.lastChunk=a.lastChunk;for(const i of b.renderTasks)i.operatorListChanged();a.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:a,cacheKey:b}){const s=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:a,cacheKey:b,annotationStorage:a&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),u=this._intentStates.get(b);u.streamReader=s;const x=()=>{s.read().then(({value:_,done:g})=>{g?u.streamReader=null:this._transport.destroyed||(this._renderPageChunk(_,u),x())},_=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const g of u.renderTasks)g.operatorListChanged();this._tryCleanup()}if(u.displayReadyCapability)u.displayReadyCapability.reject(_);else{if(!u.opListReadCapability)throw _;u.opListReadCapability.reject(_)}}})};x()}_abortOperatorList({intentState:a,reason:b,force:i=!1}){if(a.streamReader){if(!i){if(a.renderTasks.size>0)return;if(b instanceof _display_utils.RenderingCancelledException)return void(a.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:a,reason:b,force:!0}),a.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(a.streamReader.cancel(new _util.AbortException(b.message)).catch(()=>{}),a.streamReader=null,!this._transport.destroyed){for(const[s,u]of this._intentStates)if(u===a){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(a,b){const i={data:structuredClone(a,b)};this._deferred.then(()=>{for(const s of this._listeners)s.call(this,i)})}addEventListener(a,b){this._listeners.push(b)}removeEventListener(a,b){const i=this._listeners.indexOf(b);this._listeners.splice(i,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const p=document?.currentScript?.src;p&&(PDFWorkerUtil.fallbackWorkerSrc=p.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(p,a){let b;try{if(b=new URL(p),!b.origin||"null"===b.origin)return!1}catch{return!1}const i=new URL(a,b);return b.origin===i.origin},PDFWorkerUtil.createCDNWrapper=function(p){return URL.createObjectURL(new Blob([`importScripts("${p}");`]))};const _PDFWorker=class{constructor({name:p=null,port:a=null,verbosity:b=(0,_util.getVerbosityLevel)()}={}){if(a&&Pe(_PDFWorker,ne).has(a))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=p,this.destroyed=!1,this.verbosity=b,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,a)return Pe(_PDFWorker,ne).set(a,this),void this._initializeFromPort(a);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(p){this._port=p,this._messageHandler=new _message_handler.MessageHandler("main","worker",p),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(typeof Worker<"u"&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let p=_PDFWorker.workerSrc;try{PDFWorkerUtil.isSameOrigin(window.location.href,p)||(p=PDFWorkerUtil.createCDNWrapper(new URL(p,window.location).href));const a=new Worker(p),b=new _message_handler.MessageHandler("main","worker",a),i=()=>{a.removeEventListener("error",s),b.destroy(),a.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=()=>{this._webWorker||i()};a.addEventListener("error",s),b.on("test",x=>{a.removeEventListener("error",s),this.destroyed?i():x?(this._messageHandler=b,this._port=a,this._webWorker=a,this._readyCapability.resolve(),b.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),b.destroy(),a.terminate())}),b.on("ready",x=>{if(a.removeEventListener("error",s),this.destroyed)i();else try{u()}catch{this._setupFakeWorker()}});const u=()=>{const x=new Uint8Array;b.send("test",x,[x.buffer])};return void u()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(p=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const a=new LoopbackPort;this._port=a;const b="fake"+PDFWorkerUtil.fakeWorkerId++,i=new _message_handler.MessageHandler(b+"_worker",b,a);p.setup(i,a);const s=new _message_handler.MessageHandler(b,b+"_worker",a);this._messageHandler=s,this._readyCapability.resolve(),s.send("configure",{verbosity:this.verbosity})}).catch(p=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${p.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),Pe(_PDFWorker,ne).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(p){if(!p?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return Pe(this,ne).has(p.port)?Pe(this,ne).get(p.port):new _PDFWorker(p)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function p(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};let PDFWorker=_PDFWorker;ne=new WeakMap,Ee(PDFWorker,ne,new WeakMap),exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{constructor(a,b,i,s){Ee(this,f,null),Ee(this,ue,new Map),Ee(this,se,new Map),Ee(this,K,null),this.messageHandler=a,this.loadingTask=b,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:b.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this._params=s,s.useWorkerFetch||(this.CMapReaderFactory=new s.CMapReaderFactory({baseUrl:s.cMapUrl,isCompressed:s.cMapPacked}),this.StandardFontDataFactory=new s.StandardFontDataFactory({baseUrl:s.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return Pe(this,f)}getRenderingIntent(a,b=_util.AnnotationMode.ENABLE,i=!1){let s=_util.RenderingIntentFlag.DISPLAY,u="";switch(a){case"any":s=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":s=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${a}`)}switch(b){case _util.AnnotationMode.DISABLE:s+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:s+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:s+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,u=this.annotationStorage.hash;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${b}`)}return i&&(s+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:s,cacheKey:`${s}_${u}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const a=[];for(const i of Pe(this,ue).values())a.push(i._destroy());Pe(this,ue).clear(),Pe(this,se).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const b=this.messageHandler.sendWithPromise("Terminate",null);return a.push(b),Promise.all(a).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),Fe(this,K,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:a,loadingTask:b}=this;a.on("GetReader",(i,s)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=u=>{this._lastProgress={loaded:u.loaded,total:u.total}},s.onPull=()=>{this._fullReader.read().then(function({value:u,done:x}){x?s.close():((0,_util.assert)((0,_util.isArrayBuffer)(u),"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(u),1,[u]))}).catch(u=>{s.error(u)})},s.onCancel=u=>{this._fullReader.cancel(u),s.ready.catch(x=>{if(!this.destroyed)throw x})}}),a.on("ReaderHeadersReady",i=>{const s=(0,_util.createPromiseCapability)(),u=this._fullReader;return u.headersReady.then(()=>{(!u.isStreamingSupported||!u.isRangeSupported)&&(this._lastProgress&&b.onProgress?.(this._lastProgress),u.onProgress=x=>{b.onProgress?.({loaded:x.loaded,total:x.total})}),s.resolve({isStreamingSupported:u.isStreamingSupported,isRangeSupported:u.isRangeSupported,contentLength:u.contentLength})},s.reject),s.promise}),a.on("GetRangeReader",(i,s)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const u=this._networkStream.getRangeReader(i.begin,i.end);u?(s.onPull=()=>{u.read().then(function({value:x,done:_}){_?s.close():((0,_util.assert)((0,_util.isArrayBuffer)(x),"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(x),1,[x]))}).catch(x=>{s.error(x)})},s.onCancel=x=>{u.cancel(x),s.ready.catch(_=>{if(!this.destroyed)throw _})}):s.close()}),a.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,b._capability.resolve(new PDFDocumentProxy(i,this))}),a.on("DocException",function(i){let s;switch(i.name){case"PasswordException":s=new _util.PasswordException(i.message,i.code);break;case"InvalidPDFException":s=new _util.InvalidPDFException(i.message);break;case"MissingPDFException":s=new _util.MissingPDFException(i.message);break;case"UnexpectedResponseException":s=new _util.UnexpectedResponseException(i.message,i.status);break;case"UnknownErrorException":s=new _util.UnknownErrorException(i.message,i.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}b._capability.reject(s)}),a.on("PasswordRequest",i=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),b.onPassword){const s=u=>{u instanceof Error?this._passwordCapability.reject(u):this._passwordCapability.resolve({password:u})};try{b.onPassword(s,i.code)}catch(u){this._passwordCapability.reject(u)}}else this._passwordCapability.reject(new _util.PasswordException(i.message,i.code));return this._passwordCapability.promise}),a.on("DataLoaded",i=>{b.onProgress?.({loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),a.on("StartRenderPage",i=>{this.destroyed||Pe(this,ue).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),a.on("commonobj",([i,s,u])=>{if(!this.destroyed&&!this.commonObjs.has(i))switch(s){case"Font":const x=this._params;if("error"in u){const t=u.error;(0,_util.warn)(`Error during font loading: ${t}`),this.commonObjs.resolve(i,t);break}let _=null;x.pdfBug&&globalThis.FontInspector?.enabled&&(_={registerFont(t,r){globalThis.FontInspector.fontAdded(t,r)}});const g=new _font_loader.FontFaceObject(u,{isEvalSupported:x.isEvalSupported,disableFontFace:x.disableFontFace,ignoreErrors:x.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:_});this.fontLoader.bind(g).catch(t=>a.sendWithPromise("FontFallback",{id:i})).finally(()=>{!x.fontExtraProperties&&g.data&&(g.data=null),this.commonObjs.resolve(i,g)});break;case"FontPath":case"Image":this.commonObjs.resolve(i,u);break;default:throw new Error(`Got unknown common object type ${s}`)}}),a.on("obj",([i,s,u,x])=>{if(this.destroyed)return;const _=Pe(this,ue).get(s);if(!_.objs.has(i))switch(u){case"Image":_.objs.resolve(i,x);const g=8e6;if(x){let t;if(x.bitmap){const{bitmap:r,width:y,height:A}=x;t=y*A*4,_._bitmaps.add(r)}else t=x.data?.length||0;t>g&&(_.cleanupAfterRender=!0)}break;case"Pattern":_.objs.resolve(i,x);break;default:throw new Error(`Got unknown object type ${u}`)}}),a.on("DocProgress",i=>{this.destroyed||b.onProgress?.({loaded:i.loaded,total:i.total})}),a.on("DocStats",i=>{this.destroyed||Fe(this,f,Object.freeze({streamTypes:Object.freeze(i.streamTypes),fontTypes:Object.freeze(i.fontTypes)}))}),a.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),a.on("FetchBuiltInCMap",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(i):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),a.on("FetchStandardFontData",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(i):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:a}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(a)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(a){if(!Number.isInteger(a)||a<=0||a>this._numPages)return Promise.reject(new Error("Invalid page request."));const b=a-1,i=Pe(this,se).get(b);if(i)return i;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:b}).then(u=>{if(this.destroyed)throw new Error("Transport destroyed");const x=new PDFPageProxy(b,u,this,this._params.ownerDocument,this._params.pdfBug);return Pe(this,ue).set(b,x),x});return Pe(this,se).set(b,s),s}getPageIndex(a){return"object"!=typeof a||null===a||!Number.isInteger(a.num)||a.num<0||!Number.isInteger(a.gen)||a.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:a.num,gen:a.gen})}getAnnotations(a,b){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:a,intent:b})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(a){return"string"!=typeof a?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:a})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(a){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:a})}getStructTree(a){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:a})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(a=>new _optional_content_config.OptionalContentConfig(a))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return Pe(this,K)||Fe(this,K,this.messageHandler.sendWithPromise("GetMetadata",null).then(a=>({info:a[0],metadata:a[1]?new _metadata.Metadata(a[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(a=!1){var b=this;return _asyncToGenerator(function*(){if(yield b.messageHandler.sendWithPromise("Cleanup",null),!b.destroyed){for(const i of Pe(b,ue).values())if(!i.cleanup())throw new Error(`startCleanup: Page ${i.pageNumber} is currently rendering.`);b.commonObjs.clear(),a||b.fontLoader.clear(),Fe(b,K,null),b._getFieldObjectsPromise=null,b._hasJSActionsPromise=null}})()}get loadingParams(){const a=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:a.disableAutoFetch,enableXfa:a.enableXfa})}}f=new WeakMap,ue=new WeakMap,se=new WeakMap,K=new WeakMap;class PDFObjects{constructor(){Ee(this,I),Ee(this,n,Object.create(null))}get(a,b=null){if(b){const s=xe(this,I,Qe).call(this,a);return s.capability.promise.then(()=>b(s.data)),null}const i=Pe(this,n)[a];if(!i?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${a}.`);return i.data}has(a){return Pe(this,n)[a]?.capability.settled||!1}resolve(a,b=null){const i=xe(this,I,Qe).call(this,a);i.data=b,i.capability.resolve()}clear(){Fe(this,n,Object.create(null))}}n=new WeakMap,I=new WeakSet,Qe=function(a){return Pe(this,n)[a]||(Pe(this,n)[a]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(a){this._internalRenderTask=a,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;const m=class{constructor({callback:a,params:b,objs:i,commonObjs:s,annotationCanvasMap:u,operatorList:x,pageIndex:_,canvasFactory:g,useRequestAnimationFrame:t=!1,pdfBug:r=!1,pageColors:y=null}){this.callback=a,this.params=b,this.objs=i,this.commonObjs=s,this.annotationCanvasMap=u,this.operatorListIdx=null,this.operatorList=x,this._pageIndex=_,this.canvasFactory=g,this._pdfBug=r,this.pageColors=y,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===t&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=b.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:a=!1,optionalContentConfig:b}){if(this.cancelled)return;if(this._canvas){if(Pe(m,C).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Pe(m,C).add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:s,transform:u,imageLayer:x,background:_}=this.params;this.gfx=new _canvas.CanvasGraphics(i,this.commonObjs,this.objs,this.canvasFactory,x,b,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:u,viewport:s,transparency:a,background:_}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(a=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&Pe(m,C).delete(this._canvas),this.callback(a||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var a=this;return _asyncToGenerator(function*(){a.cancelled||(a.operatorListIdx=a.gfx.executeOperatorList(a.operatorList,a.operatorListIdx,a._continueBound,a.stepper),a.operatorListIdx===a.operatorList.argsArray.length&&(a.running=!1,a.operatorList.lastChunk&&(a.gfx.endDrawing(),a._canvas&&Pe(m,C).delete(a._canvas),a.callback())))})()}};let InternalRenderTask=m;C=new WeakMap,Ee(InternalRenderTask,C,new WeakSet);const version="2.14.305";exports.version=version;const build="eaaa8b4ad";exports.build=build},(_e,L,ne)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.StatTimer=L.RenderingCancelledException=L.PixelsPerInch=L.PageViewport=L.PDFDateString=L.DOMStandardFontDataFactory=L.DOMSVGFactory=L.DOMCanvasFactory=L.DOMCMapReaderFactory=void 0,L.deprecated=function r(R){console.log("Deprecated API usage: "+R)},L.getFilenameFromUrl=function u(R){const F=R.indexOf("#"),B=R.indexOf("?"),z=Math.min(F>0?F:R.length,B>0?B:R.length);return R.substring(R.lastIndexOf("/",z)+1,z)},L.getPdfFilenameFromUrl=function x(R,F="document.pdf"){if("string"!=typeof R)return F;if(i(R))return(0,ue.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),F;const z=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Z=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(R);let te=z.exec(Z[1])||z.exec(Z[2])||z.exec(Z[3]);if(te&&(te=te[0],te.includes("%")))try{te=z.exec(decodeURIComponent(te))[0]}catch{}return te||F},L.getXfaPageViewport=function v(R,{scale:F=1,rotation:B=0}){const{width:z,height:Z}=R.attributes.style,te=[0,0,parseInt(z),parseInt(Z)];return new a({viewBox:te,scale:F,rotation:B})},L.isDataScheme=i,L.isPdfFile=function s(R){return"string"==typeof R&&/\.pdf$/i.test(R)},L.isValidFetchUrl=g,L.loadScript=function t(R,F=!1){return new Promise((B,z)=>{const Z=document.createElement("script");Z.src=R,Z.onload=function(te){F&&Z.remove(),B(te)},Z.onerror=function(){z(new Error(`Cannot load script at: ${Z.src}`))},(document.head||document.documentElement).appendChild(Z)})};var f=ne(6),ue=ne(1);const k=class{};let y,K=k;function I(R){return h.apply(this,arguments)}function h(){return(h=_asyncToGenerator(function*(R,F=!1){if(g(R,document.baseURI)){const B=yield fetch(R);if(!B.ok)throw new Error(B.statusText);return F?new Uint8Array(yield B.arrayBuffer()):(0,ue.stringToBytes)(yield B.text())}return new Promise((B,z)=>{const Z=new XMLHttpRequest;Z.open("GET",R,!0),F&&(Z.responseType="arraybuffer"),Z.onreadystatechange=()=>{if(Z.readyState===XMLHttpRequest.DONE){if(200===Z.status||0===Z.status){let te;if(F&&Z.response?te=new Uint8Array(Z.response):!F&&Z.responseText&&(te=(0,ue.stringToBytes)(Z.responseText)),te)return void B(te)}z(new Error(Z.statusText))}},Z.send(null)})})).apply(this,arguments)}ze(K,"CSS",96),ze(K,"PDF",72),ze(K,"PDF_TO_CSS_UNITS",k.CSS/k.PDF),L.PixelsPerInch=K,L.DOMCanvasFactory=class n extends f.BaseCanvasFactory{constructor({ownerDocument:F=globalThis.document}={}){super(),this._document=F}_createCanvas(F,B){const z=this._document.createElement("canvas");return z.width=F,z.height=B,z}},L.DOMCMapReaderFactory=class C extends f.BaseCMapReaderFactory{_fetchData(F,B){return I(F,this.isCompressed).then(z=>({cMapData:z,compressionType:B}))}},L.DOMStandardFontDataFactory=class m extends f.BaseStandardFontDataFactory{_fetchData(F){return I(F,!0)}},L.DOMSVGFactory=class p extends f.BaseSVGFactory{_createSVG(F){return document.createElementNS("http://www.w3.org/2000/svg",F)}};class a{constructor({viewBox:F,scale:B,rotation:z,offsetX:Z=0,offsetY:te=0,dontFlip:U=!1}){this.viewBox=F,this.scale=B,this.rotation=z,this.offsetX=Z,this.offsetY=te;const Y=(F[2]+F[0])/2,$=(F[3]+F[1])/2;let re,le,T,o,l,e,c,d;switch((z%=360)<0&&(z+=360),z){case 180:re=-1,le=0,T=0,o=1;break;case 90:re=0,le=1,T=1,o=0;break;case 270:re=0,le=-1,T=-1,o=0;break;case 0:re=1,le=0,T=0,o=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}U&&(T=-T,o=-o),0===re?(l=Math.abs($-F[1])*B+Z,e=Math.abs(Y-F[0])*B+te,c=Math.abs(F[3]-F[1])*B,d=Math.abs(F[2]-F[0])*B):(l=Math.abs(Y-F[0])*B+Z,e=Math.abs($-F[1])*B+te,c=Math.abs(F[2]-F[0])*B,d=Math.abs(F[3]-F[1])*B),this.transform=[re*B,le*B,T*B,o*B,l-re*B*Y-T*B*$,e-le*B*Y-o*B*$],this.width=c,this.height=d}clone({scale:F=this.scale,rotation:B=this.rotation,offsetX:z=this.offsetX,offsetY:Z=this.offsetY,dontFlip:te=!1}={}){return new a({viewBox:this.viewBox.slice(),scale:F,rotation:B,offsetX:z,offsetY:Z,dontFlip:te})}convertToViewportPoint(F,B){return ue.Util.applyTransform([F,B],this.transform)}convertToViewportRectangle(F){const B=ue.Util.applyTransform([F[0],F[1]],this.transform),z=ue.Util.applyTransform([F[2],F[3]],this.transform);return[B[0],B[1],z[0],z[1]]}convertToPdfPoint(F,B){return ue.Util.applyInverseTransform([F,B],this.transform)}}function i(R){const F=R.length;let B=0;for(;B<F&&""===R[B].trim();)B++;return"data:"===R.substring(B,B+5).toLowerCase()}function g(R,F){try{const{protocol:B}=F?new URL(R,F):new URL(R);return"http:"===B||"https:"===B}catch{return!1}}L.PageViewport=a,L.RenderingCancelledException=class b extends ue.BaseException{constructor(F,B){super(F,"RenderingCancelledException"),this.type=B}},L.StatTimer=class _{constructor(){this.started=Object.create(null),this.times=[]}time(F){F in this.started&&(0,ue.warn)(`Timer is already running for ${F}`),this.started[F]=Date.now()}timeEnd(F){F in this.started||(0,ue.warn)(`Timer has not been started for ${F}`),this.times.push({name:F,start:this.started[F],end:Date.now()}),delete this.started[F]}toString(){const F=[];let B=0;for(const z of this.times){const Z=z.name;Z.length>B&&(B=Z.length)}for(const z of this.times){const Z=z.end-z.start;F.push(`${z.name.padEnd(B)} ${Z}ms\n`)}return F.join("")}},L.PDFDateString=class A{static toDateObject(F){if(!F||"string"!=typeof F)return null;y||(y=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const B=y.exec(F);if(!B)return null;const z=parseInt(B[1],10);let Z=parseInt(B[2],10);Z=Z>=1&&Z<=12?Z-1:0;let te=parseInt(B[3],10);te=te>=1&&te<=31?te:1;let U=parseInt(B[4],10);U=U>=0&&U<=23?U:0;let Y=parseInt(B[5],10);Y=Y>=0&&Y<=59?Y:0;let $=parseInt(B[6],10);$=$>=0&&$<=59?$:0;const re=B[7]||"Z";let le=parseInt(B[8],10);le=le>=0&&le<=23?le:0;let T=parseInt(B[9],10)||0;return T=T>=0&&T<=59?T:0,"-"===re?(U+=le,Y+=T):"+"===re&&(U-=le,Y-=T),new Date(Date.UTC(z,Z,te,U,Y,$))}}},(_e,L,ne)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.BaseStandardFontDataFactory=L.BaseSVGFactory=L.BaseCanvasFactory=L.BaseCMapReaderFactory=void 0;var f=ne(1);class ue{constructor(){this.constructor===ue&&(0,f.unreachable)("Cannot initialize BaseCanvasFactory.")}create(h,C){if(h<=0||C<=0)throw new Error("Invalid canvas size");const m=this._createCanvas(h,C);return{canvas:m,context:m.getContext("2d")}}reset(h,C,m){if(!h.canvas)throw new Error("Canvas is not specified");if(C<=0||m<=0)throw new Error("Invalid canvas size");h.canvas.width=C,h.canvas.height=m}destroy(h){if(!h.canvas)throw new Error("Canvas is not specified");h.canvas.width=0,h.canvas.height=0,h.canvas=null,h.context=null}_createCanvas(h,C){(0,f.unreachable)("Abstract method `_createCanvas` called.")}}L.BaseCanvasFactory=ue;class se{constructor({baseUrl:h=null,isCompressed:C=!1}){this.constructor===se&&(0,f.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=h,this.isCompressed=C}fetch({name:h}){var C=this;return _asyncToGenerator(function*(){if(!C.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!h)throw new Error("CMap name must be specified.");const m=C.baseUrl+h+(C.isCompressed?".bcmap":"");return C._fetchData(m,C.isCompressed?f.CMapCompressionType.BINARY:f.CMapCompressionType.NONE).catch(a=>{throw new Error(`Unable to load ${C.isCompressed?"binary ":""}CMap at: ${m}`)})})()}_fetchData(h,C){(0,f.unreachable)("Abstract method `_fetchData` called.")}}L.BaseCMapReaderFactory=se;class K{constructor({baseUrl:h=null}){this.constructor===K&&(0,f.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=h}fetch({filename:h}){var C=this;return _asyncToGenerator(function*(){if(!C.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!h)throw new Error("Font filename must be specified.");const m=`${C.baseUrl}${h}`;return C._fetchData(m).catch(p=>{throw new Error(`Unable to load font data at: ${m}`)})})()}_fetchData(h){(0,f.unreachable)("Abstract method `_fetchData` called.")}}L.BaseStandardFontDataFactory=K;class n{constructor(){this.constructor===n&&(0,f.unreachable)("Cannot initialize BaseSVGFactory.")}create(h,C){if(h<=0||C<=0)throw new Error("Invalid SVG dimensions");const m=this._createSVG("svg:svg");return m.setAttribute("version","1.1"),m.setAttribute("width",`${h}px`),m.setAttribute("height",`${C}px`),m.setAttribute("preserveAspectRatio","none"),m.setAttribute("viewBox",`0 0 ${h} ${C}`),m}createElement(h){if("string"!=typeof h)throw new Error("Invalid SVG element type");return this._createSVG(h)}_createSVG(h){(0,f.unreachable)("Abstract method `_createSVG` called.")}}L.BaseSVGFactory=n},(_e,L,ne)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.FontLoader=L.FontFaceObject=void 0;var f=ne(1);class ue{constructor({docId:I,onUnsupportedFeature:h,ownerDocument:C=globalThis.document,styleElement:m=null}){this.constructor===ue&&(0,f.unreachable)("Cannot initialize BaseFontLoader."),this.docId=I,this._onUnsupportedFeature=h,this._document=C,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(I){this.nativeFontFaces.push(I),this._document.fonts.add(I)}insertRule(I){let h=this.styleElement;h||(h=this.styleElement=this._document.createElement("style"),h.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(h));const C=h.sheet;C.insertRule(I,C.cssRules.length)}clear(){for(const I of this.nativeFontFaces)this._document.fonts.delete(I);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(I){var h=this;return _asyncToGenerator(function*(){if(I.attached||I.missingFile)return;if(I.attached=!0,h.isFontLoadingAPISupported){const m=I.createNativeFontFace();if(m){h.addNativeFontFace(m);try{yield m.loaded}catch(p){throw h._onUnsupportedFeature({featureId:f.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,f.warn)(`Failed to load font '${m.family}': '${p}'.`),I.disableFontFace=!0,p}}return}const C=I.createFontFaceRule();if(C){if(h.insertRule(C),h.isSyncFontLoadingSupported)return;yield new Promise(m=>{const p=h._queueLoadingCallback(m);h._prepareFontLoadEvent([C],[I],p)})}})()}_queueLoadingCallback(I){(0,f.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){return(0,f.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){(0,f.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,f.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(I,h,C){(0,f.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let se;L.FontLoader=se,L.FontLoader=se=class extends ue{constructor(I){super(I),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let I=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(I=!0),(0,f.shadow)(this,"isSyncFontLoadingSupported",I)}_queueLoadingCallback(I){const C=this.loadingContext,m={id:"pdfjs-font-loading-"+C.nextRequestId++,done:!1,complete:function h(){for((0,f.assert)(!m.done,"completeRequest() cannot be called twice."),m.done=!0;C.requests.length>0&&C.requests[0].done;){const p=C.requests.shift();setTimeout(p.callback,0)}},callback:I};return C.requests.push(m),m}get _loadTestFont(){return(0,f.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(I,h,C){function m(B,z){return B.charCodeAt(z)<<24|B.charCodeAt(z+1)<<16|B.charCodeAt(z+2)<<8|255&B.charCodeAt(z+3)}function p(B,z,Z,te){return B.substring(0,z)+te+B.substring(z+Z)}let a,b;const i=this._document.createElement("canvas");i.width=1,i.height=1;const s=i.getContext("2d");let u=0;const _=`lt${Date.now()}${this.loadTestFontId++}`;let g=this._loadTestFont;g=p(g,976,_.length,_);const y=1482184792;let A=m(g,16);for(a=0,b=_.length-3;a<b;a+=4)A=A-y+m(_,a)|0;a<_.length&&(A=A-y+m(_+"XXX",a)|0),g=p(g,16,4,(0,f.string32)(A));const v=`url(data:font/opentype;base64,${btoa(g)});`;this.insertRule(`@font-face {font-family:"${_}";src:${v}}`);const R=[];for(const B of h)R.push(B.loadedName);R.push(_);const F=this._document.createElement("div");F.style.visibility="hidden",F.style.width=F.style.height="10px",F.style.position="absolute",F.style.top=F.style.left="0px";for(const B of R){const z=this._document.createElement("span");z.textContent="Hi",z.style.fontFamily=B,F.appendChild(z)}this._document.body.appendChild(F),function x(B,z){if(u++,u>30)return(0,f.warn)("Load test font never loaded."),void z();s.font="30px "+B,s.fillText(".",0,20),s.getImageData(0,0,1,1).data[3]>0?z():setTimeout(x.bind(null,B,z))}(_,()=>{F.remove(),C.complete()})}},L.FontFaceObject=class K{constructor(I,{isEvalSupported:h=!0,disableFontFace:C=!1,ignoreErrors:m=!1,onUnsupportedFeature:p,fontRegistry:a=null}){this.compiledGlyphs=Object.create(null);for(const b in I)this[b]=I[b];this.isEvalSupported=!1!==h,this.disableFontFace=!0===C,this.ignoreErrors=!0===m,this._onUnsupportedFeature=p,this.fontRegistry=a}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let I;if(this.cssFontInfo){const h={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(h.style=`oblique ${this.cssFontInfo.italicAngle}deg`),I=new FontFace(this.cssFontInfo.fontFamily,this.data,h)}else I=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),I}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const I=(0,f.bytesToString)(this.data),h=`url(data:${this.mimetype};base64,${btoa(I)});`;let C;if(this.cssFontInfo){let m=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(m+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),C=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${m}src:${h}}`}else C=`@font-face {font-family:"${this.loadedName}";src:${h}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,h),C}getPathGenerator(I,h){if(void 0!==this.compiledGlyphs[h])return this.compiledGlyphs[h];let C;try{C=I.get(this.loadedName+"_path_"+h)}catch(m){if(!this.ignoreErrors)throw m;return this._onUnsupportedFeature({featureId:f.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,f.warn)(`getPathGenerator - ignoring character: "${m}".`),this.compiledGlyphs[h]=function(p,a){}}if(this.isEvalSupported&&f.FeatureTest.isEvalSupported){const m=[];for(const p of C){const a=void 0!==p.args?p.args.join(","):"";m.push("c.",p.cmd,"(",a,");\n")}return this.compiledGlyphs[h]=new Function("c","size",m.join(""))}return this.compiledGlyphs[h]=function(m,p){for(const a of C)"scale"===a.cmd&&(a.args=[p,-p]),m[a.cmd].apply(m,a.args)}}}},(_e,L,ne)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.AnnotationStorage=void 0;var f=ne(9),ue=ne(1);L.AnnotationStorage=class se{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(n,I){const h=this._storage.get(n);return void 0===h?I:Object.assign(I,h)}getRawValue(n){return this._storage.get(n)}setValue(n,I){const h=this._storage.get(n);let C=!1;if(void 0!==h)for(const[m,p]of Object.entries(I))h[m]!==p&&(C=!0,h[m]=p);else C=!0,this._storage.set(n,I);C&&this._setModified()}getAll(){return this._storage.size>0?(0,ue.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get hash(){const n=new f.MurmurHash3_64;for(const[I,h]of this._storage)n.update(`${I}:${JSON.stringify(h)}`);return n.hexdigest()}}},(_e,L,ne)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.MurmurHash3_64=void 0;var f=ne(1);const ue=3285377520,se=4294901760,K=65535;L.MurmurHash3_64=class n{constructor(h){this.h1=h?4294967295&h:ue,this.h2=h?4294967295&h:ue}update(h){let C,m;if("string"==typeof h){C=new Uint8Array(2*h.length),m=0;for(let y=0,A=h.length;y<A;y++){const v=h.charCodeAt(y);v<=255?C[m++]=v:(C[m++]=v>>>8,C[m++]=255&v)}}else{if(!(0,f.isArrayBuffer)(h))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");C=h.slice(),m=C.byteLength}const p=m>>2,a=m-4*p,b=new Uint32Array(C.buffer,0,p);let i=0,s=0,u=this.h1,x=this.h2;const _=3432918353,g=461845907,t=_&K,r=g&K;for(let y=0;y<p;y++)1&y?(i=b[y],i=i*_&se|i*t&K,i=i<<15|i>>>17,i=i*g&se|i*r&K,u^=i,u=u<<13|u>>>19,u=5*u+3864292196):(s=b[y],s=s*_&se|s*t&K,s=s<<15|s>>>17,s=s*g&se|s*r&K,x^=s,x=x<<13|x>>>19,x=5*x+3864292196);switch(i=0,a){case 3:i^=C[4*p+2]<<16;case 2:i^=C[4*p+1]<<8;case 1:i^=C[4*p],i=i*_&se|i*t&K,i=i<<15|i>>>17,i=i*g&se|i*r&K,1&p?u^=i:x^=i}this.h1=u,this.h2=x}hexdigest(){let h=this.h1,C=this.h2;h^=C>>>1,h=3981806797*h&se|36045*h&K,C=4283543511*C&se|(2950163797*(C<<16|h>>>16)&se)>>>16,h^=C>>>1,h=444984403*h&se|60499*h&K,C=3301882366*C&se|(3120437893*(C<<16|h>>>16)&se)>>>16,h^=C>>>1;const m=(h>>>0).toString(16),p=(C>>>0).toString(16);return m.padStart(8,"0")+p.padStart(8,"0")}}},(_e,L,ne)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.CanvasGraphics=void 0;var f=ne(1),ue=ne(11),se=ne(12),K=ne(3),n=ne(5);const C=4096,i=16;function x(T){if(T._transformStack&&(T._transformStack=[]),!T.mozCurrentTransform){T._originalSave=T.save,T._originalRestore=T.restore,T._originalRotate=T.rotate,T._originalScale=T.scale,T._originalTranslate=T.translate,T._originalTransform=T.transform,T._originalSetTransform=T.setTransform,T._originalResetTransform=T.resetTransform,T._transformMatrix=T._transformMatrix||[1,0,0,1,0,0],T._transformStack=[];try{const o=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(T),"lineWidth");T._setLineWidth=o.set,T._getLineWidth=o.get,Object.defineProperty(T,"lineWidth",{set:function(e){this._setLineWidth(1.000001*e)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(T,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(T,"mozCurrentTransformInverse",{get:function(){const[l,e,c,d,w,P]=this._transformMatrix,E=l*d-e*c,V=e*c-l*d;return[d/E,e/V,c/V,l/E,(d*w-c*P)/V,(e*w-l*P)/E]}}),T.save=function(){const l=this._transformMatrix;this._transformStack.push(l),this._transformMatrix=l.slice(0,6),this._originalSave()},T.restore=function(){0===this._transformStack.length&&(0,f.warn)("Tried to restore a ctx when the stack was already empty.");const l=this._transformStack.pop();l&&(this._transformMatrix=l,this._originalRestore())},T.translate=function(l,e){const c=this._transformMatrix;c[4]=c[0]*l+c[2]*e+c[4],c[5]=c[1]*l+c[3]*e+c[5],this._originalTranslate(l,e)},T.scale=function(l,e){const c=this._transformMatrix;c[0]*=l,c[1]*=l,c[2]*=e,c[3]*=e,this._originalScale(l,e)},T.transform=function(l,e,c,d,w,P){const E=this._transformMatrix;this._transformMatrix=[E[0]*l+E[2]*e,E[1]*l+E[3]*e,E[0]*c+E[2]*d,E[1]*c+E[3]*d,E[0]*w+E[2]*P+E[4],E[1]*w+E[3]*P+E[5]],T._originalTransform(l,e,c,d,w,P)},T.setTransform=function(l,e,c,d,w,P){this._transformMatrix=[l,e,c,d,w,P],T._originalSetTransform(l,e,c,d,w,P)},T.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],T._originalResetTransform()},T.rotate=function(l){const e=Math.cos(l),c=Math.sin(l),d=this._transformMatrix;this._transformMatrix=[d[0]*e+d[2]*c,d[1]*e+d[3]*c,d[0]*-c+d[2]*e,d[1]*-c+d[3]*e,d[4],d[5]],this._originalRotate(l)}}}class _{constructor(o){this.canvasFactory=o,this.cache=Object.create(null)}getCanvas(o,l,e,c){let d;return void 0!==this.cache[o]?(d=this.cache[o],this.canvasFactory.reset(d,l,e),d.context.setTransform(1,0,0,1,0,0)):(d=this.canvasFactory.create(l,e),this.cache[o]=d),c&&x(d.context),d}delete(o){delete this.cache[o]}clear(){for(const o in this.cache)this.canvasFactory.destroy(this.cache[o]),delete this.cache[o]}}function g(T,o,l,e,c,d,w,P,E,V){const[W,j,H,Q,ee,fe]=T.mozCurrentTransform;if(0===j&&0===H){const ae=Math.round(w*W+ee),N=Math.round(P*Q+fe),Ae=Math.abs(Math.round((w+E)*W+ee)-ae)||1,ge=Math.abs(Math.round((P+V)*Q+fe)-N)||1;return T.setTransform(Math.sign(W),0,0,Math.sign(Q),ae,N),T.drawImage(o,l,e,c,d,0,0,Ae,ge),T.setTransform(W,j,H,Q,ee,fe),[Ae,ge]}if(0===W&&0===Q){const ae=Math.round(P*H+ee),N=Math.round(w*j+fe),Ae=Math.abs(Math.round((P+V)*H+ee)-ae)||1,ge=Math.abs(Math.round((w+E)*j+fe)-N)||1;return T.setTransform(0,Math.sign(j),Math.sign(H),0,ae,N),T.drawImage(o,l,e,c,d,0,0,ge,Ae),T.setTransform(W,j,H,Q,ee,fe),[ge,Ae]}return T.drawImage(o,l,e,c,d,w,P,E,V),[Math.hypot(W,j)*E,Math.hypot(H,Q)*V]}class r{constructor(o,l){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=f.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=f.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=f.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,o,l])}clone(){const o=Object.create(this);return o.clipBox=this.clipBox.slice(),o}setCurrentPoint(o,l){this.x=o,this.y=l}updatePathMinMax(o,l,e){[l,e]=f.Util.applyTransform([l,e],o),this.minX=Math.min(this.minX,l),this.minY=Math.min(this.minY,e),this.maxX=Math.max(this.maxX,l),this.maxY=Math.max(this.maxY,e)}updateRectMinMax(o,l){const e=f.Util.applyTransform(l,o),c=f.Util.applyTransform(l.slice(2),o);this.minX=Math.min(this.minX,e[0],c[0]),this.minY=Math.min(this.minY,e[1],c[1]),this.maxX=Math.max(this.maxX,e[0],c[0]),this.maxY=Math.max(this.maxY,e[1],c[1])}updateScalingPathMinMax(o,l){f.Util.scaleMinMax(o,l),this.minX=Math.min(this.minX,l[0]),this.maxX=Math.max(this.maxX,l[1]),this.minY=Math.min(this.minY,l[2]),this.maxY=Math.max(this.maxY,l[3])}updateCurvePathMinMax(o,l,e,c,d,w,P,E,V,W){const j=f.Util.bezierBoundingBox(l,e,c,d,w,P,E,V);if(W)return W[0]=Math.min(W[0],j[0],j[2]),W[1]=Math.max(W[1],j[0],j[2]),W[2]=Math.min(W[2],j[1],j[3]),void(W[3]=Math.max(W[3],j[1],j[3]));this.updateRectMinMax(o,j)}getPathBoundingBox(o=ue.PathType.FILL,l=null){const e=[this.minX,this.minY,this.maxX,this.maxY];if(o===ue.PathType.STROKE){l||(0,f.unreachable)("Stroke bounding box must include transform.");const c=f.Util.singularValueDecompose2dScale(l),d=c[0]*this.lineWidth/2,w=c[1]*this.lineWidth/2;e[0]-=d,e[1]-=w,e[2]+=d,e[3]+=w}return e}updateClipFromPath(){const o=f.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(o||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(o){this.clipBox=o,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(o=ue.PathType.FILL,l=null){return f.Util.intersect(this.clipBox,this.getPathBoundingBox(o,l))}}function y(T,o,l=null){if(typeof ImageData<"u"&&o instanceof ImageData)return void T.putImageData(o,0,0);const e=o.height,c=o.width,d=e%i,w=(e-d)/i,P=0===d?w:w+1,E=T.createImageData(c,i);let W,V=0;const j=o.data,H=E.data;let Q,ee,fe,Ce,J,oe,ae,S;if(l)switch(l.length){case 1:J=l[0],oe=l[0],ae=l[0],S=l[0];break;case 4:J=l[0],oe=l[1],ae=l[2],S=l[3]}if(o.kind===f.ImageKind.GRAYSCALE_1BPP){const N=j.byteLength,X=new Uint32Array(H.buffer,0,H.byteLength>>2),Ae=X.length,me=c+7>>3;let ge=4294967295,Se=f.FeatureTest.isLittleEndian?4278190080:255;for(S&&255===S[0]&&0===S[255]&&([ge,Se]=[Se,ge]),Q=0;Q<P;Q++){for(fe=Q<w?i:d,W=0,ee=0;ee<fe;ee++){const ve=N-V;let Te=0;const Le=ve>me?c:8*ve-7,Re=-8&Le;let ie=0,O=0;for(;Te<Re;Te+=8)O=j[V++],X[W++]=128&O?ge:Se,X[W++]=64&O?ge:Se,X[W++]=32&O?ge:Se,X[W++]=16&O?ge:Se,X[W++]=8&O?ge:Se,X[W++]=4&O?ge:Se,X[W++]=2&O?ge:Se,X[W++]=1&O?ge:Se;for(;Te<Le;Te++)0===ie&&(O=j[V++],ie=128),X[W++]=O&ie?ge:Se,ie>>=1}for(;W<Ae;)X[W++]=0;T.putImageData(E,0,Q*i)}}else if(o.kind===f.ImageKind.RGBA_32BPP){const N=!!(J||oe||ae);for(ee=0,Ce=c*i*4,Q=0;Q<w;Q++){if(H.set(j.subarray(V,V+Ce)),V+=Ce,N)for(let X=0;X<Ce;X+=4)J&&(H[X+0]=J[H[X+0]]),oe&&(H[X+1]=oe[H[X+1]]),ae&&(H[X+2]=ae[H[X+2]]);T.putImageData(E,0,ee),ee+=i}if(Q<P){if(Ce=c*d*4,H.set(j.subarray(V,V+Ce)),N)for(let X=0;X<Ce;X+=4)J&&(H[X+0]=J[H[X+0]]),oe&&(H[X+1]=oe[H[X+1]]),ae&&(H[X+2]=ae[H[X+2]]);T.putImageData(E,0,ee)}}else{if(o.kind!==f.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${o.kind}`);{const N=!!(J||oe||ae);for(fe=i,Ce=c*fe,Q=0;Q<P;Q++){for(Q>=w&&(fe=d,Ce=c*fe),W=0,ee=Ce;ee--;)H[W++]=j[V++],H[W++]=j[V++],H[W++]=j[V++],H[W++]=255;if(N)for(let X=0;X<W;X+=4)J&&(H[X+0]=J[H[X+0]]),oe&&(H[X+1]=oe[H[X+1]]),ae&&(H[X+2]=ae[H[X+2]]);T.putImageData(E,0,Q*i)}}}}function A(T,o){if(o.bitmap)return void T.drawImage(o.bitmap,0,0);const l=o.height,e=o.width,c=l%i,d=(l-c)/i,w=0===c?d:d+1,P=T.createImageData(e,i);let E=0;const V=o.data,W=P.data;for(let j=0;j<w;j++){const H=j<d?i:c;({srcPos:E}=(0,se.applyMaskImageData)({src:V,srcPos:E,dest:W,width:e,height:H})),T.putImageData(P,0,j*i)}}function v(T,o){const l=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let e=0,c=l.length;e<c;e++){const d=l[e];void 0!==T[d]&&(o[d]=T[d])}void 0!==T.setLineDash&&(o.setLineDash(T.getLineDash()),o.lineDashOffset=T.lineDashOffset)}function k(T,o){T.strokeStyle=T.fillStyle=o||"#000000",T.fillRule="nonzero",T.globalAlpha=1,T.lineWidth=1,T.lineCap="butt",T.lineJoin="miter",T.miterLimit=10,T.globalCompositeOperation="source-over",T.font="10px sans-serif",void 0!==T.setLineDash&&(T.setLineDash([]),T.lineDashOffset=0)}function R(T,o,l,e){const c=T.length;for(let d=3;d<c;d+=4){const w=T[d];if(0===w)T[d-3]=o,T[d-2]=l,T[d-1]=e;else if(w<255){const P=255-w;T[d-3]=T[d-3]*w+o*P>>8,T[d-2]=T[d-2]*w+l*P>>8,T[d-1]=T[d-1]*w+e*P>>8}}}function F(T,o,l){const e=T.length;for(let d=3;d<e;d+=4)o[d]=o[d]*(l?l[T[d]]:T[d])*.00392156862745098|0}function B(T,o,l){const e=T.length;for(let c=3;c<e;c+=4){const d=77*T[c-3]+152*T[c-2]+28*T[c-1];o[c]=l?o[c]*l[d>>8]>>8:o[c]*d>>16}}function te(T,o){const l=f.Util.singularValueDecompose2dScale(T);l[0]=Math.fround(l[0]),l[1]=Math.fround(l[1]);const e=Math.fround((globalThis.devicePixelRatio||1)*n.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==o?o:l[0]<=e||l[1]<=e}const U=["butt","round","square"],Y=["miter","round","bevel"],$={},re={};class le{constructor(o,l,e,c,d,w,P,E){this.ctx=o,this.current=new r(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=l,this.objs=e,this.canvasFactory=c,this.imageLayer=d,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=w,this.cachedCanvases=new _(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=P,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=E?.background||null,this.foregroundColor=E?.foreground||null,o&&x(o),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(o,l=null){return"string"==typeof o?o.startsWith("g_")?this.commonObjs.get(o):this.objs.get(o):l}beginDrawing({transform:o,viewport:l,transparency:e=!1,background:c=null}){const d=this.ctx.canvas.width,w=this.ctx.canvas.height,P=c||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const E=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const V=this.backgroundColor=this.ctx.fillStyle;let W=!0,j=P;if(this.ctx.fillStyle=P,j=this.ctx.fillStyle,W="string"==typeof j&&/^#[0-9A-Fa-f]{6}$/.test(j),"#000000"===E&&"#ffffff"===V||E===V||!W)this.foregroundColor=this.backgroundColor=null;else{const H=parseInt(j.slice(1),16),ee=(H&&65280)>>8,fe=H&&255,Ce=oe=>(oe/=255)<=.03928?oe/12.92:((oe+.055)/1.055)**2.4,J=Math.round(.2126*Ce((H&&16711680)>>16)+.7152*Ce(ee)+.0722*Ce(fe));this.selectColor=(oe,ae,S)=>{const N=.2126*Ce(oe)+.7152*Ce(ae)+.0722*Ce(S);return Math.round(N)===J?V:E}}}if(this.ctx.fillStyle=this.backgroundColor||P,this.ctx.fillRect(0,0,d,w),this.ctx.restore(),e){const E=this.cachedCanvases.getCanvas("transparent",d,w,!0);this.compositeCtx=this.ctx,this.transparentCanvas=E.canvas,this.ctx=E.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),k(this.ctx,this.foregroundColor),o&&(this.ctx.transform.apply(this.ctx,o),this.outputScaleX=o[0],this.outputScaleY=o[0]),this.ctx.transform.apply(this.ctx,l.transform),this.viewportScale=l.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(o,l,e,c){const d=o.argsArray,w=o.fnArray;let P=l||0;const E=d.length;if(E===P)return P;const V=E-P>10&&"function"==typeof e,W=V?Date.now()+15:0;let j=0;const H=this.commonObjs,Q=this.objs;let ee;for(;;){if(void 0!==c&&P===c.nextBreakPoint)return c.breakIt(P,e),P;if(ee=w[P],ee!==f.OPS.dependency)this[ee].apply(this,d[P]);else for(const fe of d[P]){const Ce=fe.startsWith("g_")?H:Q;if(!Ce.has(fe))return Ce.get(fe,e),P}if(P++,P===E)return P;if(V&&++j>10){if(Date.now()>W)return e(),P;j=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const o of this._cachedBitmapsMap.values()){for(const l of o.values())typeof HTMLCanvasElement<"u"&&l instanceof HTMLCanvasElement&&(l.width=l.height=0);o.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(o,l){const e=o.width,c=o.height;let W,j,d=Math.max(Math.hypot(l[0],l[1]),1),w=Math.max(Math.hypot(l[2],l[3]),1),P=e,E=c,V="prescale1";for(;d>2&&P>1||w>2&&E>1;){let H=P,Q=E;d>2&&P>1&&(H=Math.ceil(P/2),d/=P/H),w>2&&E>1&&(Q=Math.ceil(E/2),w/=E/Q),W=this.cachedCanvases.getCanvas(V,H,Q,!1),j=W.context,j.clearRect(0,0,H,Q),j.drawImage(o,0,0,P,E,0,0,H,Q),o=W.canvas,P=H,E=Q,V="prescale1"===V?"prescale2":"prescale1"}return{img:o,paintWidth:P,paintHeight:E}}_createMaskCanvas(o){const l=this.ctx,{width:e,height:c}=o,d=this.current.fillColor,w=this.current.patternFill,P=l.mozCurrentTransform;let E,V,W,j;if((o.bitmap||o.data)&&o.count>1){const Ae=o.bitmap||o.data.buffer,me=P.slice(0,4);V=JSON.stringify(w?me:[me,d]),E=this._cachedBitmapsMap.get(Ae),E||(E=new Map,this._cachedBitmapsMap.set(Ae,E));const ge=E.get(V);if(ge&&!w)return{canvas:ge,offsetX:Math.round(Math.min(P[0],P[2])+P[4]),offsetY:Math.round(Math.min(P[1],P[3])+P[5])};W=ge}W||(j=this.cachedCanvases.getCanvas("maskCanvas",e,c,!1),A(j.context,o));let H=f.Util.transform(P,[1/e,0,0,-1/c,0,0]);H=f.Util.transform(H,[1,0,0,1,0,-c]);const Q=f.Util.applyTransform([0,0],H),ee=f.Util.applyTransform([e,c],H),fe=f.Util.normalizeRect([Q[0],Q[1],ee[0],ee[1]]),Ce=Math.round(fe[2]-fe[0])||1,J=Math.round(fe[3]-fe[1])||1,oe=this.cachedCanvases.getCanvas("fillCanvas",Ce,J,!0),ae=oe.context,S=Math.min(Q[0],ee[0]),N=Math.min(Q[1],ee[1]);ae.translate(-S,-N),ae.transform.apply(ae,H),W||(W=this._scaleImage(j.canvas,ae.mozCurrentTransformInverse),W=W.img,E&&w&&E.set(V,W)),ae.imageSmoothingEnabled=te(ae.mozCurrentTransform,o.interpolate),g(ae,W,0,0,W.width,W.height,0,0,e,c),ae.globalCompositeOperation="source-in";const X=f.Util.transform(ae.mozCurrentTransformInverse,[1,0,0,1,-S,-N]);return ae.fillStyle=w?d.getPattern(l,this,X,ue.PathType.FILL):d,ae.fillRect(0,0,e,c),E&&!w&&(this.cachedCanvases.delete("fillCanvas"),E.set(V,oe.canvas)),{canvas:oe.canvas,offsetX:Math.round(S),offsetY:Math.round(N)}}setLineWidth(o){o!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=o,this.ctx.lineWidth=o}setLineCap(o){this.ctx.lineCap=U[o]}setLineJoin(o){this.ctx.lineJoin=Y[o]}setMiterLimit(o){this.ctx.miterLimit=o}setDash(o,l){const e=this.ctx;void 0!==e.setLineDash&&(e.setLineDash(o),e.lineDashOffset=l)}setRenderingIntent(o){}setFlatness(o){}setGState(o){for(let l=0,e=o.length;l<e;l++){const c=o[l],w=c[1];switch(c[0]){case"LW":this.setLineWidth(w);break;case"LC":this.setLineCap(w);break;case"LJ":this.setLineJoin(w);break;case"ML":this.setMiterLimit(w);break;case"D":this.setDash(w[0],w[1]);break;case"RI":this.setRenderingIntent(w);break;case"FL":this.setFlatness(w);break;case"Font":this.setFont(w[0],w[1]);break;case"CA":this.current.strokeAlpha=c[1];break;case"ca":this.current.fillAlpha=c[1],this.ctx.globalAlpha=c[1];break;case"BM":this.ctx.globalCompositeOperation=w;break;case"SMask":this.current.activeSMask=w?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=w}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const o=this.inSMaskMode;this.current.activeSMask&&!o?this.beginSMaskMode():!this.current.activeSMask&&o&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const c=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=c.context;const d=this.ctx;d.setTransform.apply(d,this.suspendedCtx.mozCurrentTransform),v(this.suspendedCtx,d),function u(T,o){if(T._removeMirroring)throw new Error("Context is already forwarding operations.");T.__originalSave=T.save,T.__originalRestore=T.restore,T.__originalRotate=T.rotate,T.__originalScale=T.scale,T.__originalTranslate=T.translate,T.__originalTransform=T.transform,T.__originalSetTransform=T.setTransform,T.__originalResetTransform=T.resetTransform,T.__originalClip=T.clip,T.__originalMoveTo=T.moveTo,T.__originalLineTo=T.lineTo,T.__originalBezierCurveTo=T.bezierCurveTo,T.__originalRect=T.rect,T.__originalClosePath=T.closePath,T.__originalBeginPath=T.beginPath,T._removeMirroring=()=>{T.save=T.__originalSave,T.restore=T.__originalRestore,T.rotate=T.__originalRotate,T.scale=T.__originalScale,T.translate=T.__originalTranslate,T.transform=T.__originalTransform,T.setTransform=T.__originalSetTransform,T.resetTransform=T.__originalResetTransform,T.clip=T.__originalClip,T.moveTo=T.__originalMoveTo,T.lineTo=T.__originalLineTo,T.bezierCurveTo=T.__originalBezierCurveTo,T.rect=T.__originalRect,T.closePath=T.__originalClosePath,T.beginPath=T.__originalBeginPath,delete T._removeMirroring},T.save=function(){o.save(),this.__originalSave()},T.restore=function(){o.restore(),this.__originalRestore()},T.translate=function(e,c){o.translate(e,c),this.__originalTranslate(e,c)},T.scale=function(e,c){o.scale(e,c),this.__originalScale(e,c)},T.transform=function(e,c,d,w,P,E){o.transform(e,c,d,w,P,E),this.__originalTransform(e,c,d,w,P,E)},T.setTransform=function(e,c,d,w,P,E){o.setTransform(e,c,d,w,P,E),this.__originalSetTransform(e,c,d,w,P,E)},T.resetTransform=function(){o.resetTransform(),this.__originalResetTransform()},T.rotate=function(e){o.rotate(e),this.__originalRotate(e)},T.clip=function(e){o.clip(e),this.__originalClip(e)},T.moveTo=function(l,e){o.moveTo(l,e),this.__originalMoveTo(l,e)},T.lineTo=function(l,e){o.lineTo(l,e),this.__originalLineTo(l,e)},T.bezierCurveTo=function(l,e,c,d,w,P){o.bezierCurveTo(l,e,c,d,w,P),this.__originalBezierCurveTo(l,e,c,d,w,P)},T.rect=function(l,e,c,d){o.rect(l,e,c,d),this.__originalRect(l,e,c,d)},T.closePath=function(){o.closePath(),this.__originalClosePath()},T.beginPath=function(){o.beginPath(),this.__originalBeginPath()}}(d,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),v(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(o){this.current.activeSMask&&(o?(o[0]=Math.floor(o[0]),o[1]=Math.floor(o[1]),o[2]=Math.ceil(o[2]),o[3]=Math.ceil(o[3])):o=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function Z(T,o,l,e){const c=e[0],d=e[1],w=e[2]-c,P=e[3]-d;0===w||0===P||(function z(T,o,l,e,c,d,w,P,E,V,W){const j=!!d,H=j?d[0]:0,Q=j?d[1]:0,ee=j?d[2]:0;let fe;fe="Luminosity"===c?B:F;const J=Math.min(e,Math.ceil(1048576/l));for(let oe=0;oe<e;oe+=J){const ae=Math.min(J,e-oe),S=T.getImageData(P-V,oe+(E-W),l,ae),N=o.getImageData(P,oe+E,l,ae);j&&R(S.data,H,Q,ee),fe(S.data,N.data,w),o.putImageData(N,P,oe+E)}}(o.context,l,w,P,o.subtype,o.backdrop,o.transferMap,c,d,o.offsetX,o.offsetY),T.save(),T.globalAlpha=1,T.globalCompositeOperation="source-over",T.setTransform(1,0,0,1,0,0),T.drawImage(l.canvas,0,0),T.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,o),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(v(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const o=this.current;this.stateStack.push(o),this.current=o.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),v(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(o,l,e,c,d,w){this.ctx.transform(o,l,e,c,d,w),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(o,l,e){const c=this.ctx,d=this.current;let E,V,w=d.x,P=d.y;const W=c.mozCurrentTransform,j=0===W[0]&&0===W[3]||0===W[1]&&0===W[2],H=j?e.slice(0):null;for(let Q=0,ee=0,fe=o.length;Q<fe;Q++)switch(0|o[Q]){case f.OPS.rectangle:w=l[ee++],P=l[ee++];const Ce=l[ee++],J=l[ee++],oe=w+Ce,ae=P+J;c.moveTo(w,P),0===Ce||0===J?c.lineTo(oe,ae):(c.lineTo(oe,P),c.lineTo(oe,ae),c.lineTo(w,ae)),j||d.updateRectMinMax(W,[w,P,oe,ae]),c.closePath();break;case f.OPS.moveTo:w=l[ee++],P=l[ee++],c.moveTo(w,P),j||d.updatePathMinMax(W,w,P);break;case f.OPS.lineTo:w=l[ee++],P=l[ee++],c.lineTo(w,P),j||d.updatePathMinMax(W,w,P);break;case f.OPS.curveTo:E=w,V=P,w=l[ee+4],P=l[ee+5],c.bezierCurveTo(l[ee],l[ee+1],l[ee+2],l[ee+3],w,P),d.updateCurvePathMinMax(W,E,V,l[ee],l[ee+1],l[ee+2],l[ee+3],w,P,H),ee+=6;break;case f.OPS.curveTo2:E=w,V=P,c.bezierCurveTo(w,P,l[ee],l[ee+1],l[ee+2],l[ee+3]),d.updateCurvePathMinMax(W,E,V,w,P,l[ee],l[ee+1],l[ee+2],l[ee+3],H),w=l[ee+2],P=l[ee+3],ee+=4;break;case f.OPS.curveTo3:E=w,V=P,w=l[ee+2],P=l[ee+3],c.bezierCurveTo(l[ee],l[ee+1],w,P,w,P),d.updateCurvePathMinMax(W,E,V,l[ee],l[ee+1],w,P,w,P,H),ee+=4;break;case f.OPS.closePath:c.closePath()}j&&d.updateScalingPathMinMax(W,H),d.setCurrentPoint(w,P)}closePath(){this.ctx.closePath()}stroke(o){o=!(typeof o<"u")||o;const l=this.ctx,e=this.current.strokeColor;l.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof e&&e?.getPattern?(l.save(),l.strokeStyle=e.getPattern(l,this,l.mozCurrentTransformInverse,ue.PathType.STROKE),this.rescaleAndStroke(!1),l.restore()):this.rescaleAndStroke(!0)),o&&this.consumePath(this.current.getClippedPathBoundingBox()),l.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(o){o=!(typeof o<"u")||o;const l=this.ctx,e=this.current.fillColor;let d=!1;this.current.patternFill&&(l.save(),l.fillStyle=e.getPattern(l,this,l.mozCurrentTransformInverse,ue.PathType.FILL),d=!0);const w=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==w&&(this.pendingEOFill?(l.fill("evenodd"),this.pendingEOFill=!1):l.fill()),d&&l.restore(),o&&this.consumePath(w)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=$}eoClip(){this.pendingClip=re}beginText(){this.current.textMatrix=f.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const o=this.pendingTextPaths,l=this.ctx;if(void 0!==o){l.save(),l.beginPath();for(let e=0;e<o.length;e++){const c=o[e];l.setTransform.apply(l,c.transform),l.translate(c.x,c.y),c.addToPath(l,c.fontSize)}l.restore(),l.clip(),l.beginPath(),delete this.pendingTextPaths}else l.beginPath()}setCharSpacing(o){this.current.charSpacing=o}setWordSpacing(o){this.current.wordSpacing=o}setHScale(o){this.current.textHScale=o/100}setLeading(o){this.current.leading=-o}setFont(o,l){const e=this.commonObjs.get(o),c=this.current;if(!e)throw new Error(`Can't find font for ${o}`);if(c.fontMatrix=e.fontMatrix||f.FONT_IDENTITY_MATRIX,(0===c.fontMatrix[0]||0===c.fontMatrix[3])&&(0,f.warn)("Invalid font matrix for font "+o),l<0?(l=-l,c.fontDirection=-1):c.fontDirection=1,this.current.font=e,this.current.fontSize=l,e.isType3Font)return;let w="normal";e.black?w="900":e.bold&&(w="bold");const P=e.italic?"italic":"normal",E=`"${e.loadedName||"sans-serif"}", ${e.fallbackName}`;let V=l;l<16?V=16:l>100&&(V=100),this.current.fontSizeScale=l/V,this.ctx.font=`${P} ${w} ${V}px ${E}`}setTextRenderingMode(o){this.current.textRenderingMode=o}setTextRise(o){this.current.textRise=o}moveText(o,l){this.current.x=this.current.lineX+=o,this.current.y=this.current.lineY+=l}setLeadingMoveText(o,l){this.setLeading(-l),this.moveText(o,l)}setTextMatrix(o,l,e,c,d,w){this.current.textMatrix=[o,l,e,c,d,w],this.current.textMatrixScale=Math.hypot(o,l),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(o,l,e,c){const d=this.ctx,w=this.current,P=w.font,E=w.textRenderingMode,V=w.fontSize/w.fontSizeScale,W=E&f.TextRenderingMode.FILL_STROKE_MASK,j=!!(E&f.TextRenderingMode.ADD_TO_PATH_FLAG),H=w.patternFill&&!P.missingFile;let Q;(P.disableFontFace||j||H)&&(Q=P.getPathGenerator(this.commonObjs,o)),P.disableFontFace||H?(d.save(),d.translate(l,e),d.beginPath(),Q(d,V),c&&d.setTransform.apply(d,c),(W===f.TextRenderingMode.FILL||W===f.TextRenderingMode.FILL_STROKE)&&d.fill(),(W===f.TextRenderingMode.STROKE||W===f.TextRenderingMode.FILL_STROKE)&&d.stroke(),d.restore()):((W===f.TextRenderingMode.FILL||W===f.TextRenderingMode.FILL_STROKE)&&d.fillText(o,l,e),(W===f.TextRenderingMode.STROKE||W===f.TextRenderingMode.FILL_STROKE)&&d.strokeText(o,l,e)),j&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:d.mozCurrentTransform,x:l,y:e,fontSize:V,addToPath:Q})}get isFontSubpixelAAEnabled(){const{context:o}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10,!1);o.scale(1.5,1),o.fillText("I",0,10);const l=o.getImageData(0,0,10,10).data;let e=!1;for(let c=3;c<l.length;c+=4)if(l[c]>0&&l[c]<255){e=!0;break}return(0,f.shadow)(this,"isFontSubpixelAAEnabled",e)}showText(o){const l=this.current,e=l.font;if(e.isType3Font)return this.showType3Text(o);const c=l.fontSize;if(0===c)return;const d=this.ctx,w=l.fontSizeScale,P=l.charSpacing,E=l.wordSpacing,V=l.fontDirection,W=l.textHScale*V,j=o.length,H=e.vertical,Q=H?1:-1,ee=e.defaultVMetrics,fe=c*l.fontMatrix[0],Ce=l.textRenderingMode===f.TextRenderingMode.FILL&&!e.disableFontFace&&!l.patternFill;let J;if(d.save(),d.transform.apply(d,l.textMatrix),d.translate(l.x,l.y+l.textRise),d.scale(W,V>0?-1:1),l.patternFill){d.save();const X=l.fillColor.getPattern(d,this,d.mozCurrentTransformInverse,ue.PathType.FILL);J=d.mozCurrentTransform,d.restore(),d.fillStyle=X}let oe=l.lineWidth;const ae=l.textMatrixScale;if(0===ae||0===oe){const X=l.textRenderingMode&f.TextRenderingMode.FILL_STROKE_MASK;(X===f.TextRenderingMode.STROKE||X===f.TextRenderingMode.FILL_STROKE)&&(oe=this.getSinglePixelWidth())}else oe/=ae;1!==w&&(d.scale(w,w),oe/=w),d.lineWidth=oe;let N,S=0;for(N=0;N<j;++N){const X=o[N];if("number"==typeof X){S+=Q*X*c/1e3;continue}let Ae=!1;const me=(X.isSpace?E:0)+P,ge=X.fontChar,Se=X.accent;let ve,Te,Re,Le=X.width;if(H){const ie=X.vmetric||ee,O=-(X.vmetric?ie[1]:.5*Le)*fe;Le=ie?-ie[0]:Le,ve=O/w,Te=(S+ie[2]*fe)/w}else ve=S/w,Te=0;if(e.remeasure&&Le>0){const ie=1e3*d.measureText(ge).width/c*w;if(Le<ie&&this.isFontSubpixelAAEnabled){const O=Le/ie;Ae=!0,d.save(),d.scale(O,1),ve/=O}else Le!==ie&&(ve+=(Le-ie)/2e3*c/w)}this.contentVisible&&(X.isInFont||e.missingFile)&&(Ce&&!Se?d.fillText(ge,ve,Te):(this.paintChar(ge,ve,Te,J),Se&&this.paintChar(Se.fontChar,ve+c*Se.offset.x/w,Te-c*Se.offset.y/w,J))),Re=H?Le*fe-me*V:Le*fe+me*V,S+=Re,Ae&&d.restore()}H?l.y-=S:l.x+=S*W,d.restore(),this.compose()}showType3Text(o){const l=this.ctx,e=this.current,c=e.font,d=e.fontSize,w=e.fontDirection,P=c.vertical?1:-1,E=e.charSpacing,V=e.wordSpacing,W=e.textHScale*w,j=e.fontMatrix||f.FONT_IDENTITY_MATRIX,H=o.length;let ee,fe,Ce,J;if(e.textRenderingMode!==f.TextRenderingMode.INVISIBLE&&0!==d){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,l.save(),l.transform.apply(l,e.textMatrix),l.translate(e.x,e.y),l.scale(W,w),ee=0;ee<H;++ee){if(fe=o[ee],"number"==typeof fe){J=P*fe*d/1e3,this.ctx.translate(J,0),e.x+=J*W;continue}const oe=(fe.isSpace?V:0)+E,ae=c.charProcOperatorList[fe.operatorListId];ae?(this.contentVisible&&(this.processingType3=fe,this.save(),l.scale(d,d),l.transform.apply(l,j),this.executeOperatorList(ae),this.restore()),Ce=f.Util.applyTransform([fe.width,0],j)[0]*d+oe,l.translate(Ce,0),e.x+=Ce*W):(0,f.warn)(`Type3 character "${fe.operatorListId}" is not available.`)}l.restore(),this.processingType3=null}}setCharWidth(o,l){}setCharWidthAndBounds(o,l,e,c,d,w){this.ctx.rect(e,c,d-e,w-c),this.ctx.clip(),this.endPath()}getColorN_Pattern(o){let l;if("TilingPattern"===o[0]){const e=o[1],c=this.baseTransform||this.ctx.mozCurrentTransform.slice();l=new ue.TilingPattern(o,e,this.ctx,{createCanvasGraphics:w=>new le(w,this.commonObjs,this.objs,this.canvasFactory)},c)}else l=this._getPattern(o[1],o[2]);return l}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(o,l,e){const c=this.selectColor?.(o,l,e)||f.Util.makeHexColor(o,l,e);this.ctx.strokeStyle=c,this.current.strokeColor=c}setFillRGBColor(o,l,e){const c=this.selectColor?.(o,l,e)||f.Util.makeHexColor(o,l,e);this.ctx.fillStyle=c,this.current.fillColor=c,this.current.patternFill=!1}_getPattern(o,l=null){let e;return this.cachedPatterns.has(o)?e=this.cachedPatterns.get(o):(e=(0,ue.getShadingPattern)(this.objs.get(o)),this.cachedPatterns.set(o,e)),l&&(e.matrix=l),e}shadingFill(o){if(!this.contentVisible)return;const l=this.ctx;this.save();const e=this._getPattern(o);l.fillStyle=e.getPattern(l,this,l.mozCurrentTransformInverse,ue.PathType.SHADING);const c=l.mozCurrentTransformInverse;if(c){const d=l.canvas,w=d.width,P=d.height,E=f.Util.applyTransform([0,0],c),V=f.Util.applyTransform([0,P],c),W=f.Util.applyTransform([w,0],c),j=f.Util.applyTransform([w,P],c),H=Math.min(E[0],V[0],W[0],j[0]),Q=Math.min(E[1],V[1],W[1],j[1]),ee=Math.max(E[0],V[0],W[0],j[0]),fe=Math.max(E[1],V[1],W[1],j[1]);this.ctx.fillRect(H,Q,ee-H,fe-Q)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,f.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,f.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(o,l){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(o)&&6===o.length&&this.transform.apply(this,o),this.baseTransform=this.ctx.mozCurrentTransform,l)&&(this.ctx.rect(l[0],l[1],l[2]-l[0],l[3]-l[1]),this.current.updateRectMinMax(this.ctx.mozCurrentTransform,l),this.clip(),this.endPath())}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(o){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const l=this.ctx;o.isolated||(0,f.info)("TODO: Support non-isolated groups."),o.knockout&&(0,f.warn)("Knockout groups not supported.");const e=l.mozCurrentTransform;if(o.matrix&&l.transform.apply(l,o.matrix),!o.bbox)throw new Error("Bounding box is required.");let c=f.Util.getAxialAlignedBoundingBox(o.bbox,l.mozCurrentTransform);c=f.Util.intersect(c,[0,0,l.canvas.width,l.canvas.height])||[0,0,0,0];const w=Math.floor(c[0]),P=Math.floor(c[1]);let E=Math.max(Math.ceil(c[2])-w,1),V=Math.max(Math.ceil(c[3])-P,1),W=1,j=1;E>C&&(W=E/C,E=C),V>C&&(j=V/C,V=C),this.current.startNewPathAndClipBox([0,0,E,V]);let H="groupAt"+this.groupLevel;o.smask&&(H+="_smask_"+this.smaskCounter++%2);const Q=this.cachedCanvases.getCanvas(H,E,V,!0),ee=Q.context;ee.scale(1/W,1/j),ee.translate(-w,-P),ee.transform.apply(ee,e),o.smask?this.smaskStack.push({canvas:Q.canvas,context:ee,offsetX:w,offsetY:P,scaleX:W,scaleY:j,subtype:o.smask.subtype,backdrop:o.smask.backdrop,transferMap:o.smask.transferMap||null,startTransformInverse:null}):(l.setTransform(1,0,0,1,0,0),l.translate(w,P),l.scale(W,j),l.save()),v(l,ee),this.ctx=ee,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(l),this.groupLevel++}endGroup(o){if(!this.contentVisible)return;this.groupLevel--;const l=this.ctx,e=this.groupStack.pop();if(this.ctx=e,this.ctx.imageSmoothingEnabled=!1,o.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const c=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,c);const d=f.Util.getAxialAlignedBoundingBox([0,0,l.canvas.width,l.canvas.height],c);this.ctx.drawImage(l.canvas,0,0),this.ctx.restore(),this.compose(d)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(o,l,e,c,d){if(this.save(),Array.isArray(l)&&4===l.length){const w=l[2]-l[0],P=l[3]-l[1];if(d&&this.annotationCanvasMap){(e=e.slice())[4]-=l[0],e[5]-=l[1],(l=l.slice())[0]=l[1]=0,l[2]=w,l[3]=P;const[E,V]=f.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:W}=this,j=Math.ceil(w*this.outputScaleX*W),H=Math.ceil(P*this.outputScaleY*W);this.annotationCanvas=this.canvasFactory.create(j,H);const{canvas:Q,context:ee}=this.annotationCanvas,fe=`var(--zoom-factor) * ${n.PixelsPerInch.PDF_TO_CSS_UNITS}`;Q.style.width=`calc(${w}px * ${fe})`,Q.style.height=`calc(${P}px * ${fe})`,this.annotationCanvasMap.set(o,Q),this.annotationCanvas.savedCtx=this.ctx,this.ctx=ee,this.ctx.setTransform(E,0,0,-V,0,P*V),x(this.ctx),k(this.ctx,this.foregroundColor)}else k(this.ctx,this.foregroundColor),this.ctx.rect(l[0],l[1],w,P),this.ctx.clip(),this.endPath()}this.current=new r(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,e),this.transform.apply(this,c)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(o){if(!this.contentVisible)return;const l=o.count;(o=this.getObject(o.data,o)).count=l;const e=this.ctx,c=this.processingType3;if(c&&(void 0===c.compiled&&(c.compiled=function t(T){const{width:o,height:l}=T;if(o>1e3||l>1e3)return null;const c=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),d=o+1;let P,E,V,w=new Uint8Array(d*(l+1));const W=o+7&-8;let j=new Uint8Array(W*l),H=0;for(const ae of T.data){let S=128;for(;S>0;)j[H++]=ae&S?0:255,S>>=1}let Q=0;for(H=0,0!==j[H]&&(w[0]=1,++Q),E=1;E<o;E++)j[H]!==j[H+1]&&(w[E]=j[H]?2:1,++Q),H++;for(0!==j[H]&&(w[E]=2,++Q),P=1;P<l;P++){H=P*W,V=P*d,j[H-W]!==j[H]&&(w[V]=j[H]?1:8,++Q);let ae=(j[H]?4:0)+(j[H-W]?8:0);for(E=1;E<o;E++)ae=(ae>>2)+(j[H+1]?4:0)+(j[H-W+1]?8:0),c[ae]&&(w[V+E]=c[ae],++Q),H++;if(j[H-W]!==j[H]&&(w[V+E]=j[H]?2:4,++Q),Q>1e3)return null}for(H=W*(l-1),V=P*d,0!==j[H]&&(w[V]=8,++Q),E=1;E<o;E++)j[H]!==j[H+1]&&(w[V+E]=j[H]?4:8,++Q),H++;if(0!==j[H]&&(w[V+E]=4,++Q),Q>1e3)return null;const ee=new Int32Array([0,d,-1,0,-d,0,0,0,1]);let fe,Ce,J;for(K.isNodeJS?Ce=[]:fe=new Path2D,P=0;Q&&P<=l;P++){let ae=P*d;const S=ae+o;for(;ae<S&&!w[ae];)ae++;if(ae===S)continue;fe?fe.moveTo(ae%d,P):J=[ae%d,P];const N=ae;let X=w[ae];do{const Ae=ee[X];do{ae+=Ae}while(!w[ae]);const me=w[ae];5!==me&&10!==me?(X=me,w[ae]=0):(X=me&51*X>>4,w[ae]&=X>>2|X<<2),fe?fe.lineTo(ae%d,ae/d|0):J.push(ae%d,ae/d|0),w[ae]||--Q}while(N!==ae);fe||Ce.push(J),--P}return j=null,w=null,function(ae){if(ae.save(),ae.scale(1/o,-1/l),ae.translate(0,-l),fe)ae.fill(fe);else{ae.beginPath();for(const S of Ce){ae.moveTo(S[0],S[1]);for(let N=2,X=S.length;N<X;N+=2)ae.lineTo(S[N],S[N+1])}ae.fill()}ae.beginPath(),ae.restore()}}(o)),c.compiled))return void c.compiled(e);const d=this._createMaskCanvas(o),w=d.canvas;e.save(),e.setTransform(1,0,0,1,0,0),e.drawImage(w,d.offsetX,d.offsetY),e.restore(),this.compose()}paintImageMaskXObjectRepeat(o,l,e=0,c=0,d,w){if(!this.contentVisible)return;o=this.getObject(o.data,o);const P=this.ctx;P.save();const E=P.mozCurrentTransform;P.transform(l,e,c,d,0,0);const V=this._createMaskCanvas(o);P.setTransform(1,0,0,1,0,0);for(let W=0,j=w.length;W<j;W+=2){const H=f.Util.transform(E,[l,e,c,d,w[W],w[W+1]]),[Q,ee]=f.Util.applyTransform([0,0],H);P.drawImage(V.canvas,Q,ee)}P.restore(),this.compose()}paintImageMaskXObjectGroup(o){if(!this.contentVisible)return;const l=this.ctx,e=this.current.fillColor,c=this.current.patternFill;for(let d=0,w=o.length;d<w;d++){const P=o[d],E=P.width,V=P.height,W=this.cachedCanvases.getCanvas("maskCanvas",E,V,!1),j=W.context;j.save(),A(j,P),j.globalCompositeOperation="source-in",j.fillStyle=c?e.getPattern(j,this,l.mozCurrentTransformInverse,ue.PathType.FILL):e,j.fillRect(0,0,E,V),j.restore(),l.save(),l.transform.apply(l,P.transform),l.scale(1,-1),g(l,W.canvas,0,0,E,V,0,-1,1,1),l.restore()}this.compose()}paintImageXObject(o){if(!this.contentVisible)return;const l=this.getObject(o);l?this.paintInlineImageXObject(l):(0,f.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(o,l,e,c){if(!this.contentVisible)return;const d=this.getObject(o);if(!d)return void(0,f.warn)("Dependent image isn't ready yet");const w=d.width,P=d.height,E=[];for(let V=0,W=c.length;V<W;V+=2)E.push({transform:[l,0,0,e,c[V],c[V+1]],x:0,y:0,w,h:P});this.paintInlineImageXObjectGroup(d,E)}paintInlineImageXObject(o){if(!this.contentVisible)return;const l=o.width,e=o.height,c=this.ctx;let d;if(this.save(),c.scale(1/l,-1/e),"function"==typeof HTMLElement&&o instanceof HTMLElement||!o.data)d=o;else{const V=this.cachedCanvases.getCanvas("inlineImage",l,e,!1);y(V.context,o,this.current.transferMaps),d=V.canvas}const w=this._scaleImage(d,c.mozCurrentTransformInverse);c.imageSmoothingEnabled=te(c.mozCurrentTransform,o.interpolate);const[P,E]=g(c,w.img,0,0,w.paintWidth,w.paintHeight,0,-e,l,e);if(this.imageLayer){const V=this.getCanvasPosition(0,-e);this.imageLayer.appendImage({imgData:o,left:V[0],top:V[1],width:P,height:E})}this.compose(),this.restore()}paintInlineImageXObjectGroup(o,l){if(!this.contentVisible)return;const e=this.ctx,c=o.width,d=o.height,w=this.cachedCanvases.getCanvas("inlineImage",c,d,!1);y(w.context,o,this.current.transferMaps);for(let E=0,V=l.length;E<V;E++){const W=l[E];if(e.save(),e.transform.apply(e,W.transform),e.scale(1,-1),g(e,w.canvas,W.x,W.y,W.w,W.h,0,-1,1,1),this.imageLayer){const j=this.getCanvasPosition(W.x,W.y);this.imageLayer.appendImage({imgData:o,left:j[0],top:j[1],width:c,height:d})}e.restore()}this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(o){}markPointProps(o,l){}beginMarkedContent(o){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(o,l){this.markedContentStack.push("OC"===o?{visible:this.optionalContentConfig.isVisible(l)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(o){const l=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(o);const e=this.ctx;this.pendingClip&&(l||(this.pendingClip===re?e.clip("evenodd"):e.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),e.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const o=this.ctx.mozCurrentTransform;if(0===o[1]&&0===o[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(o[0]),Math.abs(o[3]));else{const l=Math.abs(o[0]*o[3]-o[2]*o[1]),e=Math.hypot(o[0],o[2]),c=Math.hypot(o[1],o[3]);this._cachedGetSinglePixelWidth=Math.max(e,c)/l}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:o}=this.current,l=this.ctx.mozCurrentTransform;let e,c;if(0===l[1]&&0===l[2]){const d=Math.abs(l[0]),w=Math.abs(l[3]);if(0===o)e=1/d,c=1/w;else{const P=d*o,E=w*o;e=P<1?1/P:1,c=E<1?1/E:1}}else{const d=Math.abs(l[0]*l[3]-l[2]*l[1]),w=Math.hypot(l[0],l[1]),P=Math.hypot(l[2],l[3]);if(0===o)e=P/d,c=w/d;else{const E=o*d;e=P>E?P/E:1,c=w>E?w/E:1}}this._cachedScaleForStroking=[e,c]}return this._cachedScaleForStroking}rescaleAndStroke(o){const{ctx:l}=this,{lineWidth:e}=this.current,[c,d]=this.getScaleForStroking();if(l.lineWidth=e||1,1===c&&1===d)return void l.stroke();let w,P,E;o&&(w=l.mozCurrentTransform.slice(),P=l.getLineDash().slice(),E=l.lineDashOffset),l.scale(c,d);const V=Math.max(c,d);l.setLineDash(l.getLineDash().map(W=>W/V)),l.lineDashOffset/=V,l.stroke(),o&&(l.setTransform(...w),l.setLineDash(P),l.lineDashOffset=E)}getCanvasPosition(o,l){const e=this.ctx.mozCurrentTransform;return[e[0]*o+e[2]*l+e[4],e[1]*o+e[3]*l+e[5]]}isContentVisible(){for(let o=this.markedContentStack.length-1;o>=0;o--)if(!this.markedContentStack[o].visible)return!1;return!0}}L.CanvasGraphics=le;for(const T in f.OPS)void 0!==le.prototype[T]&&(le.prototype[f.OPS[T]]=le.prototype[T])},(_e,L,ne)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.TilingPattern=L.PathType=void 0,L.getShadingPattern=function a(s){switch(s[0]){case"RadialAxial":return new I(s);case"Mesh":return new m(s);case"Dummy":return new p}throw new Error(`Unknown IR type: ${s[0]}`)};var f=ne(1),ue=ne(3);const se={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function K(s,u){if(!u||ue.isNodeJS)return;const x=u[2]-u[0],_=u[3]-u[1],g=new Path2D;g.rect(u[0],u[1],x,_),s.clip(g)}L.PathType=se;class n{constructor(){this.constructor===n&&(0,f.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,f.unreachable)("Abstract method `getPattern` called.")}}class I extends n{constructor(u){super(),this._type=u[1],this._bbox=u[2],this._colorStops=u[3],this._p0=u[4],this._p1=u[5],this._r0=u[6],this._r1=u[7],this.matrix=null}_createGradient(u){let x;"axial"===this._type?x=u.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(x=u.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const _ of this._colorStops)x.addColorStop(_[0],_[1]);return x}getPattern(u,x,_,g){let t;if(g===se.STROKE||g===se.FILL){const r=x.current.getClippedPathBoundingBox(g,u.mozCurrentTransform)||[0,0,0,0],y=Math.ceil(r[2]-r[0])||1,A=Math.ceil(r[3]-r[1])||1,v=x.cachedCanvases.getCanvas("pattern",y,A,!0),k=v.context;k.clearRect(0,0,k.canvas.width,k.canvas.height),k.beginPath(),k.rect(0,0,k.canvas.width,k.canvas.height),k.translate(-r[0],-r[1]),_=f.Util.transform(_,[1,0,0,1,r[0],r[1]]),k.transform.apply(k,x.baseTransform),this.matrix&&k.transform.apply(k,this.matrix),K(k,this._bbox),k.fillStyle=this._createGradient(k),k.fill(),t=u.createPattern(v.canvas,"no-repeat");const R=new DOMMatrix(_);try{t.setTransform(R)}catch(F){(0,f.warn)(`RadialAxialShadingPattern.getPattern: "${F?.message}".`)}}else K(u,this._bbox),t=this._createGradient(u);return t}}function h(s,u,x,_,g,t,r,y){const A=u.coords,v=u.colors,k=s.data,R=4*s.width;let F;A[x+1]>A[_+1]&&(F=x,x=_,_=F,F=t,t=r,r=F),A[_+1]>A[g+1]&&(F=_,_=g,g=F,F=r,r=y,y=F),A[x+1]>A[_+1]&&(F=x,x=_,_=F,F=t,t=r,r=F);const B=(A[x]+u.offsetX)*u.scaleX,z=(A[x+1]+u.offsetY)*u.scaleY,Z=(A[_]+u.offsetX)*u.scaleX,te=(A[_+1]+u.offsetY)*u.scaleY,U=(A[g]+u.offsetX)*u.scaleX,Y=(A[g+1]+u.offsetY)*u.scaleY;if(z>=Y)return;const $=v[t],re=v[t+1],le=v[t+2],T=v[r],o=v[r+1],l=v[r+2],e=v[y],c=v[y+1],d=v[y+2],w=Math.round(z),P=Math.round(Y);let E,V,W,j,H,Q,ee,fe;for(let Ce=w;Ce<=P;Ce++){if(Ce<te){let N;N=Ce<z?0:(z-Ce)/(z-te),E=B-(B-Z)*N,V=$-($-T)*N,W=re-(re-o)*N,j=le-(le-l)*N}else{let N;N=Ce>Y?1:te===Y?0:(te-Ce)/(te-Y),E=Z-(Z-U)*N,V=T-(T-e)*N,W=o-(o-c)*N,j=l-(l-d)*N}let J;J=Ce<z?0:Ce>Y?1:(z-Ce)/(z-Y),H=B-(B-U)*J,Q=$-($-e)*J,ee=re-(re-c)*J,fe=le-(le-d)*J;const oe=Math.round(Math.min(E,H)),ae=Math.round(Math.max(E,H));let S=R*Ce+4*oe;for(let N=oe;N<=ae;N++)J=(E-N)/(E-H),J<0?J=0:J>1&&(J=1),k[S++]=V-(V-Q)*J|0,k[S++]=W-(W-ee)*J|0,k[S++]=j-(j-fe)*J|0,k[S++]=255}}function C(s,u,x){const _=u.coords,g=u.colors;let t,r;switch(u.type){case"lattice":const y=u.verticesPerRow,A=Math.floor(_.length/y)-1,v=y-1;for(t=0;t<A;t++){let k=t*y;for(let R=0;R<v;R++,k++)h(s,x,_[k],_[k+1],_[k+y],g[k],g[k+1],g[k+y]),h(s,x,_[k+y+1],_[k+1],_[k+y],g[k+y+1],g[k+1],g[k+y])}break;case"triangles":for(t=0,r=_.length;t<r;t+=3)h(s,x,_[t],_[t+1],_[t+2],g[t],g[t+1],g[t+2]);break;default:throw new Error("illegal figure")}}class m extends n{constructor(u){super(),this._coords=u[2],this._colors=u[3],this._figures=u[4],this._bounds=u[5],this._bbox=u[7],this._background=u[8],this.matrix=null}_createMeshCanvas(u,x,_){const y=Math.floor(this._bounds[0]),A=Math.floor(this._bounds[1]),v=Math.ceil(this._bounds[2])-y,k=Math.ceil(this._bounds[3])-A,R=Math.min(Math.ceil(Math.abs(v*u[0]*1.1)),3e3),F=Math.min(Math.ceil(Math.abs(k*u[1]*1.1)),3e3),B=v/R,z=k/F,Z={coords:this._coords,colors:this._colors,offsetX:-y,offsetY:-A,scaleX:1/B,scaleY:1/z},Y=_.getCanvas("mesh",R+4,F+4,!1),$=Y.context,re=$.createImageData(R,F);if(x){const T=re.data;for(let o=0,l=T.length;o<l;o+=4)T[o]=x[0],T[o+1]=x[1],T[o+2]=x[2],T[o+3]=255}for(const T of this._figures)C(re,T,Z);return $.putImageData(re,2,2),{canvas:Y.canvas,offsetX:y-2*B,offsetY:A-2*z,scaleX:B,scaleY:z}}getPattern(u,x,_,g){let t;if(K(u,this._bbox),g===se.SHADING)t=f.Util.singularValueDecompose2dScale(u.mozCurrentTransform);else if(t=f.Util.singularValueDecompose2dScale(x.baseTransform),this.matrix){const y=f.Util.singularValueDecompose2dScale(this.matrix);t=[t[0]*y[0],t[1]*y[1]]}const r=this._createMeshCanvas(t,g===se.SHADING?null:this._background,x.cachedCanvases);return g!==se.SHADING&&(u.setTransform.apply(u,x.baseTransform),this.matrix&&u.transform.apply(u,this.matrix)),u.translate(r.offsetX,r.offsetY),u.scale(r.scaleX,r.scaleY),u.createPattern(r.canvas,"no-repeat")}}class p extends n{getPattern(){return"hotpink"}}class i{static get MAX_PATTERN_SIZE(){return(0,f.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(u,x,_,g,t){this.operatorList=u[2],this.matrix=u[3]||[1,0,0,1,0,0],this.bbox=u[4],this.xstep=u[5],this.ystep=u[6],this.paintType=u[7],this.tilingType=u[8],this.color=x,this.ctx=_,this.canvasGraphicsFactory=g,this.baseTransform=t}createPatternCanvas(u){const x=this.operatorList,_=this.bbox,g=this.xstep,t=this.ystep,r=this.paintType,A=this.color,v=this.canvasGraphicsFactory;(0,f.info)("TilingType: "+this.tilingType);const k=_[0],R=_[1],F=_[2],B=_[3],z=f.Util.singularValueDecompose2dScale(this.matrix),Z=f.Util.singularValueDecompose2dScale(this.baseTransform),te=[z[0]*Z[0],z[1]*Z[1]],U=this.getSizeAndScale(g,this.ctx.canvas.width,te[0]),Y=this.getSizeAndScale(t,this.ctx.canvas.height,te[1]),$=u.cachedCanvases.getCanvas("pattern",U.size,Y.size,!0),re=$.context,le=v.createCanvasGraphics(re);le.groupLevel=u.groupLevel,this.setFillAndStrokeStyleToContext(le,r,A);let T=k,o=R,l=F,e=B;return k<0&&(T=0,l+=Math.abs(k)),R<0&&(o=0,e+=Math.abs(R)),re.translate(-U.scale*T,-Y.scale*o),le.transform(U.scale,0,0,Y.scale,0,0),re.save(),this.clipBbox(le,T,o,l,e),le.baseTransform=le.ctx.mozCurrentTransform.slice(),le.executeOperatorList(x),le.endDrawing(),{canvas:$.canvas,scaleX:U.scale,scaleY:Y.scale,offsetX:T,offsetY:o}}getSizeAndScale(u,x,_){u=Math.abs(u);const g=Math.max(i.MAX_PATTERN_SIZE,x);let t=Math.ceil(u*_);return t>=g?t=g:_=t/u,{scale:_,size:t}}clipBbox(u,x,_,g,t){u.ctx.rect(x,_,g-x,t-_),u.current.updateRectMinMax(u.ctx.mozCurrentTransform,[x,_,g,t]),u.clip(),u.endPath()}setFillAndStrokeStyleToContext(u,x,_){const g=u.ctx,t=u.current;switch(x){case 1:const r=this.ctx;g.fillStyle=r.fillStyle,g.strokeStyle=r.strokeStyle,t.fillColor=r.fillStyle,t.strokeColor=r.strokeStyle;break;case 2:const y=f.Util.makeHexColor(_[0],_[1],_[2]);g.fillStyle=y,g.strokeStyle=y,t.fillColor=y,t.strokeColor=y;break;default:throw new f.FormatError(`Unsupported paint type: ${x}`)}}getPattern(u,x,_,g){let t=_;g!==se.SHADING&&(t=f.Util.transform(t,x.baseTransform),this.matrix&&(t=f.Util.transform(t,this.matrix)));const r=this.createPatternCanvas(x);let y=new DOMMatrix(t);y=y.translate(r.offsetX,r.offsetY),y=y.scale(1/r.scaleX,1/r.scaleY);const A=u.createPattern(r.canvas,"repeat");try{A.setTransform(y)}catch(v){(0,f.warn)(`TilingPattern.getPattern: "${v?.message}".`)}return A}}L.TilingPattern=i},(_e,L,ne)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.applyMaskImageData=function ue({src:se,srcPos:K=0,dest:n,destPos:I=0,width:h,height:C,inverseDecode:m=!1}){const p=f.FeatureTest.isLittleEndian?4278190080:255,[a,b]=m?[0,p]:[p,0],i=h>>3,s=7&h,u=se.length;n=new Uint32Array(n.buffer);for(let x=0;x<C;x++){for(const g=K+i;K<g;K++){const t=K<u?se[K]:255;n[I++]=128&t?b:a,n[I++]=64&t?b:a,n[I++]=32&t?b:a,n[I++]=16&t?b:a,n[I++]=8&t?b:a,n[I++]=4&t?b:a,n[I++]=2&t?b:a,n[I++]=1&t?b:a}if(0===s)continue;const _=K<u?se[K++]:255;for(let g=0;g<s;g++)n[I++]=_&1<<7-g?b:a}return{srcPos:K,destPos:I}};var f=ne(1)},(_e,L)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.GlobalWorkerOptions=void 0;const ne=Object.create(null);L.GlobalWorkerOptions=ne,ne.workerPort=void 0===ne.workerPort?null:ne.workerPort,ne.workerSrc=void 0===ne.workerSrc?"":ne.workerSrc},(_e,L,ne)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.MessageHandler=void 0;var f=ne(1);function K(I){switch(I instanceof Error||"object"==typeof I&&null!==I||(0,f.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),I.name){case"AbortException":return new f.AbortException(I.message);case"MissingPDFException":return new f.MissingPDFException(I.message);case"PasswordException":return new f.PasswordException(I.message,I.code);case"UnexpectedResponseException":return new f.UnexpectedResponseException(I.message,I.status);case"UnknownErrorException":return new f.UnknownErrorException(I.message,I.details);default:return new f.UnknownErrorException(I.message,I.toString())}}L.MessageHandler=class n{constructor(h,C,m){this.sourceName=h,this.targetName=C,this.comObj=m,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=p=>{const a=p.data;if(a.targetName!==this.sourceName)return;if(a.stream)return void this._processStreamMessage(a);if(a.callback){const i=a.callbackId,s=this.callbackCapabilities[i];if(!s)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],1===a.callback)s.resolve(a.data);else{if(2!==a.callback)throw new Error("Unexpected callback case");s.reject(K(a.reason))}return}const b=this.actionHandler[a.action];if(!b)throw new Error(`Unknown action from worker: ${a.action}`);if(a.callbackId){const i=this.sourceName,s=a.sourceName;new Promise(function(u){u(b(a.data))}).then(function(u){m.postMessage({sourceName:i,targetName:s,callback:1,callbackId:a.callbackId,data:u})},function(u){m.postMessage({sourceName:i,targetName:s,callback:2,callbackId:a.callbackId,reason:K(u)})})}else a.streamId?this._createStreamSink(a):b(a.data)},m.addEventListener("message",this._onComObjOnMessage)}on(h,C){const m=this.actionHandler;if(m[h])throw new Error(`There is already an actionName called "${h}"`);m[h]=C}send(h,C,m){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:h,data:C},m)}sendWithPromise(h,C,m){const p=this.callbackId++,a=(0,f.createPromiseCapability)();this.callbackCapabilities[p]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:h,callbackId:p,data:C},m)}catch(b){a.reject(b)}return a.promise}sendWithStream(h,C,m,p){const a=this.streamId++,b=this.sourceName,i=this.targetName,s=this.comObj;return new ReadableStream({start:u=>{const x=(0,f.createPromiseCapability)();return this.streamControllers[a]={controller:u,startCall:x,pullCall:null,cancelCall:null,isClosed:!1},s.postMessage({sourceName:b,targetName:i,action:h,streamId:a,data:C,desiredSize:u.desiredSize},p),x.promise},pull:u=>{const x=(0,f.createPromiseCapability)();return this.streamControllers[a].pullCall=x,s.postMessage({sourceName:b,targetName:i,stream:6,streamId:a,desiredSize:u.desiredSize}),x.promise},cancel:u=>{(0,f.assert)(u instanceof Error,"cancel must have a valid reason");const x=(0,f.createPromiseCapability)();return this.streamControllers[a].cancelCall=x,this.streamControllers[a].isClosed=!0,s.postMessage({sourceName:b,targetName:i,stream:1,streamId:a,reason:K(u)}),x.promise}},m)}_createStreamSink(h){const C=h.streamId,m=this.sourceName,p=h.sourceName,a=this.comObj,b=this,i=this.actionHandler[h.action],s={enqueue(u,x=1,_){if(this.isCancelled)return;const g=this.desiredSize;this.desiredSize-=x,g>0&&this.desiredSize<=0&&(this.sinkCapability=(0,f.createPromiseCapability)(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:m,targetName:p,stream:4,streamId:C,chunk:u},_)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:m,targetName:p,stream:3,streamId:C}),delete b.streamSinks[C])},error(u){(0,f.assert)(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:m,targetName:p,stream:5,streamId:C,reason:K(u)}))},sinkCapability:(0,f.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:h.desiredSize,ready:null};s.sinkCapability.resolve(),s.ready=s.sinkCapability.promise,this.streamSinks[C]=s,new Promise(function(u){u(i(h.data,s))}).then(function(){a.postMessage({sourceName:m,targetName:p,stream:8,streamId:C,success:!0})},function(u){a.postMessage({sourceName:m,targetName:p,stream:8,streamId:C,reason:K(u)})})}_processStreamMessage(h){const C=h.streamId,m=this.sourceName,p=h.sourceName,a=this.comObj,b=this.streamControllers[C],i=this.streamSinks[C];switch(h.stream){case 8:h.success?b.startCall.resolve():b.startCall.reject(K(h.reason));break;case 7:h.success?b.pullCall.resolve():b.pullCall.reject(K(h.reason));break;case 6:if(!i){a.postMessage({sourceName:m,targetName:p,stream:7,streamId:C,success:!0});break}i.desiredSize<=0&&h.desiredSize>0&&i.sinkCapability.resolve(),i.desiredSize=h.desiredSize,new Promise(function(s){s(i.onPull&&i.onPull())}).then(function(){a.postMessage({sourceName:m,targetName:p,stream:7,streamId:C,success:!0})},function(s){a.postMessage({sourceName:m,targetName:p,stream:7,streamId:C,reason:K(s)})});break;case 4:if((0,f.assert)(b,"enqueue should have stream controller"),b.isClosed)break;b.controller.enqueue(h.chunk);break;case 3:if((0,f.assert)(b,"close should have stream controller"),b.isClosed)break;b.isClosed=!0,b.controller.close(),this._deleteStreamController(b,C);break;case 5:(0,f.assert)(b,"error should have stream controller"),b.controller.error(K(h.reason)),this._deleteStreamController(b,C);break;case 2:h.success?b.cancelCall.resolve():b.cancelCall.reject(K(h.reason)),this._deleteStreamController(b,C);break;case 1:if(!i)break;new Promise(function(s){s(i.onCancel&&i.onCancel(K(h.reason)))}).then(function(){a.postMessage({sourceName:m,targetName:p,stream:2,streamId:C,success:!0})},function(s){a.postMessage({sourceName:m,targetName:p,stream:2,streamId:C,reason:K(s)})}),i.sinkCapability.reject(K(h.reason)),i.isCancelled=!0,delete this.streamSinks[C];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(h,C){var m=this;return _asyncToGenerator(function*(){yield Promise.allSettled([h.startCall&&h.startCall.promise,h.pullCall&&h.pullCall.promise,h.cancelCall&&h.cancelCall.promise]),delete m.streamControllers[C]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(_e,L,ne)=>{var se,K;Object.defineProperty(L,"__esModule",{value:!0}),L.Metadata=void 0;var f=ne(1);se=new WeakMap,K=new WeakMap,L.Metadata=class ue{constructor({parsedData:I,rawData:h}){Ee(this,se,void 0),Ee(this,K,void 0),Fe(this,se,I),Fe(this,K,h)}getRaw(){return Pe(this,K)}get(I){return Pe(this,se).get(I)??null}getAll(){return(0,f.objectFromMap)(Pe(this,se))}has(I){return Pe(this,se).has(I)}}},(_e,L,ne)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.OptionalContentConfig=void 0;var f=ne(1);class ue{constructor(n,I){this.visible=!0,this.name=n,this.intent=I}}L.OptionalContentConfig=class se{constructor(n){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==n){this.name=n.name,this.creator=n.creator,this._order=n.order;for(const I of n.groups)this._groups.set(I.id,new ue(I.name,I.intent));if("OFF"===n.baseState)for(const I of this._groups)I.visible=!1;for(const I of n.on)this._groups.get(I).visible=!0;for(const I of n.off)this._groups.get(I).visible=!1}}_evaluateVisibilityExpression(n){const I=n.length;if(I<2)return!0;const h=n[0];for(let C=1;C<I;C++){const m=n[C];let p;if(Array.isArray(m))p=this._evaluateVisibilityExpression(m);else{if(!this._groups.has(m))return(0,f.warn)(`Optional content group not found: ${m}`),!0;p=this._groups.get(m).visible}switch(h){case"And":if(!p)return!1;break;case"Or":if(p)return!0;break;case"Not":return!p;default:return!0}}return"And"===h}isVisible(n){if(0===this._groups.size)return!0;if(!n)return(0,f.warn)("Optional content group not defined."),!0;if("OCG"===n.type)return this._groups.has(n.id)?this._groups.get(n.id).visible:((0,f.warn)(`Optional content group not found: ${n.id}`),!0);if("OCMD"===n.type){if(n.expression)return this._evaluateVisibilityExpression(n.expression);if(!n.policy||"AnyOn"===n.policy){for(const I of n.ids){if(!this._groups.has(I))return(0,f.warn)(`Optional content group not found: ${I}`),!0;if(this._groups.get(I).visible)return!0}return!1}if("AllOn"===n.policy){for(const I of n.ids){if(!this._groups.has(I))return(0,f.warn)(`Optional content group not found: ${I}`),!0;if(!this._groups.get(I).visible)return!1}return!0}if("AnyOff"===n.policy){for(const I of n.ids){if(!this._groups.has(I))return(0,f.warn)(`Optional content group not found: ${I}`),!0;if(!this._groups.get(I).visible)return!0}return!1}if("AllOff"===n.policy){for(const I of n.ids){if(!this._groups.has(I))return(0,f.warn)(`Optional content group not found: ${I}`),!0;if(this._groups.get(I).visible)return!1}return!0}return(0,f.warn)(`Unknown optional content policy ${n.policy}.`),!0}return(0,f.warn)(`Unknown group type ${n.type}.`),!0}setVisibility(n,I=!0){this._groups.has(n)?this._groups.get(n).visible=!!I:(0,f.warn)(`Optional content group not found: ${n}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,f.objectFromMap)(this._groups):null}getGroup(n){return this._groups.get(n)||null}}},(_e,L,ne)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.PDFDataTransportStream=void 0;var f=ne(1),ue=ne(5);L.PDFDataTransportStream=class se{constructor(h,C){(0,f.assert)(C,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=h.progressiveDone||!1,this._contentDispositionFilename=h.contentDispositionFilename||null;const m=h.initialData;if(m?.length>0){const p=new Uint8Array(m).buffer;this._queuedChunks.push(p)}this._pdfDataRangeTransport=C,this._isStreamingSupported=!h.disableStream,this._isRangeSupported=!h.disableRange,this._contentLength=h.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((p,a)=>{this._onReceiveData({begin:p,chunk:a})}),this._pdfDataRangeTransport.addProgressListener((p,a)=>{this._onProgress({loaded:p,total:a})}),this._pdfDataRangeTransport.addProgressiveReadListener(p=>{this._onReceiveData({chunk:p})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(h){const C=new Uint8Array(h.chunk).buffer;if(void 0===h.begin)this._fullRequestReader?this._fullRequestReader._enqueue(C):this._queuedChunks.push(C);else{const m=this._rangeReaders.some(function(p){return p._begin===h.begin&&(p._enqueue(C),!0)});(0,f.assert)(m,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(h){if(void 0===h.total){const C=this._rangeReaders[0];C?.onProgress&&C.onProgress({loaded:h.loaded})}else{const C=this._fullRequestReader;C?.onProgress&&C.onProgress({loaded:h.loaded,total:h.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(h){const C=this._rangeReaders.indexOf(h);C>=0&&this._rangeReaders.splice(C,1)}getFullReader(){(0,f.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const h=this._queuedChunks;return this._queuedChunks=null,new K(this,h,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(h,C){if(C<=this._progressiveDataLength)return null;const m=new n(this,h,C);return this._pdfDataRangeTransport.requestDataRange(h,C),this._rangeReaders.push(m),m}cancelAllRequests(h){this._fullRequestReader&&this._fullRequestReader.cancel(h);for(const C of this._rangeReaders.slice(0))C.cancel(h);this._pdfDataRangeTransport.abort()}};class K{constructor(h,C,m=!1,p=null){this._stream=h,this._done=m||!1,this._filename=(0,ue.isPdfFile)(p)?p:null,this._queuedChunks=C||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),h._fullRequestReader=this,this.onProgress=null}_enqueue(h){this._done||(this._requests.length>0?this._requests.shift().resolve({value:h,done:!1}):this._queuedChunks.push(h),this._loaded+=h.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var h=this;return _asyncToGenerator(function*(){if(h._queuedChunks.length>0)return{value:h._queuedChunks.shift(),done:!1};if(h._done)return{value:void 0,done:!0};const C=(0,f.createPromiseCapability)();return h._requests.push(C),C.promise})()}cancel(h){this._done=!0;for(const C of this._requests)C.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class n{constructor(h,C,m){this._stream=h,this._begin=C,this._end=m,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(h){if(!this._done){if(0===this._requests.length)this._queuedChunk=h;else{this._requests.shift().resolve({value:h,done:!1});for(const m of this._requests)m.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var h=this;return _asyncToGenerator(function*(){if(h._queuedChunk){const m=h._queuedChunk;return h._queuedChunk=null,{value:m,done:!1}}if(h._done)return{value:void 0,done:!0};const C=(0,f.createPromiseCapability)();return h._requests.push(C),C.promise})()}cancel(h){this._done=!0;for(const C of this._requests)C.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(_e,L)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.XfaText=void 0;class ne{static textContent(ue){const se=[],K={items:se,styles:Object.create(null)};return function n(I){if(!I)return;let h=null;const C=I.name;if("#text"===C)h=I.value;else{if(!ne.shouldBuildText(C))return;I?.attributes?.textContent?h=I.attributes.textContent:I.value&&(h=I.value)}if(null!==h&&se.push({str:h}),I.children)for(const m of I.children)n(m)}(ue),K}static shouldBuildText(ue){return!("textarea"===ue||"input"===ue||"option"===ue||"select"===ue)}}L.XfaText=ne},(_e,L,ne)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.NodeStandardFontDataFactory=L.NodeCanvasFactory=L.NodeCMapReaderFactory=void 0;var f=ne(6);const ue=function(I){return new Promise((h,C)=>{__webpack_require__(172).readFile(I,(p,a)=>{!p&&a?h(new Uint8Array(a)):C(new Error(p))})})};L.NodeCanvasFactory=class se extends f.BaseCanvasFactory{_createCanvas(h,C){return __webpack_require__(3414).createCanvas(h,C)}},L.NodeCMapReaderFactory=class K extends f.BaseCMapReaderFactory{_fetchData(h,C){return ue(h).then(m=>({cMapData:m,compressionType:C}))}},L.NodeStandardFontDataFactory=class n extends f.BaseStandardFontDataFactory{_fetchData(h){return ue(h)}}},(_e,L,ne)=>{var T,Ke;Object.defineProperty(L,"__esModule",{value:!0}),L.AnnotationLayer=void 0;var f=ne(1),ue=ne(5),se=ne(8),K=ne(21),n=ne(22);const I=1e3,h=new WeakSet;function C(l){return{width:l[2]-l[0],height:l[3]-l[1]}}class m{static create(e){switch(e.data.annotationType){case f.AnnotationType.LINK:return new a(e);case f.AnnotationType.TEXT:return new b(e);case f.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new s(e);case"Btn":return e.data.radioButton?new x(e):e.data.checkBox?new u(e):new _(e);case"Ch":return new g(e)}return new i(e);case f.AnnotationType.POPUP:return new t(e);case f.AnnotationType.FREETEXT:return new y(e);case f.AnnotationType.LINE:return new A(e);case f.AnnotationType.SQUARE:return new v(e);case f.AnnotationType.CIRCLE:return new k(e);case f.AnnotationType.POLYLINE:return new R(e);case f.AnnotationType.CARET:return new B(e);case f.AnnotationType.INK:return new z(e);case f.AnnotationType.POLYGON:return new F(e);case f.AnnotationType.HIGHLIGHT:return new Z(e);case f.AnnotationType.UNDERLINE:return new te(e);case f.AnnotationType.SQUIGGLY:return new U(e);case f.AnnotationType.STRIKEOUT:return new Y(e);case f.AnnotationType.STAMP:return new $(e);case f.AnnotationType.FILEATTACHMENT:return new re(e);default:return new p(e)}}}class p{constructor(e,{isRenderable:c=!1,ignoreBorder:d=!1,createQuadrilaterals:w=!1}={}){this.isRenderable=c,this.data=e.data,this.layer=e.layer,this.page=e.page,this.viewport=e.viewport,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this._mouseState=e.mouseState,c&&(this.container=this._createContainer(d)),w&&(this.quadrilaterals=this._createQuadrilaterals(d))}_createContainer(e=!1){const c=this.data,d=this.page,w=this.viewport,P=document.createElement("section");let{width:E,height:V}=C(c.rect);P.setAttribute("data-annotation-id",c.id);const W=f.Util.normalizeRect([c.rect[0],d.view[3]-c.rect[1]+d.view[1],c.rect[2],d.view[3]-c.rect[3]+d.view[1]]);if(c.hasOwnCanvas){const j=w.transform.slice(),[H,Q]=f.Util.singularValueDecompose2dScale(j);E=Math.ceil(E*H),V=Math.ceil(V*Q),W[0]*=H,W[1]*=Q;for(let ee=0;ee<4;ee++)j[ee]=Math.sign(j[ee]);P.style.transform=`matrix(${j.join(",")})`}else P.style.transform=`matrix(${w.transform.join(",")})`;if(P.style.transformOrigin=`${-W[0]}px ${-W[1]}px`,!e&&c.borderStyle.width>0){P.style.borderWidth=`${c.borderStyle.width}px`,c.borderStyle.style!==f.AnnotationBorderStyleType.UNDERLINE&&(E-=2*c.borderStyle.width,V-=2*c.borderStyle.width);const j=c.borderStyle.horizontalCornerRadius,H=c.borderStyle.verticalCornerRadius;switch((j>0||H>0)&&(P.style.borderRadius=`${j}px / ${H}px`),c.borderStyle.style){case f.AnnotationBorderStyleType.SOLID:P.style.borderStyle="solid";break;case f.AnnotationBorderStyleType.DASHED:P.style.borderStyle="dashed";break;case f.AnnotationBorderStyleType.BEVELED:(0,f.warn)("Unimplemented border style: beveled");break;case f.AnnotationBorderStyleType.INSET:(0,f.warn)("Unimplemented border style: inset");break;case f.AnnotationBorderStyleType.UNDERLINE:P.style.borderBottomStyle="solid"}c.borderColor||c.color?P.style.borderColor=f.Util.makeHexColor(0|c.color[0],0|c.color[1],0|c.color[2]):P.style.borderWidth=0}return P.style.left=`${W[0]}px`,P.style.top=`${W[1]}px`,c.hasOwnCanvas?P.style.width=P.style.height="auto":(P.style.width=`${E}px`,P.style.height=`${V}px`),P}get _commonActions(){const e=(c,d,w)=>{const P=w.detail[c];w.target.style[d]=K.ColorConverters[`${P[0]}_HTML`](P.slice(1))};return(0,f.shadow)(this,"_commonActions",{display:c=>{const d=c.detail.display%2==1;c.target.style.visibility=d?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:d,print:0===c.detail.display||3===c.detail.display})},print:c=>{this.annotationStorage.setValue(this.data.id,{print:c.detail.print})},hidden:c=>{c.target.style.visibility=c.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:c.detail.hidden})},focus:c=>{setTimeout(()=>c.target.focus({preventScroll:!1}),0)},userName:c=>{c.target.title=c.detail.userName},readonly:c=>{c.detail.readonly?c.target.setAttribute("readonly",""):c.target.removeAttribute("readonly")},required:c=>{c.detail.required?c.target.setAttribute("required",""):c.target.removeAttribute("required")},bgColor:c=>{e("bgColor","backgroundColor",c)},fillColor:c=>{e("fillColor","backgroundColor",c)},fgColor:c=>{e("fgColor","color",c)},textColor:c=>{e("textColor","color",c)},borderColor:c=>{e("borderColor","borderColor",c)},strokeColor:c=>{e("strokeColor","borderColor",c)}})}_dispatchEventFromSandbox(e,c){const d=this._commonActions;for(const w of Object.keys(c.detail)){const P=e[w]||d[w];P&&P(c)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const c=this.annotationStorage.getRawValue(this.data.id);if(!c)return;const d=this._commonActions;for(const[w,P]of Object.entries(c)){const E=d[w];E&&(E({detail:P,target:e}),delete c[w])}}_createQuadrilaterals(e=!1){if(!this.data.quadPoints)return null;const c=[],d=this.data.rect;for(const w of this.data.quadPoints)this.data.rect=[w[2].x,w[2].y,w[1].x,w[1].y],c.push(this._createContainer(e));return this.data.rect=d,c}_createPopup(e,c){let d=this.container;this.quadrilaterals&&(e=e||this.quadrilaterals,d=this.quadrilaterals[0]),e||((e=document.createElement("div")).style.height=d.style.height,e.style.width=d.style.width,d.appendChild(e));const P=new r({container:d,trigger:e,color:c.color,titleObj:c.titleObj,modificationDate:c.modificationDate,contentsObj:c.contentsObj,richText:c.richText,hideWrapper:!0}).render();P.style.left=d.style.width,d.appendChild(P)}_renderQuadrilaterals(e){for(const c of this.quadrilaterals)c.className=e;return this.quadrilaterals}render(){(0,f.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,c=null){const d=[];if(this._fieldObjects){const w=this._fieldObjects[e];if(w)for(const{page:P,id:E,exportValues:V}of w){if(-1===P||E===c)continue;const W="string"==typeof V?V:null,j=document.getElementById(E);!j||h.has(j)?d.push({id:E,exportValue:W,domElement:j}):(0,f.warn)(`_getElementsByName - element not allowed: ${E}`)}return d}for(const w of document.getElementsByName(e)){const{id:P,exportValue:E}=w;P!==c&&(!h.has(w)||d.push({id:P,exportValue:E,domElement:w}))}return d}static get platform(){const e=typeof navigator<"u"?navigator.platform:"";return(0,f.shadow)(this,"platform",{isWin:e.includes("Win"),isMac:e.includes("Mac")})}}class a extends p{constructor(e,c=null){super(e,{isRenderable:!!(e.data.url||e.data.dest||e.data.action||e.data.isTooltipOnly||e.data.resetForm||e.data.actions&&(e.data.actions.Action||e.data.actions["Mouse Up"]||e.data.actions["Mouse Down"])),ignoreBorder:!!c?.ignoreBorder,createQuadrilaterals:!0})}render(){const{data:e,linkService:c}=this,d=document.createElement("a");if(e.url)c.addLinkAttributes(d,e.url,e.newWindow);else if(e.action)this._bindNamedAction(d,e.action);else if(e.dest)this._bindLink(d,e.dest);else{let w=!1;e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(w=!0,this._bindJSAction(d,e)),e.resetForm?this._bindResetFormAction(d,e.resetForm):w||this._bindLink(d,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((w,P)=>{const E=0===P?d:d.cloneNode();return w.appendChild(E),w}):(this.container.className="linkAnnotation",this.container.appendChild(d),this.container)}_bindLink(e,c){e.href=this.linkService.getDestinationHash(c),e.onclick=()=>(c&&this.linkService.goToDestination(c),!1),(c||""===c)&&(e.className="internalLink")}_bindNamedAction(e,c){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(c),!1),e.className="internalLink"}_bindJSAction(e,c){e.href=this.linkService.getAnchorUrl("");const d=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const w of Object.keys(c.actions)){const P=d.get(w);!P||(e[P]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:c.id,name:w}}),!1))}e.onclick||(e.onclick=()=>!1),e.className="internalLink"}_bindResetFormAction(e,c){const d=e.onclick;if(d||(e.href=this.linkService.getAnchorUrl("")),e.className="internalLink",!this._fieldObjects)return(0,f.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(d||(e.onclick=()=>!1));e.onclick=()=>{d&&d();const{fields:w,refs:P,include:E}=c,V=[];if(0!==w.length||0!==P.length){const H=new Set(P);for(const Q of w){const ee=this._fieldObjects[Q]||[];for(const{id:fe}of ee)H.add(fe)}for(const Q of Object.values(this._fieldObjects))for(const ee of Q)H.has(ee.id)===E&&V.push(ee)}else for(const H of Object.values(this._fieldObjects))V.push(...H);const W=this.annotationStorage,j=[];for(const H of V){const{id:Q}=H;switch(j.push(Q),H.type){case"text":case"combobox":case"listbox":W.setValue(Q,{value:H.defaultValue||""});break;case"checkbox":case"radiobutton":W.setValue(Q,{value:H.defaultValue===H.exportValues});break;default:continue}const ee=document.getElementById(Q);!ee||!h.has(ee)||ee.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:j,name:"ResetForm"}}),!1}}}class b extends p{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str)})}render(){this.container.className="textAnnotation";const e=document.createElement("img");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(e,this.data),this.container.appendChild(e),this.container}}class i extends p{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(e){const{isWin:c,isMac:d}=p.platform;return c&&e.ctrlKey||d&&e.metaKey}_setEventListener(e,c,d,w){c.includes("mouse")?e.addEventListener(c,P=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:d,value:w(P),shift:P.shiftKey,modifier:this._getKeyModifier(P)}})}):e.addEventListener(c,P=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:d,value:w(P)}})})}_setEventListeners(e,c,d){for(const[w,P]of c)("Action"===P||this.data.actions?.[P])&&this._setEventListener(e,w,P,d)}_setBackgroundColor(e){const c=this.data.backgroundColor||null;e.style.backgroundColor=null===c?"transparent":f.Util.makeHexColor(c[0],c[1],c[2])}}class s extends i{constructor(e){super(e,{isRenderable:e.renderForms||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,c,d,w){const P=this.annotationStorage;for(const E of this._getElementsByName(e.name,e.id))E.domElement&&(E.domElement[c]=d),P.setValue(E.id,{[w]:d})}render(){const e=this.annotationStorage,c=this.data.id;this.container.className="textWidgetAnnotation";let d=null;if(this.renderForms){const w=e.getValue(c,{value:this.data.fieldValue}),P=w.formattedValue||w.value||"",E={userValue:null,formattedValue:null,valueOnFocus:""};this.data.multiLine?(d=document.createElement("textarea"),d.textContent=P):(d=document.createElement("input"),d.type="text",d.setAttribute("value",P)),h.add(d),d.disabled=this.data.readOnly,d.name=this.data.fieldName,d.tabIndex=I,E.userValue=P,d.setAttribute("id",c),d.addEventListener("input",W=>{e.setValue(c,{value:W.target.value}),this.setPropertyOnSiblings(d,"value",W.target.value,"value")}),d.addEventListener("resetform",W=>{d.value=E.userValue=this.data.defaultFieldValue??"",E.formattedValue=null});let V=W=>{const{formattedValue:j}=E;null!=j&&(W.target.value=j),W.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){d.addEventListener("focus",j=>{E.userValue&&(j.target.value=E.userValue),E.valueOnFocus=j.target.value}),d.addEventListener("updatefromsandbox",j=>{this._dispatchEventFromSandbox({value(Q){E.userValue=Q.detail.value??"",e.setValue(c,{value:E.userValue.toString()}),Q.target.value=E.userValue},formattedValue(Q){const{formattedValue:ee}=Q.detail;E.formattedValue=ee,null!=ee&&Q.target!==document.activeElement&&(Q.target.value=ee),e.setValue(c,{formattedValue:ee})},selRange(Q){Q.target.setSelectionRange(...Q.detail.selRange)}},j)}),d.addEventListener("keydown",j=>{let H=-1;if("Escape"===j.key?H=0:"Enter"===j.key?H=2:"Tab"===j.key&&(H=3),-1===H)return;const{value:Q}=j.target;E.valueOnFocus!==Q&&(E.userValue=Q,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:c,name:"Keystroke",value:Q,willCommit:!0,commitKey:H,selStart:j.target.selectionStart,selEnd:j.target.selectionEnd}}))});const W=V;V=null,d.addEventListener("blur",j=>{const{value:H}=j.target;E.userValue=H,this._mouseState.isDown&&E.valueOnFocus!==H&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:c,name:"Keystroke",value:H,willCommit:!0,commitKey:1,selStart:j.target.selectionStart,selEnd:j.target.selectionEnd}}),W(j)}),this.data.actions?.Keystroke&&d.addEventListener("beforeinput",j=>{const{data:H,target:Q}=j,{value:ee,selectionStart:fe,selectionEnd:Ce}=Q;let J=fe,oe=Ce;switch(j.inputType){case"deleteWordBackward":{const ae=ee.substring(0,fe).match(/\w*[^\w]*$/);ae&&(J-=ae[0].length);break}case"deleteWordForward":{const ae=ee.substring(fe).match(/^[^\w]*\w*/);ae&&(oe+=ae[0].length);break}case"deleteContentBackward":fe===Ce&&(J-=1);break;case"deleteContentForward":fe===Ce&&(oe+=1)}j.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:c,name:"Keystroke",value:ee,change:H||"",willCommit:!1,selStart:J,selEnd:oe}})}),this._setEventListeners(d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],j=>j.target.value)}if(V&&d.addEventListener("blur",V),null!==this.data.maxLen&&(d.maxLength=this.data.maxLen),this.data.comb){const j=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;d.classList.add("comb"),d.style.letterSpacing=`calc(${j}px - 1ch)`}}else d=document.createElement("div"),d.textContent=this.data.fieldValue,d.style.verticalAlign="middle",d.style.display="table-cell";return this._setTextStyle(d),this._setBackgroundColor(d),this._setDefaultPropertiesFromJS(d),this.container.appendChild(d),this.container}_setTextStyle(e){const{fontSize:d,fontColor:w}=this.data.defaultAppearanceData,P=e.style;d&&(P.fontSize=`${d}px`),P.color=f.Util.makeHexColor(w[0],w[1],w[2]),null!==this.data.textAlignment&&(P.textAlign=["left","center","right"][this.data.textAlignment])}}class u extends i{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,c=this.data,d=c.id;let w=e.getValue(d,{value:c.exportValue===c.fieldValue}).value;"string"==typeof w&&(w="Off"!==w,e.setValue(d,{value:w})),this.container.className="buttonWidgetAnnotation checkBox";const P=document.createElement("input");return h.add(P),P.disabled=c.readOnly,P.type="checkbox",P.name=c.fieldName,w&&P.setAttribute("checked",!0),P.setAttribute("id",d),P.setAttribute("exportValue",c.exportValue),P.tabIndex=I,P.addEventListener("change",E=>{const{name:V,checked:W}=E.target;for(const j of this._getElementsByName(V,d)){const H=W&&j.exportValue===c.exportValue;j.domElement&&(j.domElement.checked=H),e.setValue(j.id,{value:H})}e.setValue(d,{value:W})}),P.addEventListener("resetform",E=>{E.target.checked=(c.defaultFieldValue||"Off")===c.exportValue}),this.enableScripting&&this.hasJSActions&&(P.addEventListener("updatefromsandbox",E=>{this._dispatchEventFromSandbox({value(W){W.target.checked="Off"!==W.detail.value,e.setValue(d,{value:W.target.checked})}},E)}),this._setEventListeners(P,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],E=>E.target.checked)),this._setBackgroundColor(P),this._setDefaultPropertiesFromJS(P),this.container.appendChild(P),this.container}}class x extends i{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const e=this.annotationStorage,c=this.data,d=c.id;let w=e.getValue(d,{value:c.fieldValue===c.buttonValue}).value;"string"==typeof w&&(w=w!==c.buttonValue,e.setValue(d,{value:w}));const P=document.createElement("input");if(h.add(P),P.disabled=c.readOnly,P.type="radio",P.name=c.fieldName,w&&P.setAttribute("checked",!0),P.setAttribute("id",d),P.tabIndex=I,P.addEventListener("change",E=>{const{name:V,checked:W}=E.target;for(const j of this._getElementsByName(V,d))e.setValue(j.id,{value:!1});e.setValue(d,{value:W})}),P.addEventListener("resetform",E=>{const V=c.defaultFieldValue;E.target.checked=null!=V&&V===c.buttonValue}),this.enableScripting&&this.hasJSActions){const E=c.buttonValue;P.addEventListener("updatefromsandbox",V=>{this._dispatchEventFromSandbox({value:j=>{const H=E===j.detail.value;for(const Q of this._getElementsByName(j.target.name)){const ee=H&&Q.id===d;Q.domElement&&(Q.domElement.checked=ee),e.setValue(Q.id,{value:ee})}}},V)}),this._setEventListeners(P,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],V=>V.target.checked)}return this._setBackgroundColor(P),this._setDefaultPropertiesFromJS(P),this.container.appendChild(P),this.container}}class _ extends a{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();return e.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(e.title=this.data.alternativeText),this._setDefaultPropertiesFromJS(e),e}}class g extends i{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const e=this.annotationStorage,c=this.data.id,d=e.getValue(c,{value:this.data.fieldValue});let{fontSize:w}=this.data.defaultAppearanceData;w||(w=9);const P=`calc(${w}px * var(--zoom-factor))`,E=document.createElement("select");h.add(E),E.disabled=this.data.readOnly,E.name=this.data.fieldName,E.setAttribute("id",c),E.tabIndex=I,E.style.fontSize=`${w}px`,this.data.combo||(E.size=this.data.options.length,this.data.multiSelect&&(E.multiple=!0)),E.addEventListener("resetform",j=>{const H=this.data.defaultFieldValue;for(const Q of E.options)Q.selected=Q.value===H});for(const j of this.data.options){const H=document.createElement("option");H.textContent=j.displayValue,H.value=j.exportValue,this.data.combo&&(H.style.fontSize=P),d.value.includes(j.exportValue)&&H.setAttribute("selected",!0),E.appendChild(H)}const V=(j,H)=>{const Q=H?"value":"textContent",ee=j.target.options;return j.target.multiple?Array.prototype.filter.call(ee,fe=>fe.selected).map(fe=>fe[Q]):-1===ee.selectedIndex?null:ee[ee.selectedIndex][Q]},W=j=>Array.prototype.map.call(j.target.options,Q=>({displayValue:Q.textContent,exportValue:Q.value}));return this.enableScripting&&this.hasJSActions?(E.addEventListener("updatefromsandbox",j=>{this._dispatchEventFromSandbox({value(Q){const ee=Q.detail.value,fe=new Set(Array.isArray(ee)?ee:[ee]);for(const Ce of E.options)Ce.selected=fe.has(Ce.value);e.setValue(c,{value:V(Q,!0)})},multipleSelection(Q){E.multiple=!0},remove(Q){const ee=E.options,fe=Q.detail.remove;ee[fe].selected=!1,E.remove(fe),ee.length>0&&-1===Array.prototype.findIndex.call(ee,J=>J.selected)&&(ee[0].selected=!0),e.setValue(c,{value:V(Q,!0),items:W(Q)})},clear(Q){for(;0!==E.length;)E.remove(0);e.setValue(c,{value:null,items:[]})},insert(Q){const{index:ee,displayValue:fe,exportValue:Ce}=Q.detail.insert,J=document.createElement("option");J.textContent=fe,J.value=Ce,E.insertBefore(J,E.children[ee]),e.setValue(c,{value:V(Q,!0),items:W(Q)})},items(Q){const{items:ee}=Q.detail;for(;0!==E.length;)E.remove(0);for(const fe of ee){const{displayValue:Ce,exportValue:J}=fe,oe=document.createElement("option");oe.textContent=Ce,oe.value=J,E.appendChild(oe)}E.options.length>0&&(E.options[0].selected=!0),e.setValue(c,{value:V(Q,!0),items:W(Q)})},indices(Q){const ee=new Set(Q.detail.indices);for(const fe of Q.target.options)fe.selected=ee.has(fe.index);e.setValue(c,{value:V(Q,!0)})},editable(Q){Q.target.disabled=!Q.detail.editable}},j)}),E.addEventListener("input",j=>{const H=V(j,!0),Q=V(j,!1);e.setValue(c,{value:H}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:c,name:"Keystroke",value:Q,changeEx:H,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(E,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],j=>j.target.checked)):E.addEventListener("input",function(j){e.setValue(c,{value:V(j,!0)})}),this._setBackgroundColor(E),this._setDefaultPropertiesFromJS(E),this.container.appendChild(E),this.container}}class t extends p{constructor(e){super(e,{isRenderable:!!(e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const d=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===d.length)return this.container;const w=new r({container:this.container,trigger:Array.from(d),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),P=this.page,E=f.Util.normalizeRect([this.data.parentRect[0],P.view[3]-this.data.parentRect[1]+P.view[1],this.data.parentRect[2],P.view[3]-this.data.parentRect[3]+P.view[1]]),V=E[0]+this.data.parentRect[2]-this.data.parentRect[0],W=E[1];return this.container.style.transformOrigin=`${-V}px ${-W}px`,this.container.style.left=`${V}px`,this.container.style.top=`${W}px`,this.container.appendChild(w.render()),this.container}}class r{constructor(e){this.container=e.container,this.trigger=e.trigger,this.color=e.color,this.titleObj=e.titleObj,this.modificationDate=e.modificationDate,this.contentsObj=e.contentsObj,this.richText=e.richText,this.hideWrapper=e.hideWrapper||!1,this.pinned=!1}render(){const c=document.createElement("div");c.className="popupWrapper",this.hideElement=this.hideWrapper?c:this.container,this.hideElement.hidden=!0;const d=document.createElement("div");d.className="popup";const w=this.color;w&&(d.style.backgroundColor=f.Util.makeHexColor(0|.7*(255-w[0])+w[0],0|.7*(255-w[1])+w[1],0|.7*(255-w[2])+w[2]));const P=document.createElement("h1");P.dir=this.titleObj.dir,P.textContent=this.titleObj.str,d.appendChild(P);const E=ue.PDFDateString.toDateObject(this.modificationDate);if(E){const V=document.createElement("span");V.className="popupDate",V.textContent="{{date}}, {{time}}",V.dataset.l10nId="annotation_date_string",V.dataset.l10nArgs=JSON.stringify({date:E.toLocaleDateString(),time:E.toLocaleTimeString()}),d.appendChild(V)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const V=this._formatContents(this.contentsObj);d.appendChild(V)}else n.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:d}),d.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const V of this.trigger)V.addEventListener("click",this._toggle.bind(this)),V.addEventListener("mouseover",this._show.bind(this,!1)),V.addEventListener("mouseout",this._hide.bind(this,!1));return d.addEventListener("click",this._hide.bind(this,!0)),c.appendChild(d),c}_formatContents({str:e,dir:c}){const d=document.createElement("p");d.className="popupContent",d.dir=c;const w=e.split(/(?:\r\n?|\n)/);for(let P=0,E=w.length;P<E;++P)d.appendChild(document.createTextNode(w[P])),P<E-1&&d.appendChild(document.createElement("br"));return d}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(e=!1){e&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(e=!0){e&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class y extends p{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class A extends p{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const e=this.data,{width:c,height:d}=C(e.rect),w=this.svgFactory.create(c,d),P=this.svgFactory.createElement("svg:line");return P.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),P.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),P.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),P.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),P.setAttribute("stroke-width",e.borderStyle.width||1),P.setAttribute("stroke","transparent"),P.setAttribute("fill","transparent"),w.appendChild(P),this.container.append(w),this._createPopup(P,e),this.container}}class v extends p{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const e=this.data,{width:c,height:d}=C(e.rect),w=this.svgFactory.create(c,d),P=e.borderStyle.width,E=this.svgFactory.createElement("svg:rect");return E.setAttribute("x",P/2),E.setAttribute("y",P/2),E.setAttribute("width",c-P),E.setAttribute("height",d-P),E.setAttribute("stroke-width",P||1),E.setAttribute("stroke","transparent"),E.setAttribute("fill","transparent"),w.appendChild(E),this.container.append(w),this._createPopup(E,e),this.container}}class k extends p{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const e=this.data,{width:c,height:d}=C(e.rect),w=this.svgFactory.create(c,d),P=e.borderStyle.width,E=this.svgFactory.createElement("svg:ellipse");return E.setAttribute("cx",c/2),E.setAttribute("cy",d/2),E.setAttribute("rx",c/2-P/2),E.setAttribute("ry",d/2-P/2),E.setAttribute("stroke-width",P||1),E.setAttribute("stroke","transparent"),E.setAttribute("fill","transparent"),w.appendChild(E),this.container.append(w),this._createPopup(E,e),this.container}}class R extends p{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:c,height:d}=C(e.rect),w=this.svgFactory.create(c,d);let P=[];for(const V of e.vertices)P.push(V.x-e.rect[0]+","+(e.rect[3]-V.y));P=P.join(" ");const E=this.svgFactory.createElement(this.svgElementName);return E.setAttribute("points",P),E.setAttribute("stroke-width",e.borderStyle.width||1),E.setAttribute("stroke","transparent"),E.setAttribute("fill","transparent"),w.appendChild(E),this.container.append(w),this._createPopup(E,e),this.container}}class F extends R{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class B extends p{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class z extends p{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:c,height:d}=C(e.rect),w=this.svgFactory.create(c,d);for(const P of e.inkLists){let E=[];for(const W of P)E.push(`${W.x-e.rect[0]},${e.rect[3]-W.y}`);E=E.join(" ");const V=this.svgFactory.createElement(this.svgElementName);V.setAttribute("points",E),V.setAttribute("stroke-width",e.borderStyle.width||1),V.setAttribute("stroke","transparent"),V.setAttribute("fill","transparent"),this._createPopup(V,e),w.appendChild(V)}return this.container.append(w),this.container}}class Z extends p{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class te extends p{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class U extends p{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class Y extends p{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class $ extends p{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class re extends p{constructor(e){super(e,{isRenderable:!0});const{filename:c,content:d}=this.data.file;this.filename=(0,ue.getFilenameFromUrl)(c),this.content=d,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:c,content:d})}render(){this.container.className="fileAttachmentAnnotation";const e=document.createElement("div");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(e,this.data),this.container.appendChild(e),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class le{static render(e){const c=[],d=[];for(const P of e.annotations){if(!P)continue;const{width:E,height:V}=C(P.rect);if(!(E<=0||V<=0)){if(P.annotationType===f.AnnotationType.POPUP){d.push(P);continue}c.push(P)}}d.length&&c.push(...d);const w=e.div;for(const P of c){const E=m.create({data:P,layer:w,page:e.page,viewport:e.viewport,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new ue.DOMSVGFactory,annotationStorage:e.annotationStorage||new se.AnnotationStorage,enableScripting:e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,mouseState:e.mouseState||{isDown:!1}});if(E.isRenderable){const V=E.render();if(P.hidden&&(V.style.visibility="hidden"),Array.isArray(V))for(const W of V)w.appendChild(W);else E instanceof t?w.prepend(V):w.appendChild(V)}}xe(this,T,Ke).call(this,w,e.annotationCanvasMap)}static update(e){const{page:c,viewport:d,annotations:w,annotationCanvasMap:P,div:E}=e,V=d.transform,W=`matrix(${V.join(",")})`;let j,H;for(const Q of w){const ee=E.querySelectorAll(`[data-annotation-id="${Q.id}"]`);if(ee)for(const fe of ee)if(Q.hasOwnCanvas){const Ce=f.Util.normalizeRect([Q.rect[0],c.view[3]-Q.rect[1]+c.view[1],Q.rect[2],c.view[3]-Q.rect[3]+c.view[1]]);if(!H){j=Math.abs(V[0]||V[1]);const ae=V.slice();for(let S=0;S<4;S++)ae[S]=Math.sign(ae[S]);H=`matrix(${ae.join(",")})`}const J=Ce[0]*j,oe=Ce[1]*j;fe.style.left=`${J}px`,fe.style.top=`${oe}px`,fe.style.transformOrigin=`${-J}px ${-oe}px`,fe.style.transform=H}else fe.style.transform=W}xe(this,T,Ke).call(this,E,P),E.hidden=!1}}T=new WeakSet,Ke=function(e,c){if(c){for(const[d,w]of c){const P=e.querySelector(`[data-annotation-id="${d}"]`);if(!P)continue;const{firstChild:E}=P;"CANVAS"===E.nodeName?P.replaceChild(w,E):P.insertBefore(w,E)}c.clear()}},Ee(le,T),L.AnnotationLayer=le},(_e,L)=>{function ne(ue){return Math.floor(255*Math.max(0,Math.min(1,ue))).toString(16).padStart(2,"0")}Object.defineProperty(L,"__esModule",{value:!0}),L.ColorConverters=void 0,L.ColorConverters=class f{static CMYK_G([se,K,n,I]){return["G",1-Math.min(1,.3*se+.59*n+.11*K+I)]}static G_CMYK([se]){return["CMYK",0,0,0,1-se]}static G_RGB([se]){return["RGB",se,se,se]}static G_HTML([se]){const K=ne(se);return`#${K}${K}${K}`}static RGB_G([se,K,n]){return["G",.3*se+.59*K+.11*n]}static RGB_HTML([se,K,n]){return`#${ne(se)}${ne(K)}${ne(n)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([se,K,n,I]){return["RGB",1-Math.min(1,se+I),1-Math.min(1,n+I),1-Math.min(1,K+I)]}static CMYK_HTML(se){return this.RGB_HTML(this.CMYK_RGB(se))}static RGB_CMYK([se,K,n]){const I=1-se,h=1-K,C=1-n;return["CMYK",I,h,C,Math.min(I,h,C)]}}},(_e,L,ne)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.XfaLayer=void 0;var f=ne(18);L.XfaLayer=class ue{static setupStorage(K,n,I,h,C){const m=h.getValue(n,{value:null});switch(I.name){case"textarea":if(null!==m.value&&(K.textContent=m.value),"print"===C)break;K.addEventListener("input",p=>{h.setValue(n,{value:p.target.value})});break;case"input":if("radio"===I.attributes.type||"checkbox"===I.attributes.type){if(m.value===I.attributes.xfaOn?K.setAttribute("checked",!0):m.value===I.attributes.xfaOff&&K.removeAttribute("checked"),"print"===C)break;K.addEventListener("change",p=>{h.setValue(n,{value:p.target.getAttribute(p.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==m.value&&K.setAttribute("value",m.value),"print"===C)break;K.addEventListener("input",p=>{h.setValue(n,{value:p.target.value})})}break;case"select":if(null!==m.value)for(const p of I.children)p.attributes.value===m.value&&(p.attributes.selected=!0);K.addEventListener("input",p=>{const a=p.target.options;h.setValue(n,{value:-1===a.selectedIndex?"":a[a.selectedIndex].value})})}}static setAttributes({html:K,element:n,storage:I=null,intent:h,linkService:C}){const{attributes:m}=n,p=K instanceof HTMLAnchorElement;"radio"===m.type&&(m.name=`${m.name}-${h}`);for(const[a,b]of Object.entries(m))if(null!=b&&"dataId"!==a)if("style"!==a)if("textContent"===a)K.textContent=b;else if("class"===a)b.length&&K.setAttribute(a,b.join(" "));else{if(p&&("href"===a||"newWindow"===a))continue;K.setAttribute(a,b)}else Object.assign(K.style,b);p&&C.addLinkAttributes(K,m.href,m.newWindow),I&&m.dataId&&this.setupStorage(K,m.dataId,n,I)}static render(K){const n=K.annotationStorage,I=K.linkService,h=K.xfaHtml,C=K.intent||"display",m=document.createElement(h.name);h.attributes&&this.setAttributes({html:m,element:h,intent:C,linkService:I});const p=[[h,-1,m]],a=K.div;if(a.appendChild(m),K.viewport){const i=`matrix(${K.viewport.transform.join(",")})`;a.style.transform=i}"richText"!==C&&a.setAttribute("class","xfaLayer xfaFont");const b=[];for(;p.length>0;){const[i,s,u]=p[p.length-1];if(s+1===i.children.length){p.pop();continue}const x=i.children[++p[p.length-1][1]];if(null===x)continue;const{name:_}=x;if("#text"===_){const t=document.createTextNode(x.value);b.push(t),u.appendChild(t);continue}let g;if(g=x?.attributes?.xmlns?document.createElementNS(x.attributes.xmlns,_):document.createElement(_),u.appendChild(g),x.attributes&&this.setAttributes({html:g,element:x,storage:n,intent:C,linkService:I}),x.children&&x.children.length>0)p.push([x,-1,g]);else if(x.value){const t=document.createTextNode(x.value);f.XfaText.shouldBuildText(_)&&b.push(t),g.appendChild(t)}}for(const i of a.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))i.setAttribute("readOnly",!0);return{textDivs:b}}static update(K){const n=`matrix(${K.viewport.transform.join(",")})`;K.div.style.transform=n,K.div.hidden=!1}}},(_e,L,ne)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.renderTextLayer=function u(x){const _=new s({textContent:x.textContent,textContentStream:x.textContentStream,container:x.container,viewport:x.viewport,textDivs:x.textDivs,textContentItemsStr:x.textContentItemsStr,enhanceTextSelection:x.enhanceTextSelection});return _._render(x.timeout),_};var f=ne(1);const n=new Map,I=/^\s+$/g;function C(x,_,g,t){const r=document.createElement("span"),y=x._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==_.str,hasEOL:_.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==_.str,hasEOL:_.hasEOL};x._textDivs.push(r);const A=f.Util.transform(x._viewport.transform,_.transform);let v=Math.atan2(A[1],A[0]);const k=g[_.fontName];k.vertical&&(v+=Math.PI/2);const R=Math.hypot(A[2],A[3]),F=R*function h(x,_){const g=n.get(x);if(g)return g;_.save(),_.font=`30px ${x}`;const t=_.measureText("");let r=t.fontBoundingBoxAscent,y=Math.abs(t.fontBoundingBoxDescent);if(r){_.restore();const v=r/(r+y);return n.set(x,v),v}_.strokeStyle="red",_.clearRect(0,0,30,30),_.strokeText("g",0,0);let A=_.getImageData(0,0,30,30).data;y=0;for(let v=A.length-1-3;v>=0;v-=4)if(A[v]>0){y=Math.ceil(v/4/30);break}_.clearRect(0,0,30,30),_.strokeText("A",0,30),A=_.getImageData(0,0,30,30).data,r=0;for(let v=0,k=A.length;v<k;v+=4)if(A[v]>0){r=30-Math.floor(v/4/30);break}if(_.restore(),r){const v=r/(r+y);return n.set(x,v),v}return n.set(x,.8),.8}(k.fontFamily,t);let B,z;0===v?(B=A[4],z=A[5]-F):(B=A[4]+F*Math.sin(v),z=A[5]-F*Math.cos(v)),r.style.left=`${B}px`,r.style.top=`${z}px`,r.style.fontSize=`${R}px`,r.style.fontFamily=k.fontFamily,r.setAttribute("role","presentation"),r.textContent=_.str,r.dir=_.dir,x._fontInspectorEnabled&&(r.dataset.fontName=_.fontName),0!==v&&(y.angle=v*(180/Math.PI));let Z=!1;if(_.str.length>1||x._enhanceTextSelection&&I.test(_.str))Z=!0;else if(" "!==_.str&&_.transform[0]!==_.transform[3]){const te=Math.abs(_.transform[0]),U=Math.abs(_.transform[3]);te!==U&&Math.max(te,U)/Math.min(te,U)>1.5&&(Z=!0)}if(Z&&(y.canvasWidth=k.vertical?_.height*x._viewport.scale:_.width*x._viewport.scale),x._textDivProperties.set(r,y),x._textContentStream&&x._layoutText(r),x._enhanceTextSelection&&y.hasText){let te=1,U=0;0!==v&&(te=Math.cos(v),U=Math.sin(v));const Y=(k.vertical?_.height:_.width)*x._viewport.scale,$=R;let re,le;0!==v?(re=[te,U,-U,te,B,z],le=f.Util.getAxialAlignedBoundingBox([0,0,Y,$],re)):le=[B,z,B+Y,z+$],x._bounds.push({left:le[0],top:le[1],right:le[2],bottom:le[3],div:r,size:[Y,$],m:re})}}function m(x){if(x._canceled)return;const _=x._textDivs,g=x._capability,t=_.length;if(t>1e5)return x._renderingDone=!0,void g.resolve();if(!x._textContentStream)for(let r=0;r<t;r++)x._layoutText(_[r]);x._renderingDone=!0,g.resolve()}function p(x,_,g){let t=0;for(let r=0;r<g;r++){const y=x[_++];y>0&&(t=t?Math.min(y,t):y)}return t}function i(x,_){_.sort(function(r,y){return r.x1-y.x1||r.index-y.index});const t=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const r of _){let y=0;for(;y<t.length&&t[y].end<=r.y1;)y++;let A=t.length-1;for(;A>=0&&t[A].start>=r.y2;)A--;let v,k,R,F,B=-1/0;for(R=y;R<=A;R++){let te;v=t[R],k=v.boundary,te=k.x2>r.x1?k.index>r.index?k.x1New:r.x1:void 0===k.x2New?(k.x2+r.x1)/2:k.x2New,te>B&&(B=te)}for(r.x1New=B,R=y;R<=A;R++)v=t[R],k=v.boundary,void 0===k.x2New?k.x2>r.x1?k.index>r.index&&(k.x2New=k.x2):k.x2New=B:k.x2New>B&&(k.x2New=Math.max(B,k.x2));const z=[];let Z=null;for(R=y;R<=A;R++){v=t[R],k=v.boundary;const te=k.x2>r.x2?k:r;Z===te?z[z.length-1].end=v.end:(z.push({start:v.start,end:v.end,boundary:te}),Z=te)}for(t[y].start<r.y1&&(z[0].start=r.y1,z.unshift({start:t[y].start,end:r.y1,boundary:t[y].boundary})),r.y2<t[A].end&&(z[z.length-1].end=r.y2,z.push({start:r.y2,end:t[A].end,boundary:t[A].boundary})),R=y;R<=A;R++){if(v=t[R],k=v.boundary,void 0!==k.x2New)continue;let te=!1;for(F=y-1;!te&&F>=0&&t[F].start>=k.y1;F--)te=t[F].boundary===k;for(F=A+1;!te&&F<t.length&&t[F].end<=k.y2;F++)te=t[F].boundary===k;for(F=0;!te&&F<z.length;F++)te=z[F].boundary===k;te||(k.x2New=B)}Array.prototype.splice.apply(t,[y,A-y+1].concat(z))}for(const r of t){const y=r.boundary;void 0===y.x2New&&(y.x2New=Math.max(x,y.x2))}}class s{constructor({textContent:_,textContentStream:g,container:t,viewport:r,textDivs:y,textContentItemsStr:A,enhanceTextSelection:v}){this._textContent=_,this._textContentStream=g,this._container=t,this._document=t.ownerDocument,this._viewport=r,this._textDivs=y||[],this._textContentItemsStr=A||[],this._enhanceTextSelection=!!v,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,f.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new f.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(_,g){for(let t=0,r=_.length;t<r;t++)if(void 0!==_[t].str)this._textContentItemsStr.push(_[t].str),C(this,_[t],g,this._layoutTextCtx);else if("beginMarkedContentProps"===_[t].type||"beginMarkedContent"===_[t].type){const y=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==_[t].id&&this._container.setAttribute("id",`${_[t].id}`),y.appendChild(this._container)}else"endMarkedContent"===_[t].type&&(this._container=this._container.parentNode)}_layoutText(_){const g=this._textDivProperties.get(_);let t="";if(0!==g.canvasWidth&&g.hasText){const{fontSize:r,fontFamily:y}=_.style;(r!==this._layoutTextLastFontSize||y!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${r} ${y}`,this._layoutTextLastFontSize=r,this._layoutTextLastFontFamily=y);const{width:A}=this._layoutTextCtx.measureText(_.textContent);if(A>0){const v=g.canvasWidth/A;this._enhanceTextSelection&&(g.scale=v),t=`scaleX(${v})`}}if(0!==g.angle&&(t=`rotate(${g.angle}deg) ${t}`),t.length>0&&(this._enhanceTextSelection&&(g.originalTransform=t),_.style.transform=t),g.hasText&&this._container.appendChild(_),g.hasEOL){const r=document.createElement("br");r.setAttribute("role","presentation"),this._container.appendChild(r)}}_render(_=0){const g=(0,f.createPromiseCapability)();let t=Object.create(null);const r=this._document.createElement("canvas");if(r.height=r.width=30,this._layoutTextCtx=r.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),g.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const y=()=>{this._reader.read().then(({value:A,done:v})=>{v?g.resolve():(Object.assign(t,A.styles),this._processItems(A.items,t),y())},g.reject)};this._reader=this._textContentStream.getReader(),y()}}g.promise.then(()=>{t=null,_?this._renderTimer=setTimeout(()=>{m(this),this._renderTimer=null},_):m(this)},this._capability.reject)}expandTextDivs(_=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function a(x){const _=x._bounds,g=x._viewport,t=function b(x,_,g){const t=g.map(function(y,A){return{x1:y.left,y1:y.top,x2:y.right,y2:y.bottom,index:A,x1New:void 0,x2New:void 0}});i(x,t);const r=new Array(g.length);for(const y of t)r[y.index]={left:y.x1New,top:0,right:y.x2New,bottom:0};g.map(function(y,A){const v=r[A],k=t[A];k.x1=y.top,k.y1=x-v.right,k.x2=y.bottom,k.y2=x-v.left,k.index=A,k.x1New=void 0,k.x2New=void 0}),i(_,t);for(const y of t){const A=y.index;r[A].top=y.x1New,r[A].bottom=y.x2New}return r}(g.width,g.height,_);for(let r=0;r<t.length;r++){const y=_[r].div,A=x._textDivProperties.get(y);if(0===A.angle){A.paddingLeft=_[r].left-t[r].left,A.paddingTop=_[r].top-t[r].top,A.paddingRight=t[r].right-_[r].right,A.paddingBottom=t[r].bottom-_[r].bottom,x._textDivProperties.set(y,A);continue}const v=t[r],k=_[r],R=k.m,F=R[0],B=R[1],z=[[0,0],[0,k.size[1]],[k.size[0],0],k.size],Z=new Float64Array(64);for(let U=0,Y=z.length;U<Y;U++){const $=f.Util.applyTransform(z[U],R);Z[U+0]=F&&(v.left-$[0])/F,Z[U+4]=B&&(v.top-$[1])/B,Z[U+8]=F&&(v.right-$[0])/F,Z[U+12]=B&&(v.bottom-$[1])/B,Z[U+16]=B&&(v.left-$[0])/-B,Z[U+20]=F&&(v.top-$[1])/F,Z[U+24]=B&&(v.right-$[0])/-B,Z[U+28]=F&&(v.bottom-$[1])/F,Z[U+32]=F&&(v.left-$[0])/-F,Z[U+36]=B&&(v.top-$[1])/-B,Z[U+40]=F&&(v.right-$[0])/-F,Z[U+44]=B&&(v.bottom-$[1])/-B,Z[U+48]=B&&(v.left-$[0])/B,Z[U+52]=F&&(v.top-$[1])/-F,Z[U+56]=B&&(v.right-$[0])/B,Z[U+60]=F&&(v.bottom-$[1])/-F}const te=1+Math.min(Math.abs(F),Math.abs(B));A.paddingLeft=p(Z,32,16)/te,A.paddingTop=p(Z,48,16)/te,A.paddingRight=p(Z,0,16)/te,A.paddingBottom=p(Z,16,16)/te,x._textDivProperties.set(y,A)}}(this),this._bounds=null);const g=[],t=[];for(let r=0,y=this._textDivs.length;r<y;r++){const A=this._textDivs[r],v=this._textDivProperties.get(A);!v.hasText||(_?(g.length=0,t.length=0,v.originalTransform&&g.push(v.originalTransform),v.paddingTop>0?(t.push(`${v.paddingTop}px`),g.push(`translateY(${-v.paddingTop}px)`)):t.push(0),t.push(v.paddingRight>0?v.paddingRight/v.scale+"px":0),t.push(v.paddingBottom>0?`${v.paddingBottom}px`:0),v.paddingLeft>0?(t.push(v.paddingLeft/v.scale+"px"),g.push(`translateX(${-v.paddingLeft/v.scale}px)`)):t.push(0),A.style.padding=t.join(" "),g.length&&(A.style.transform=g.join(" "))):(A.style.padding=null,A.style.transform=v.originalTransform))}}}},(_e,L,ne)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.SVGGraphics=void 0;var f=ne(1),ue=ne(5),se=ne(3);let K=class{constructor(){(0,f.unreachable)("Not implemented: SVGGraphics")}};L.SVGGraphics=K;{let i=function(t){let r=[];const y=[];for(const A of t)"save"!==A.fn?"restore"===A.fn?r=y.pop():r.push(A):(r.push({fnId:92,fn:"group",items:[]}),y.push(r),r=r[r.length-1].items);return r},s=function(t){if(Number.isInteger(t))return t.toString();const r=t.toFixed(10);let y=r.length-1;if("0"!==r[y])return r;do{y--}while("0"===r[y]);return r.substring(0,"."===r[y]?y:y+1)},u=function(t){if(0===t[4]&&0===t[5]){if(0===t[1]&&0===t[2])return 1===t[0]&&1===t[3]?"":`scale(${s(t[0])} ${s(t[3])})`;if(t[0]===t[3]&&t[1]===-t[2]){const r=180*Math.acos(t[0])/Math.PI;return`rotate(${s(r)})`}}else if(1===t[0]&&0===t[1]&&0===t[2]&&1===t[3])return`translate(${s(t[4])} ${s(t[5])})`;return`matrix(${s(t[0])} ${s(t[1])} ${s(t[2])} ${s(t[3])} ${s(t[4])} ${s(t[5])})`};const n={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},I="http://www.w3.org/XML/1998/namespace",h="http://www.w3.org/1999/xlink",C=["butt","round","square"],m=["miter","round","bevel"],p=function(t,r="",y=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!y)return URL.createObjectURL(new Blob([t],{type:r}));const A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let v=`data:${r};base64,`;for(let k=0,R=t.length;k<R;k+=3){const F=255&t[k],B=255&t[k+1],z=255&t[k+2];v+=A[F>>2]+A[(3&F)<<4|B>>4]+A[k+1<R?(15&B)<<2|z>>6:64]+A[k+2<R?63&z:64]}return v},a=function(){const t=new Uint8Array([137,80,78,71,13,10,26,10]),y=new Int32Array(256);for(let z=0;z<256;z++){let Z=z;for(let te=0;te<8;te++)Z=1&Z?3988292384^Z>>1&2147483647:Z>>1&2147483647;y[z]=Z}function v(z,Z,te,U){let Y=U;const $=Z.length;te[Y]=$>>24&255,te[Y+1]=$>>16&255,te[Y+2]=$>>8&255,te[Y+3]=255&$,Y+=4,te[Y]=255&z.charCodeAt(0),te[Y+1]=255&z.charCodeAt(1),te[Y+2]=255&z.charCodeAt(2),te[Y+3]=255&z.charCodeAt(3),Y+=4,te.set(Z,Y),Y+=Z.length;const re=function A(z,Z,te){let U=-1;for(let Y=Z;Y<te;Y++)U=U>>>8^y[255&(U^z[Y])];return-1^U}(te,U+4,Y);te[Y]=re>>24&255,te[Y+1]=re>>16&255,te[Y+2]=re>>8&255,te[Y+3]=255&re}function F(z){let Z=z.length;const te=65535,U=Math.ceil(Z/te),Y=new Uint8Array(2+Z+5*U+4);let $=0;Y[$++]=120,Y[$++]=156;let re=0;for(;Z>te;)Y[$++]=0,Y[$++]=255,Y[$++]=255,Y[$++]=0,Y[$++]=0,Y.set(z.subarray(re,re+te),$),$+=te,re+=te,Z-=te;Y[$++]=1,Y[$++]=255&Z,Y[$++]=Z>>8&255,Y[$++]=255&~Z,Y[$++]=(65535&~Z)>>8&255,Y.set(z.subarray(re),$),$+=z.length-re;const le=function k(z,Z,te){let U=1,Y=0;for(let $=Z;$<te;++$)U=(U+(255&z[$]))%65521,Y=(Y+U)%65521;return Y<<16|U}(z,0,z.length);return Y[$++]=le>>24&255,Y[$++]=le>>16&255,Y[$++]=le>>8&255,Y[$++]=255&le,Y}return function(Z,te,U){return function B(z,Z,te,U){const Y=z.width,$=z.height;let re,le,T;const o=z.data;switch(Z){case f.ImageKind.GRAYSCALE_1BPP:le=0,re=1,T=Y+7>>3;break;case f.ImageKind.RGB_24BPP:le=2,re=8,T=3*Y;break;case f.ImageKind.RGBA_32BPP:le=6,re=8,T=4*Y;break;default:throw new Error("invalid format")}const l=new Uint8Array((1+T)*$);let e=0,c=0;for(let W=0;W<$;++W)l[e++]=0,l.set(o.subarray(c,c+T),e),c+=T,e+=T;if(Z===f.ImageKind.GRAYSCALE_1BPP&&U){e=0;for(let W=0;W<$;W++){e++;for(let j=0;j<T;j++)l[e++]^=255}}const d=new Uint8Array([Y>>24&255,Y>>16&255,Y>>8&255,255&Y,$>>24&255,$>>16&255,$>>8&255,255&$,re,le,0,0,0]),w=function R(z){if(!se.isNodeJS)return F(z);try{let Z;Z=parseInt(process.versions.node)>=8?z:Buffer.from(z);const te=__webpack_require__(2258).deflateSync(Z,{level:9});return te instanceof Uint8Array?te:new Uint8Array(te)}catch(Z){(0,f.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Z)}return F(z)}(l),E=new Uint8Array(t.length+36+d.length+w.length);let V=0;return E.set(t,V),V+=t.length,v("IHDR",d,E,V),V+=12+d.length,v("IDATA",w,E,V),V+=12+w.length,v("IEND",new Uint8Array(0),E,V),p(E,"image/png",te)}(Z,void 0===Z.kind?f.ImageKind.GRAYSCALE_1BPP:Z.kind,te,U)}}();class b{constructor(){this.fontSizeScale=1,this.fontWeight=n.fontWeight,this.fontSize=0,this.textMatrix=f.IDENTITY_MATRIX,this.fontMatrix=f.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=f.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=n.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(r,y){this.x=r,this.y=y}}let x=0,_=0,g=0;L.SVGGraphics=K=class{constructor(t,r,y=!1){this.svgFactory=new ue.DOMSVGFactory,this.current=new b,this.transformMatrix=f.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=t,this.objs=r,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!y,this._operatorIdMapping=[];for(const A in f.OPS)this._operatorIdMapping[f.OPS[A]]=A}save(){this.transformStack.push(this.transformMatrix);const t=this.current;this.extraStack.push(t),this.current=t.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(t){this.save(),this.executeOpTree(t),this.restore()}loadDependencies(t){const r=t.fnArray,y=t.argsArray;for(let A=0,v=r.length;A<v;A++)if(r[A]===f.OPS.dependency)for(const k of y[A]){const R=k.startsWith("g_")?this.commonObjs:this.objs,F=new Promise(B=>{R.get(k,B)});this.current.dependencies.push(F)}return Promise.all(this.current.dependencies)}transform(t,r,y,A,v,k){this.transformMatrix=f.Util.transform(this.transformMatrix,[t,r,y,A,v,k]),this.tgrp=null}getSVG(t,r){this.viewport=r;const y=this._initialize(r);return this.loadDependencies(t).then(()=>(this.transformMatrix=f.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(t)),y))}convertOpList(t){const r=this._operatorIdMapping,y=t.argsArray,A=t.fnArray,v=[];for(let k=0,R=A.length;k<R;k++){const F=A[k];v.push({fnId:F,fn:r[F],args:y[k]})}return i(v)}executeOpTree(t){for(const r of t){const y=r.fn,v=r.args;switch(0|r.fnId){case f.OPS.beginText:this.beginText();break;case f.OPS.dependency:break;case f.OPS.setLeading:this.setLeading(v);break;case f.OPS.setLeadingMoveText:this.setLeadingMoveText(v[0],v[1]);break;case f.OPS.setFont:this.setFont(v);break;case f.OPS.showText:case f.OPS.showSpacedText:this.showText(v[0]);break;case f.OPS.endText:this.endText();break;case f.OPS.moveText:this.moveText(v[0],v[1]);break;case f.OPS.setCharSpacing:this.setCharSpacing(v[0]);break;case f.OPS.setWordSpacing:this.setWordSpacing(v[0]);break;case f.OPS.setHScale:this.setHScale(v[0]);break;case f.OPS.setTextMatrix:this.setTextMatrix(v[0],v[1],v[2],v[3],v[4],v[5]);break;case f.OPS.setTextRise:this.setTextRise(v[0]);break;case f.OPS.setTextRenderingMode:this.setTextRenderingMode(v[0]);break;case f.OPS.setLineWidth:this.setLineWidth(v[0]);break;case f.OPS.setLineJoin:this.setLineJoin(v[0]);break;case f.OPS.setLineCap:this.setLineCap(v[0]);break;case f.OPS.setMiterLimit:this.setMiterLimit(v[0]);break;case f.OPS.setFillRGBColor:this.setFillRGBColor(v[0],v[1],v[2]);break;case f.OPS.setStrokeRGBColor:this.setStrokeRGBColor(v[0],v[1],v[2]);break;case f.OPS.setStrokeColorN:this.setStrokeColorN(v);break;case f.OPS.setFillColorN:this.setFillColorN(v);break;case f.OPS.shadingFill:this.shadingFill(v[0]);break;case f.OPS.setDash:this.setDash(v[0],v[1]);break;case f.OPS.setRenderingIntent:this.setRenderingIntent(v[0]);break;case f.OPS.setFlatness:this.setFlatness(v[0]);break;case f.OPS.setGState:this.setGState(v[0]);break;case f.OPS.fill:this.fill();break;case f.OPS.eoFill:this.eoFill();break;case f.OPS.stroke:this.stroke();break;case f.OPS.fillStroke:this.fillStroke();break;case f.OPS.eoFillStroke:this.eoFillStroke();break;case f.OPS.clip:this.clip("nonzero");break;case f.OPS.eoClip:this.clip("evenodd");break;case f.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case f.OPS.paintImageXObject:this.paintImageXObject(v[0]);break;case f.OPS.paintInlineImageXObject:this.paintInlineImageXObject(v[0]);break;case f.OPS.paintImageMaskXObject:this.paintImageMaskXObject(v[0]);break;case f.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(v[0],v[1]);break;case f.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case f.OPS.closePath:this.closePath();break;case f.OPS.closeStroke:this.closeStroke();break;case f.OPS.closeFillStroke:this.closeFillStroke();break;case f.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case f.OPS.nextLine:this.nextLine();break;case f.OPS.transform:this.transform(v[0],v[1],v[2],v[3],v[4],v[5]);break;case f.OPS.constructPath:this.constructPath(v[0],v[1]);break;case f.OPS.endPath:this.endPath();break;case 92:this.group(r.items);break;default:(0,f.warn)(`Unimplemented operator ${y}`)}}}setWordSpacing(t){this.current.wordSpacing=t}setCharSpacing(t){this.current.charSpacing=t}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(t,r,y,A,v,k){const R=this.current;R.textMatrix=R.lineMatrix=[t,r,y,A,v,k],R.textMatrixScale=Math.hypot(t,r),R.x=R.lineX=0,R.y=R.lineY=0,R.xcoords=[],R.ycoords=[],R.tspan=this.svgFactory.createElement("svg:tspan"),R.tspan.setAttributeNS(null,"font-family",R.fontFamily),R.tspan.setAttributeNS(null,"font-size",`${s(R.fontSize)}px`),R.tspan.setAttributeNS(null,"y",s(-R.y)),R.txtElement=this.svgFactory.createElement("svg:text"),R.txtElement.appendChild(R.tspan)}beginText(){const t=this.current;t.x=t.lineX=0,t.y=t.lineY=0,t.textMatrix=f.IDENTITY_MATRIX,t.lineMatrix=f.IDENTITY_MATRIX,t.textMatrixScale=1,t.tspan=this.svgFactory.createElement("svg:tspan"),t.txtElement=this.svgFactory.createElement("svg:text"),t.txtgrp=this.svgFactory.createElement("svg:g"),t.xcoords=[],t.ycoords=[]}moveText(t,r){const y=this.current;y.x=y.lineX+=t,y.y=y.lineY+=r,y.xcoords=[],y.ycoords=[],y.tspan=this.svgFactory.createElement("svg:tspan"),y.tspan.setAttributeNS(null,"font-family",y.fontFamily),y.tspan.setAttributeNS(null,"font-size",`${s(y.fontSize)}px`),y.tspan.setAttributeNS(null,"y",s(-y.y))}showText(t){const r=this.current,y=r.font,A=r.fontSize;if(0===A)return;const v=r.fontSizeScale,k=r.charSpacing,R=r.wordSpacing,F=r.fontDirection,B=r.textHScale*F,z=y.vertical,Z=z?1:-1,te=y.defaultVMetrics,U=A*r.fontMatrix[0];let Y=0;for(const le of t){if(null===le){Y+=F*R;continue}if("number"==typeof le){Y+=Z*le*A/1e3;continue}const T=(le.isSpace?R:0)+k,o=le.fontChar;let l,e,d,c=le.width;if(z){let w;const P=le.vmetric||te;w=le.vmetric?P[1]:.5*c,w=-w*U,c=P?-P[0]:c,l=w/v,e=(Y+P[2]*U)/v}else l=Y/v,e=0;(le.isInFont||y.missingFile)&&(r.xcoords.push(r.x+l),z&&r.ycoords.push(-r.y+e),r.tspan.textContent+=o),d=z?c*U-T*F:c*U+T*F,Y+=d}r.tspan.setAttributeNS(null,"x",r.xcoords.map(s).join(" ")),r.tspan.setAttributeNS(null,"y",z?r.ycoords.map(s).join(" "):s(-r.y)),z?r.y-=Y:r.x+=Y*B,r.tspan.setAttributeNS(null,"font-family",r.fontFamily),r.tspan.setAttributeNS(null,"font-size",`${s(r.fontSize)}px`),r.fontStyle!==n.fontStyle&&r.tspan.setAttributeNS(null,"font-style",r.fontStyle),r.fontWeight!==n.fontWeight&&r.tspan.setAttributeNS(null,"font-weight",r.fontWeight);const $=r.textRenderingMode&f.TextRenderingMode.FILL_STROKE_MASK;$===f.TextRenderingMode.FILL||$===f.TextRenderingMode.FILL_STROKE?(r.fillColor!==n.fillColor&&r.tspan.setAttributeNS(null,"fill",r.fillColor),r.fillAlpha<1&&r.tspan.setAttributeNS(null,"fill-opacity",r.fillAlpha)):r.tspan.setAttributeNS(null,"fill",r.textRenderingMode===f.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),($===f.TextRenderingMode.STROKE||$===f.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(r.tspan,1/(r.textMatrixScale||1));let re=r.textMatrix;0!==r.textRise&&(re=re.slice(),re[5]+=r.textRise),r.txtElement.setAttributeNS(null,"transform",`${u(re)} scale(${s(B)}, -1)`),r.txtElement.setAttributeNS(I,"xml:space","preserve"),r.txtElement.appendChild(r.tspan),r.txtgrp.appendChild(r.txtElement),this._ensureTransformGroup().appendChild(r.txtElement)}setLeadingMoveText(t,r){this.setLeading(-r),this.moveText(t,r)}addFontStyle(t){if(!t.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const r=p(t.data,t.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${t.loadedName}"; src: url(${r}); }\n`}setFont(t){const r=this.current,y=this.commonObjs.get(t[0]);let A=t[1];r.font=y,this.embedFonts&&!y.missingFile&&!this.embeddedFonts[y.loadedName]&&(this.addFontStyle(y),this.embeddedFonts[y.loadedName]=y),r.fontMatrix=y.fontMatrix||f.FONT_IDENTITY_MATRIX;let v="normal";y.black?v="900":y.bold&&(v="bold");const k=y.italic?"italic":"normal";A<0?(A=-A,r.fontDirection=-1):r.fontDirection=1,r.fontSize=A,r.fontFamily=y.loadedName,r.fontWeight=v,r.fontStyle=k,r.tspan=this.svgFactory.createElement("svg:tspan"),r.tspan.setAttributeNS(null,"y",s(-r.y)),r.xcoords=[],r.ycoords=[]}endText(){const t=this.current;t.textRenderingMode&f.TextRenderingMode.ADD_TO_PATH_FLAG&&t.txtElement?.hasChildNodes()&&(t.element=t.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(t){t>0&&(this.current.lineWidth=t)}setLineCap(t){this.current.lineCap=C[t]}setLineJoin(t){this.current.lineJoin=m[t]}setMiterLimit(t){this.current.miterLimit=t}setStrokeAlpha(t){this.current.strokeAlpha=t}setStrokeRGBColor(t,r,y){this.current.strokeColor=f.Util.makeHexColor(t,r,y)}setFillAlpha(t){this.current.fillAlpha=t}setFillRGBColor(t,r,y){this.current.fillColor=f.Util.makeHexColor(t,r,y),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(t){this.current.strokeColor=this._makeColorN_Pattern(t)}setFillColorN(t){this.current.fillColor=this._makeColorN_Pattern(t)}shadingFill(t){const r=this.viewport.width,y=this.viewport.height,A=f.Util.inverseTransform(this.transformMatrix),v=f.Util.applyTransform([0,0],A),k=f.Util.applyTransform([0,y],A),R=f.Util.applyTransform([r,0],A),F=f.Util.applyTransform([r,y],A),B=Math.min(v[0],k[0],R[0],F[0]),z=Math.min(v[1],k[1],R[1],F[1]),Z=Math.max(v[0],k[0],R[0],F[0]),te=Math.max(v[1],k[1],R[1],F[1]),U=this.svgFactory.createElement("svg:rect");U.setAttributeNS(null,"x",B),U.setAttributeNS(null,"y",z),U.setAttributeNS(null,"width",Z-B),U.setAttributeNS(null,"height",te-z),U.setAttributeNS(null,"fill",this._makeShadingPattern(t)),this.current.fillAlpha<1&&U.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(U)}_makeColorN_Pattern(t){return"TilingPattern"===t[0]?this._makeTilingPattern(t):this._makeShadingPattern(t)}_makeTilingPattern(t){const r=t[1],y=t[2],A=t[3]||f.IDENTITY_MATRIX,[v,k,R,F]=t[4],B=t[5],z=t[6],Z=t[7],te="shading"+g++,[U,Y,$,re]=f.Util.normalizeRect([...f.Util.applyTransform([v,k],A),...f.Util.applyTransform([R,F],A)]),[le,T]=f.Util.singularValueDecompose2dScale(A),o=B*le,l=z*T,e=this.svgFactory.createElement("svg:pattern");e.setAttributeNS(null,"id",te),e.setAttributeNS(null,"patternUnits","userSpaceOnUse"),e.setAttributeNS(null,"width",o),e.setAttributeNS(null,"height",l),e.setAttributeNS(null,"x",`${U}`),e.setAttributeNS(null,"y",`${Y}`);const c=this.svg,d=this.transformMatrix,w=this.current.fillColor,P=this.current.strokeColor,E=this.svgFactory.create($-U,re-Y);if(this.svg=E,this.transformMatrix=A,2===Z){const V=f.Util.makeHexColor(...r);this.current.fillColor=V,this.current.strokeColor=V}return this.executeOpTree(this.convertOpList(y)),this.svg=c,this.transformMatrix=d,this.current.fillColor=w,this.current.strokeColor=P,e.appendChild(E.childNodes[0]),this.defs.appendChild(e),`url(#${te})`}_makeShadingPattern(t){switch("string"==typeof t&&(t=this.objs.get(t)),t[0]){case"RadialAxial":const r="shading"+g++,y=t[3];let A;switch(t[1]){case"axial":const v=t[4],k=t[5];A=this.svgFactory.createElement("svg:linearGradient"),A.setAttributeNS(null,"id",r),A.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),A.setAttributeNS(null,"x1",v[0]),A.setAttributeNS(null,"y1",v[1]),A.setAttributeNS(null,"x2",k[0]),A.setAttributeNS(null,"y2",k[1]);break;case"radial":const R=t[4],F=t[5],B=t[6],z=t[7];A=this.svgFactory.createElement("svg:radialGradient"),A.setAttributeNS(null,"id",r),A.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),A.setAttributeNS(null,"cx",F[0]),A.setAttributeNS(null,"cy",F[1]),A.setAttributeNS(null,"r",z),A.setAttributeNS(null,"fx",R[0]),A.setAttributeNS(null,"fy",R[1]),A.setAttributeNS(null,"fr",B);break;default:throw new Error(`Unknown RadialAxial type: ${t[1]}`)}for(const v of y){const k=this.svgFactory.createElement("svg:stop");k.setAttributeNS(null,"offset",v[0]),k.setAttributeNS(null,"stop-color",v[1]),A.appendChild(k)}return this.defs.appendChild(A),`url(#${r})`;case"Mesh":return(0,f.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${t[0]}`)}}setDash(t,r){this.current.dashArray=t,this.current.dashPhase=r}constructPath(t,r){const y=this.current;let A=y.x,v=y.y,k=[],R=0;for(const F of t)switch(0|F){case f.OPS.rectangle:A=r[R++],v=r[R++];const Z=A+r[R++],te=v+r[R++];k.push("M",s(A),s(v),"L",s(Z),s(v),"L",s(Z),s(te),"L",s(A),s(te),"Z");break;case f.OPS.moveTo:A=r[R++],v=r[R++],k.push("M",s(A),s(v));break;case f.OPS.lineTo:A=r[R++],v=r[R++],k.push("L",s(A),s(v));break;case f.OPS.curveTo:A=r[R+4],v=r[R+5],k.push("C",s(r[R]),s(r[R+1]),s(r[R+2]),s(r[R+3]),s(A),s(v)),R+=6;break;case f.OPS.curveTo2:k.push("C",s(A),s(v),s(r[R]),s(r[R+1]),s(r[R+2]),s(r[R+3])),A=r[R+2],v=r[R+3],R+=4;break;case f.OPS.curveTo3:A=r[R+2],v=r[R+3],k.push("C",s(r[R]),s(r[R+1]),s(A),s(v),s(A),s(v)),R+=4;break;case f.OPS.closePath:k.push("Z")}k=k.join(" "),y.path&&t.length>0&&t[0]!==f.OPS.rectangle&&t[0]!==f.OPS.moveTo?k=y.path.getAttributeNS(null,"d")+k:(y.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(y.path)),y.path.setAttributeNS(null,"d",k),y.path.setAttributeNS(null,"fill","none"),y.element=y.path,y.setCurrentPoint(A,v)}endPath(){const t=this.current;if(t.path=null,!this.pendingClip)return;if(!t.element)return void(this.pendingClip=null);const r="clippath"+x++,y=this.svgFactory.createElement("svg:clipPath");y.setAttributeNS(null,"id",r),y.setAttributeNS(null,"transform",u(this.transformMatrix));const A=t.element.cloneNode(!0);if(A.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,y.appendChild(A),this.defs.appendChild(y),t.activeClipUrl){t.clipGroup=null;for(const v of this.extraStack)v.clipGroup=null;y.setAttributeNS(null,"clip-path",t.activeClipUrl)}t.activeClipUrl=`url(#${r})`,this.tgrp=null}clip(t){this.pendingClip=t}closePath(){const t=this.current;if(t.path){const r=`${t.path.getAttributeNS(null,"d")}Z`;t.path.setAttributeNS(null,"d",r)}}setLeading(t){this.current.leading=-t}setTextRise(t){this.current.textRise=t}setTextRenderingMode(t){this.current.textRenderingMode=t}setHScale(t){this.current.textHScale=t/100}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[r,y]of t)switch(r){case"LW":this.setLineWidth(y);break;case"LC":this.setLineCap(y);break;case"LJ":this.setLineJoin(y);break;case"ML":this.setMiterLimit(y);break;case"D":this.setDash(y[0],y[1]);break;case"RI":this.setRenderingIntent(y);break;case"FL":this.setFlatness(y);break;case"Font":this.setFont(y);break;case"CA":this.setStrokeAlpha(y);break;case"ca":this.setFillAlpha(y);break;default:(0,f.warn)(`Unimplemented graphic state operator ${r}`)}}fill(){const t=this.current;t.element&&(t.element.setAttributeNS(null,"fill",t.fillColor),t.element.setAttributeNS(null,"fill-opacity",t.fillAlpha),this.endPath())}stroke(){const t=this.current;t.element&&(this._setStrokeAttributes(t.element),t.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(t,r=1){const y=this.current;let A=y.dashArray;1!==r&&A.length>0&&(A=A.map(function(v){return r*v})),t.setAttributeNS(null,"stroke",y.strokeColor),t.setAttributeNS(null,"stroke-opacity",y.strokeAlpha),t.setAttributeNS(null,"stroke-miterlimit",s(y.miterLimit)),t.setAttributeNS(null,"stroke-linecap",y.lineCap),t.setAttributeNS(null,"stroke-linejoin",y.lineJoin),t.setAttributeNS(null,"stroke-width",s(r*y.lineWidth)+"px"),t.setAttributeNS(null,"stroke-dasharray",A.map(s).join(" ")),t.setAttributeNS(null,"stroke-dashoffset",s(r*y.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const t=this.svgFactory.createElement("svg:rect");t.setAttributeNS(null,"x","0"),t.setAttributeNS(null,"y","0"),t.setAttributeNS(null,"width","1px"),t.setAttributeNS(null,"height","1px"),t.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(t)}paintImageXObject(t){const r=t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t);r?this.paintInlineImageXObject(r):(0,f.warn)(`Dependent image with object ID ${t} is not ready yet`)}paintInlineImageXObject(t,r){const y=t.width,A=t.height,v=a(t,this.forceDataSchema,!!r),k=this.svgFactory.createElement("svg:rect");k.setAttributeNS(null,"x","0"),k.setAttributeNS(null,"y","0"),k.setAttributeNS(null,"width",s(y)),k.setAttributeNS(null,"height",s(A)),this.current.element=k,this.clip("nonzero");const R=this.svgFactory.createElement("svg:image");R.setAttributeNS(h,"xlink:href",v),R.setAttributeNS(null,"x","0"),R.setAttributeNS(null,"y",s(-A)),R.setAttributeNS(null,"width",s(y)+"px"),R.setAttributeNS(null,"height",s(A)+"px"),R.setAttributeNS(null,"transform",`scale(${s(1/y)} ${s(-1/A)})`),r?r.appendChild(R):this._ensureTransformGroup().appendChild(R)}paintImageMaskXObject(t){const r=this.current,y=t.width,A=t.height,v=r.fillColor;r.maskId="mask"+_++;const k=this.svgFactory.createElement("svg:mask");k.setAttributeNS(null,"id",r.maskId);const R=this.svgFactory.createElement("svg:rect");R.setAttributeNS(null,"x","0"),R.setAttributeNS(null,"y","0"),R.setAttributeNS(null,"width",s(y)),R.setAttributeNS(null,"height",s(A)),R.setAttributeNS(null,"fill",v),R.setAttributeNS(null,"mask",`url(#${r.maskId})`),this.defs.appendChild(k),this._ensureTransformGroup().appendChild(R),this.paintInlineImageXObject(t,k)}paintFormXObjectBegin(t,r){if(Array.isArray(t)&&6===t.length&&this.transform(t[0],t[1],t[2],t[3],t[4],t[5]),r){const y=r[2]-r[0],A=r[3]-r[1],v=this.svgFactory.createElement("svg:rect");v.setAttributeNS(null,"x",r[0]),v.setAttributeNS(null,"y",r[1]),v.setAttributeNS(null,"width",s(y)),v.setAttributeNS(null,"height",s(A)),this.current.element=v,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(t){const r=this.svgFactory.create(t.width,t.height),y=this.svgFactory.createElement("svg:defs");r.appendChild(y),this.defs=y;const A=this.svgFactory.createElement("svg:g");return A.setAttributeNS(null,"transform",u(t.transform)),r.appendChild(A),this.svg=A,r}_ensureClipGroup(){if(!this.current.clipGroup){const t=this.svgFactory.createElement("svg:g");t.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(t),this.current.clipGroup=t}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",u(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(_e,L,ne)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.PDFNodeStream=void 0;var f=ne(1),ue=ne(26);const se=__webpack_require__(172),K=__webpack_require__(2001),n=__webpack_require__(3779),I=__webpack_require__(6558),h=/^file:\/\/\/[a-zA-Z]:\//;L.PDFNodeStream=class m{constructor(g){this.source=g,this.url=function C(_){const g=I.parse(_);return"file:"===g.protocol||g.host?g:/^[a-z]:[/\\]/i.test(_)?I.parse(`file:///${_}`):(g.host||(g.protocol="file:"),g)}(g.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&g.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,f.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new u(this):new i(this),this._fullRequestReader}getRangeReader(g,t){if(t<=this._progressiveDataLength)return null;const r=this.isFsUrl?new x(this,g,t):new s(this,g,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(g){this._fullRequestReader&&this._fullRequestReader.cancel(g);for(const t of this._rangeRequestReaders.slice(0))t.cancel(g)}};class p{constructor(g){this._url=g.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=g.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=(0,f.createPromiseCapability)(),this._headersCapability=(0,f.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var g=this;return _asyncToGenerator(function*(){if(yield g._readCapability.promise,g._done)return{value:void 0,done:!0};if(g._storedError)throw g._storedError;const t=g._readableStream.read();return null===t?(g._readCapability=(0,f.createPromiseCapability)(),g.read()):(g._loaded+=t.length,g.onProgress&&g.onProgress({loaded:g._loaded,total:g._contentLength}),{value:new Uint8Array(t).buffer,done:!1})})()}cancel(g){this._readableStream?this._readableStream.destroy(g):this._error(g)}_error(g){this._storedError=g,this._readCapability.resolve()}_setReadableStream(g){this._readableStream=g,g.on("readable",()=>{this._readCapability.resolve()}),g.on("end",()=>{g.destroy(),this._done=!0,this._readCapability.resolve()}),g.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new f.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class a{constructor(g){this._url=g.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,f.createPromiseCapability)(),this._isStreamingSupported=!g.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var g=this;return _asyncToGenerator(function*(){if(yield g._readCapability.promise,g._done)return{value:void 0,done:!0};if(g._storedError)throw g._storedError;const t=g._readableStream.read();return null===t?(g._readCapability=(0,f.createPromiseCapability)(),g.read()):(g._loaded+=t.length,g.onProgress&&g.onProgress({loaded:g._loaded}),{value:new Uint8Array(t).buffer,done:!1})})()}cancel(g){this._readableStream?this._readableStream.destroy(g):this._error(g)}_error(g){this._storedError=g,this._readCapability.resolve()}_setReadableStream(g){this._readableStream=g,g.on("readable",()=>{this._readCapability.resolve()}),g.on("end",()=>{g.destroy(),this._done=!0,this._readCapability.resolve()}),g.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function b(_,g){return{protocol:_.protocol,auth:_.auth,host:_.hostname,port:_.port,path:_.path,method:"GET",headers:g}}class i extends p{constructor(g){super(g);const t=r=>{if(404===r.statusCode){const k=new f.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=k,void this._headersCapability.reject(k)}this._headersCapability.resolve(),this._setReadableStream(r);const y=k=>this._readableStream.headers[k.toLowerCase()],{allowRangeRequests:A,suggestedLength:v}=(0,ue.validateRangeRequestCapabilities)({getResponseHeader:y,isHttp:g.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=A,this._contentLength=v||this._contentLength,this._filename=(0,ue.extractFilenameFromHeader)(y)};this._request=null,this._request="http:"===this._url.protocol?K.request(b(this._url,g.httpHeaders),t):n.request(b(this._url,g.httpHeaders),t),this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class s extends a{constructor(g,t,r){super(g),this._httpHeaders={};for(const A in g.httpHeaders){const v=g.httpHeaders[A];typeof v>"u"||(this._httpHeaders[A]=v)}this._httpHeaders.Range=`bytes=${t}-${r-1}`;const y=A=>{if(404!==A.statusCode)this._setReadableStream(A);else{const v=new f.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=v}};this._request=null,this._request="http:"===this._url.protocol?K.request(b(this._url,this._httpHeaders),y):n.request(b(this._url,this._httpHeaders),y),this._request.on("error",A=>{this._storedError=A}),this._request.end()}}class u extends p{constructor(g){super(g);let t=decodeURIComponent(this._url.path);h.test(this._url.href)&&(t=t.replace(/^\//,"")),se.lstat(t,(r,y)=>{if(r)return"ENOENT"===r.code&&(r=new f.MissingPDFException(`Missing PDF "${t}".`)),this._storedError=r,void this._headersCapability.reject(r);this._contentLength=y.size,this._setReadableStream(se.createReadStream(t)),this._headersCapability.resolve()})}}class x extends a{constructor(g,t,r){super(g);let y=decodeURIComponent(this._url.path);h.test(this._url.href)&&(y=y.replace(/^\//,"")),this._setReadableStream(se.createReadStream(y,{start:t,end:r-1}))}}},(_e,L,ne)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.createResponseStatusError=function I(C,m){return 404===C||0===C&&m.startsWith("file:")?new f.MissingPDFException('Missing PDF "'+m+'".'):new f.UnexpectedResponseException(`Unexpected server response (${C}) while retrieving PDF "${m}".`,C)},L.extractFilenameFromHeader=function n(C){const m=C("Content-Disposition");if(m){let p=(0,ue.getFilenameFromContentDispositionHeader)(m);if(p.includes("%"))try{p=decodeURIComponent(p)}catch{}if((0,se.isPdfFile)(p))return p}return null},L.validateRangeRequestCapabilities=function K({getResponseHeader:C,isHttp:m,rangeChunkSize:p,disableRange:a}){const b={allowRangeRequests:!1,suggestedLength:void 0},i=parseInt(C("Content-Length"),10);return!Number.isInteger(i)||(b.suggestedLength=i,i<=2*p)||a||!m||"bytes"!==C("Accept-Ranges")||"identity"!==(C("Content-Encoding")||"identity")||(b.allowRangeRequests=!0),b},L.validateResponseStatus=function h(C){return 200===C||206===C};var f=ne(1),ue=ne(27),se=ne(5)},(_e,L,ne)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.getFilenameFromContentDispositionHeader=function ue(se){let K=!0,n=I("filename\\*","i").exec(se);if(n){n=n[1];let i=p(n);return i=unescape(i),i=a(i),i=b(i),C(i)}if(n=function m(i){const s=[];let u;const x=I("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(u=x.exec(i));){let[,g,t,r]=u;if(g=parseInt(g,10),g in s){if(0===g)break}else s[g]=[t,r]}const _=[];for(let g=0;g<s.length&&g in s;++g){let[t,r]=s[g];r=p(r),t&&(r=unescape(r),0===g&&(r=a(r))),_.push(r)}return _.join("")}(se),n)return C(b(n));if(n=I("filename","i").exec(se),n){n=n[1];let i=p(n);return i=b(i),C(i)}function I(i,s){return new RegExp("(?:^|;)\\s*"+i+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',s)}function h(i,s){if(i){if(!/^[\x00-\xFF]+$/.test(s))return s;try{const u=new TextDecoder(i,{fatal:!0}),x=(0,f.stringToBytes)(s);s=u.decode(x),K=!1}catch{}}return s}function C(i){return K&&/[\x80-\xff]/.test(i)&&(i=h("utf-8",i),K&&(i=h("iso-8859-1",i))),i}function p(i){if(i.startsWith('"')){const s=i.slice(1).split('\\"');for(let u=0;u<s.length;++u){const x=s[u].indexOf('"');-1!==x&&(s[u]=s[u].slice(0,x),s.length=u+1),s[u]=s[u].replace(/\\(.)/g,"$1")}i=s.join('"')}return i}function a(i){const s=i.indexOf("'");return-1===s?i:h(i.slice(0,s),i.slice(s+1).replace(/^[^']*'/,""))}function b(i){return!i.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(i)?i:i.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(s,u,x,_){if("q"===x||"Q"===x)return h(u,_=(_=_.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(g,t){return String.fromCharCode(parseInt(t,16))}));try{_=atob(_)}catch{}return h(u,_)})}return""};var f=ne(1)},(_e,L,ne)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.PDFNetworkStream=void 0;var f=ne(1),ue=ne(26);class I{constructor(a,b={}){this.url=a,this.isHttp=/^https?:/i.test(a),this.httpHeaders=this.isHttp&&b.httpHeaders||Object.create(null),this.withCredentials=b.withCredentials||!1,this.getXhr=b.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(a,b,i){const s={begin:a,end:b};for(const u in i)s[u]=i[u];return this.request(s)}requestFull(a){return this.request(a)}request(a){const b=this.getXhr(),i=this.currXhrId++,s=this.pendingRequests[i]={xhr:b};b.open("GET",this.url),b.withCredentials=this.withCredentials;for(const u in this.httpHeaders){const x=this.httpHeaders[u];typeof x>"u"||b.setRequestHeader(u,x)}return this.isHttp&&"begin"in a&&"end"in a?(b.setRequestHeader("Range",`bytes=${a.begin}-${a.end-1}`),s.expectedStatus=206):s.expectedStatus=200,b.responseType="arraybuffer",a.onError&&(b.onerror=function(u){a.onError(b.status)}),b.onreadystatechange=this.onStateChange.bind(this,i),b.onprogress=this.onProgress.bind(this,i),s.onHeadersReceived=a.onHeadersReceived,s.onDone=a.onDone,s.onError=a.onError,s.onProgress=a.onProgress,b.send(null),i}onProgress(a,b){const i=this.pendingRequests[a];!i||i.onProgress?.(b)}onStateChange(a,b){const i=this.pendingRequests[a];if(!i)return;const s=i.xhr;if(s.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),4!==s.readyState||!(a in this.pendingRequests))return;if(delete this.pendingRequests[a],0===s.status&&this.isHttp)return void i.onError?.(s.status);const u=s.status||200;if((200!==u||206!==i.expectedStatus)&&u!==i.expectedStatus)return void i.onError?.(s.status);const _=function n(p){const a=p.response;return"string"!=typeof a?a:(0,f.stringToBytes)(a).buffer}(s);if(206===u){const g=s.getResponseHeader("Content-Range"),t=/bytes (\d+)-(\d+)\/(\d+)/.exec(g);i.onDone({begin:parseInt(t[1],10),chunk:_})}else _?i.onDone({begin:0,chunk:_}):i.onError?.(s.status)}getRequestXhr(a){return this.pendingRequests[a].xhr}isPendingRequest(a){return a in this.pendingRequests}abortRequest(a){const b=this.pendingRequests[a].xhr;delete this.pendingRequests[a],b.abort()}}L.PDFNetworkStream=class h{constructor(a){this._source=a,this._manager=new I(a.url,{httpHeaders:a.httpHeaders,withCredentials:a.withCredentials}),this._rangeChunkSize=a.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(a){const b=this._rangeRequestReaders.indexOf(a);b>=0&&this._rangeRequestReaders.splice(b,1)}getFullReader(){return(0,f.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new C(this._manager,this._source),this._fullRequestReader}getRangeReader(a,b){const i=new m(this._manager,a,b);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(a){this._fullRequestReader?.cancel(a);for(const b of this._rangeRequestReaders.slice(0))b.cancel(a)}};class C{constructor(a,b){this._manager=a;const i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=b.url,this._fullRequestId=a.requestFull(i),this._headersReceivedCapability=(0,f.createPromiseCapability)(),this._disableRange=b.disableRange||!1,this._contentLength=b.length,this._rangeChunkSize=b.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const a=this._fullRequestId,b=this._manager.getRequestXhr(a),i=x=>b.getResponseHeader(x),{allowRangeRequests:s,suggestedLength:u}=(0,ue.validateRangeRequestCapabilities)({getResponseHeader:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=u||this._contentLength,this._filename=(0,ue.extractFilenameFromHeader)(i),this._isRangeSupported&&this._manager.abortRequest(a),this._headersReceivedCapability.resolve()}_onDone(a){if(a&&(this._requests.length>0?this._requests.shift().resolve({value:a.chunk,done:!1}):this._cachedChunks.push(a.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const b of this._requests)b.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(a){this._storedError=(0,ue.createResponseStatusError)(a,this._url),this._headersReceivedCapability.reject(this._storedError);for(const b of this._requests)b.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(a){this.onProgress?.({loaded:a.loaded,total:a.lengthComputable?a.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var a=this;return _asyncToGenerator(function*(){if(a._storedError)throw a._storedError;if(a._cachedChunks.length>0)return{value:a._cachedChunks.shift(),done:!1};if(a._done)return{value:void 0,done:!0};const b=(0,f.createPromiseCapability)();return a._requests.push(b),b.promise})()}cancel(a){this._done=!0,this._headersReceivedCapability.reject(a);for(const b of this._requests)b.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class m{constructor(a,b,i){this._manager=a;const s={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=a.url,this._requestId=a.requestRange(b,i,s),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(a){const b=a.chunk;this._requests.length>0?this._requests.shift().resolve({value:b,done:!1}):this._queuedChunk=b,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(a){this._storedError=(0,ue.createResponseStatusError)(a,this._url);for(const b of this._requests)b.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(a){this.isStreamingSupported||this.onProgress?.({loaded:a.loaded})}get isStreamingSupported(){return!1}read(){var a=this;return _asyncToGenerator(function*(){if(a._storedError)throw a._storedError;if(null!==a._queuedChunk){const i=a._queuedChunk;return a._queuedChunk=null,{value:i,done:!1}}if(a._done)return{value:void 0,done:!0};const b=(0,f.createPromiseCapability)();return a._requests.push(b),b.promise})()}cancel(a){this._done=!0;for(const b of this._requests)b.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(_e,L,ne)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.PDFFetchStream=void 0;var f=ne(1),ue=ne(26);function se(C,m,p){return{method:"GET",headers:C,signal:p?.signal,mode:"cors",credentials:m?"include":"same-origin",redirect:"follow"}}function K(C){const m=new Headers;for(const p in C){const a=C[p];typeof a>"u"||m.append(p,a)}return m}L.PDFFetchStream=class n{constructor(m){this.source=m,this.isHttp=/^https?:/i.test(m.url),this.httpHeaders=this.isHttp&&m.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,f.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new I(this),this._fullRequestReader}getRangeReader(m,p){if(p<=this._progressiveDataLength)return null;const a=new h(this,m,p);return this._rangeRequestReaders.push(a),a}cancelAllRequests(m){this._fullRequestReader&&this._fullRequestReader.cancel(m);for(const p of this._rangeRequestReaders.slice(0))p.cancel(m)}};class I{constructor(m){this._stream=m,this._reader=null,this._loaded=0,this._filename=null;const p=m.source;this._withCredentials=p.withCredentials||!1,this._contentLength=p.length,this._headersCapability=(0,f.createPromiseCapability)(),this._disableRange=p.disableRange||!1,this._rangeChunkSize=p.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController<"u"&&(this._abortController=new AbortController),this._isStreamingSupported=!p.disableStream,this._isRangeSupported=!p.disableRange,this._headers=K(this._stream.httpHeaders);const a=p.url;fetch(a,se(this._headers,this._withCredentials,this._abortController)).then(b=>{if(!(0,ue.validateResponseStatus)(b.status))throw(0,ue.createResponseStatusError)(b.status,a);this._reader=b.body.getReader(),this._headersCapability.resolve();const i=x=>b.headers.get(x),{allowRangeRequests:s,suggestedLength:u}=(0,ue.validateRangeRequestCapabilities)({getResponseHeader:i,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=u||this._contentLength,this._filename=(0,ue.extractFilenameFromHeader)(i),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new f.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var m=this;return _asyncToGenerator(function*(){yield m._headersCapability.promise;const{value:p,done:a}=yield m._reader.read();return a?{value:p,done:a}:(m._loaded+=p.byteLength,m.onProgress&&m.onProgress({loaded:m._loaded,total:m._contentLength}),{value:new Uint8Array(p).buffer,done:!1})})()}cancel(m){this._reader&&this._reader.cancel(m),this._abortController&&this._abortController.abort()}}class h{constructor(m,p,a){this._stream=m,this._reader=null,this._loaded=0;const b=m.source;this._withCredentials=b.withCredentials||!1,this._readCapability=(0,f.createPromiseCapability)(),this._isStreamingSupported=!b.disableStream,typeof AbortController<"u"&&(this._abortController=new AbortController),this._headers=K(this._stream.httpHeaders),this._headers.append("Range",`bytes=${p}-${a-1}`);const i=b.url;fetch(i,se(this._headers,this._withCredentials,this._abortController)).then(s=>{if(!(0,ue.validateResponseStatus)(s.status))throw(0,ue.createResponseStatusError)(s.status,i);this._readCapability.resolve(),this._reader=s.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var m=this;return _asyncToGenerator(function*(){yield m._readCapability.promise;const{value:p,done:a}=yield m._reader.read();return a?{value:p,done:a}:(m._loaded+=p.byteLength,m.onProgress&&m.onProgress({loaded:m._loaded}),{value:new Uint8Array(p).buffer,done:!1})})()}cancel(m){this._reader&&this._reader.cancel(m),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(_e){var L=__webpack_module_cache__[_e];if(void 0!==L)return L.exports;var ne=__webpack_module_cache__[_e]={exports:{}};return __webpack_modules__[_e](ne,ne.exports,__w_pdfjs_require__),ne.exports}var __webpack_exports__={};return(()=>{var _e=__webpack_exports__;Object.defineProperty(_e,"__esModule",{value:!0}),Object.defineProperty(_e,"AnnotationLayer",{enumerable:!0,get:function(){return ue.AnnotationLayer}}),Object.defineProperty(_e,"AnnotationMode",{enumerable:!0,get:function(){return L.AnnotationMode}}),Object.defineProperty(_e,"CMapCompressionType",{enumerable:!0,get:function(){return L.CMapCompressionType}}),Object.defineProperty(_e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return se.GlobalWorkerOptions}}),Object.defineProperty(_e,"InvalidPDFException",{enumerable:!0,get:function(){return L.InvalidPDFException}}),Object.defineProperty(_e,"LoopbackPort",{enumerable:!0,get:function(){return ne.LoopbackPort}}),Object.defineProperty(_e,"MissingPDFException",{enumerable:!0,get:function(){return L.MissingPDFException}}),Object.defineProperty(_e,"OPS",{enumerable:!0,get:function(){return L.OPS}}),Object.defineProperty(_e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return ne.PDFDataRangeTransport}}),Object.defineProperty(_e,"PDFDateString",{enumerable:!0,get:function(){return f.PDFDateString}}),Object.defineProperty(_e,"PDFWorker",{enumerable:!0,get:function(){return ne.PDFWorker}}),Object.defineProperty(_e,"PasswordResponses",{enumerable:!0,get:function(){return L.PasswordResponses}}),Object.defineProperty(_e,"PermissionFlag",{enumerable:!0,get:function(){return L.PermissionFlag}}),Object.defineProperty(_e,"PixelsPerInch",{enumerable:!0,get:function(){return f.PixelsPerInch}}),Object.defineProperty(_e,"RenderingCancelledException",{enumerable:!0,get:function(){return f.RenderingCancelledException}}),Object.defineProperty(_e,"SVGGraphics",{enumerable:!0,get:function(){return I.SVGGraphics}}),Object.defineProperty(_e,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return L.UNSUPPORTED_FEATURES}}),Object.defineProperty(_e,"UnexpectedResponseException",{enumerable:!0,get:function(){return L.UnexpectedResponseException}}),Object.defineProperty(_e,"Util",{enumerable:!0,get:function(){return L.Util}}),Object.defineProperty(_e,"VerbosityLevel",{enumerable:!0,get:function(){return L.VerbosityLevel}}),Object.defineProperty(_e,"XfaLayer",{enumerable:!0,get:function(){return h.XfaLayer}}),Object.defineProperty(_e,"build",{enumerable:!0,get:function(){return ne.build}}),Object.defineProperty(_e,"createPromiseCapability",{enumerable:!0,get:function(){return L.createPromiseCapability}}),Object.defineProperty(_e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return L.createValidAbsoluteUrl}}),Object.defineProperty(_e,"getDocument",{enumerable:!0,get:function(){return ne.getDocument}}),Object.defineProperty(_e,"getFilenameFromUrl",{enumerable:!0,get:function(){return f.getFilenameFromUrl}}),Object.defineProperty(_e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return f.getPdfFilenameFromUrl}}),Object.defineProperty(_e,"getXfaPageViewport",{enumerable:!0,get:function(){return f.getXfaPageViewport}}),Object.defineProperty(_e,"isPdfFile",{enumerable:!0,get:function(){return f.isPdfFile}}),Object.defineProperty(_e,"loadScript",{enumerable:!0,get:function(){return f.loadScript}}),Object.defineProperty(_e,"renderTextLayer",{enumerable:!0,get:function(){return n.renderTextLayer}}),Object.defineProperty(_e,"shadow",{enumerable:!0,get:function(){return L.shadow}}),Object.defineProperty(_e,"version",{enumerable:!0,get:function(){return ne.version}});var L=__w_pdfjs_require__(1),ne=__w_pdfjs_require__(4),f=__w_pdfjs_require__(5),ue=__w_pdfjs_require__(20),se=__w_pdfjs_require__(13),K=__w_pdfjs_require__(3),n=__w_pdfjs_require__(23),I=__w_pdfjs_require__(24),h=__w_pdfjs_require__(22);if(K.isNodeJS){const{PDFNodeStream:p}=__w_pdfjs_require__(25);(0,ne.setPDFNetworkStreamFactory)(a=>new p(a))}else{const{PDFNetworkStream:p}=__w_pdfjs_require__(28),{PDFFetchStream:a}=__w_pdfjs_require__(29);(0,ne.setPDFNetworkStreamFactory)(b=>(0,f.isValidFetchUrl)(b.url)?new a(b):new p(b))}})(),__webpack_exports__})(),module.exports=ne()},2813:function(_e,L,ne){var K,f=ne(7156).default;K=()=>(()=>{"use strict";var ue=[,(I,h,C)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.DefaultXfaLayerFactory=h.DefaultTextLayerFactory=h.DefaultStructTreeLayerFactory=h.DefaultAnnotationLayerFactory=void 0;var m=C(2),p=C(4),a=C(5),b=C(7),i=C(8),s=C(9);h.DefaultAnnotationLayerFactory=class u{createAnnotationLayerBuilder(r,y,A=null,v="",k=!0,R=p.NullL10n,F=!1,B=null,z=null,Z=null,te=null){return new m.AnnotationLayerBuilder({pageDiv:r,pdfPage:y,imageResourcesPath:v,renderForms:k,linkService:new a.SimpleLinkService,l10n:R,annotationStorage:A,enableScripting:F,hasJSActionsPromise:B,fieldObjectsPromise:Z,mouseState:z,annotationCanvasMap:te})}},h.DefaultStructTreeLayerFactory=class x{createStructTreeLayerBuilder(r){return new b.StructTreeLayerBuilder({pdfPage:r})}},h.DefaultTextLayerFactory=class _{createTextLayerBuilder(r,y,A,v=!1,k,R){return new i.TextLayerBuilder({textLayerDiv:r,pageIndex:y,viewport:A,enhanceTextSelection:v,eventBus:k,highlighter:R})}},h.DefaultXfaLayerFactory=class g{createXfaLayerBuilder(r,y,A=null,v=null){return new s.XfaLayerBuilder({pageDiv:r,pdfPage:y,annotationStorage:A,linkService:new a.SimpleLinkService,xfaHtml:v})}}},(I,h,C)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.AnnotationLayerBuilder=void 0;var m=C(3),p=C(4);h.AnnotationLayerBuilder=class a{constructor({pageDiv:i,pdfPage:s,linkService:u,downloadManager:x,annotationStorage:_=null,imageResourcesPath:g="",renderForms:t=!0,l10n:r=p.NullL10n,enableScripting:y=!1,hasJSActionsPromise:A=null,fieldObjectsPromise:v=null,mouseState:k=null,annotationCanvasMap:R=null}){this.pageDiv=i,this.pdfPage=s,this.linkService=u,this.downloadManager=x,this.imageResourcesPath=g,this.renderForms=t,this.l10n=r,this.annotationStorage=_,this.enableScripting=y,this._hasJSActionsPromise=A,this._fieldObjectsPromise=v,this._mouseState=k,this._annotationCanvasMap=R,this.div=null,this._cancelled=!1}render(i,s="display"){var u=this;return f(function*(){const[x,_=!1,g=null]=yield Promise.all([u.pdfPage.getAnnotations({intent:s}),u._hasJSActionsPromise,u._fieldObjectsPromise]);if(u._cancelled||0===x.length)return;const t={viewport:i.clone({dontFlip:!0}),div:u.div,annotations:x,page:u.pdfPage,imageResourcesPath:u.imageResourcesPath,renderForms:u.renderForms,linkService:u.linkService,downloadManager:u.downloadManager,annotationStorage:u.annotationStorage,enableScripting:u.enableScripting,hasJSActions:_,fieldObjects:g,mouseState:u._mouseState,annotationCanvasMap:u._annotationCanvasMap};u.div?m.AnnotationLayer.update(t):(u.div=document.createElement("div"),u.div.className="annotationLayer",u.pageDiv.appendChild(u.div),t.div=u.div,m.AnnotationLayer.render(t),u.l10n.translate(u.div))})()}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},I=>{let h;h=typeof window<"u"&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:ne(6036),I.exports=h},(I,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.NullL10n=void 0,h.fixupLangCode=function a(s){return p[s?.toLowerCase()]||s},h.getL10nFallback=m;const C={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function m(s,u){switch(s){case"find_match_count":s=`find_match_count[${1===u.total?"one":"other"}]`;break;case"find_match_count_limit":s=`find_match_count_limit[${1===u.limit?"one":"other"}]`}return C[s]||""}const p={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};h.NullL10n={getLanguage:()=>f(function*(){return"en-us"})(),getDirection:()=>f(function*(){return"ltr"})(),get:(s,u=null,x=m(s,u))=>f(function*(){return function b(s,u){return u?s.replace(/\{\{\s*(\w+)\s*\}\}/g,(x,_)=>_ in u?u[_]:"{{"+_+"}}"):s}(x,u)})(),translate:s=>f(function*(){})()}},(I,h,C)=>{var u,x,Je,g,ct;Object.defineProperty(h,"__esModule",{value:!0}),h.SimpleLinkService=h.PDFLinkService=h.LinkTarget=void 0;var m=C(6);const a={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function b(y,{url:A,target:v,rel:k,enabled:R=!0}={}){if(!A||"string"!=typeof A)throw new Error('A valid "url" parameter must provided.');const F=(0,m.removeNullCharacters)(A);R?y.href=y.title=F:(y.href="",y.title=`Disabled: ${F}`,y.onclick=()=>!1);let B="";switch(v){case a.NONE:break;case a.SELF:B="_self";break;case a.BLANK:B="_blank";break;case a.PARENT:B="_parent";break;case a.TOP:B="_top"}y.target=B,y.rel="string"==typeof k?k:"noopener noreferrer nofollow"}h.LinkTarget=a;const r=class{constructor({eventBus:A,externalLinkTarget:v=null,externalLinkRel:k=null,ignoreDestinationZoom:R=!1}={}){Ee(this,x),Ee(this,u,new Map),this.eventBus=A,this.externalLinkTarget=v,this.externalLinkRel=k,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=R,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(A,v=null){this.baseUrl=v,this.pdfDocument=A,Pe(this,u).clear()}setViewer(A){this.pdfViewer=A}setHistory(A){this.pdfHistory=A}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(A){this.pdfViewer.currentPageNumber=A}get rotation(){return this.pdfViewer.pagesRotation}set rotation(A){this.pdfViewer.pagesRotation=A}goToDestination(A){var v=this;return f(function*(){var F;if(!v.pdfDocument)return;let k,R;"string"==typeof A?(k=A,R=yield v.pdfDocument.getDestination(A)):(k=null,R=yield A),Array.isArray(R)?xe(F=v,x,Je).call(F,A,k,R):console.error(`PDFLinkService.goToDestination: "${R}" is not a valid destination array, for dest="${A}".`)})()}goToPage(A){if(!this.pdfDocument)return;const v="string"==typeof A&&this.pdfViewer.pageLabelToPageNumber(A)||0|A;Number.isInteger(v)&&v>0&&v<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(v)),this.pdfViewer.scrollPageIntoView({pageNumber:v})):console.error(`PDFLinkService.goToPage: "${A}" is not a valid page.`)}addLinkAttributes(A,v,k=!1){b(A,{url:v,target:k?a.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(A){if("string"==typeof A){if(A.length>0)return this.getAnchorUrl("#"+escape(A))}else if(Array.isArray(A)){const v=JSON.stringify(A);if(v.length>0)return this.getAnchorUrl("#"+escape(v))}return this.getAnchorUrl("")}getAnchorUrl(A){return(this.baseUrl||"")+A}setHash(A){var R;if(!this.pdfDocument)return;let v,k;if(A.includes("=")){const F=(0,m.parseQueryString)(A);if(F.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:F.get("search").replace(/"/g,""),phraseSearch:"true"===F.get("phrase")}),F.has("page")&&(v=0|F.get("page")||1),F.has("zoom")){const B=F.get("zoom").split(","),z=B[0],Z=parseFloat(z);z.includes("Fit")?"Fit"===z||"FitB"===z?k=[null,{name:z}]:"FitH"===z||"FitBH"===z||"FitV"===z||"FitBV"===z?k=[null,{name:z},B.length>1?0|B[1]:null]:"FitR"===z?5!==B.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):k=[null,{name:z},0|B[1],0|B[2],0|B[3],0|B[4]]:console.error(`PDFLinkService.setHash: "${z}" is not a valid zoom value.`):k=[null,{name:"XYZ"},B.length>1?0|B[1]:null,B.length>2?0|B[2]:null,Z?Z/100:z]}k?this.pdfViewer.scrollPageIntoView({pageNumber:v||this.page,destArray:k,allowNegativeOffset:!0}):v&&(this.page=v),F.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:F.get("pagemode")}),F.has("nameddest")&&this.goToDestination(F.get("nameddest"))}else{k=unescape(A);try{k=JSON.parse(k),Array.isArray(k)||(k=k.toString())}catch{}if("string"==typeof k||xe(R=r,g,ct).call(R,k))return void this.goToDestination(k);console.error(`PDFLinkService.setHash: "${unescape(A)}" is not a valid destination.`)}}executeNamedAction(A){switch(A){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:A})}cachePageRef(A,v){if(!v)return;const k=0===v.gen?`${v.num}R`:`${v.num}R${v.gen}`;Pe(this,u).set(k,A)}_cachedPageNumber(A){if(!A)return null;const v=0===A.gen?`${A.num}R`:`${A.num}R${A.gen}`;return Pe(this,u).get(v)||null}isPageVisible(A){return this.pdfViewer.isPageVisible(A)}isPageCached(A){return this.pdfViewer.isPageCached(A)}};let i=r;u=new WeakMap,x=new WeakSet,Je=function(A,v=null,k){const R=k[0];let F;if("object"==typeof R&&null!==R){if(F=this._cachedPageNumber(R),!F)return void this.pdfDocument.getPageIndex(R).then(B=>{this.cachePageRef(B+1,R),xe(this,x,Je).call(this,A,v,k)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${R}" is not a valid page reference, for dest="${A}".`)})}else{if(!Number.isInteger(R))return void console.error(`PDFLinkService.#goToDestinationHelper: "${R}" is not a valid destination reference, for dest="${A}".`);F=R+1}!F||F<1||F>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${F}" is not a valid page number, for dest="${A}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:v,explicitDest:k,pageNumber:F})),this.pdfViewer.scrollPageIntoView({pageNumber:F,destArray:k,ignoreDestinationZoom:this._ignoreDestinationZoom}))},g=new WeakSet,ct=function(A){if(!Array.isArray(A))return!1;const v=A.length;if(v<2)return!1;const k=A[0];if(!("object"==typeof k&&Number.isInteger(k.num)&&Number.isInteger(k.gen)||Number.isInteger(k)&&k>=0))return!1;const R=A[1];if("object"!=typeof R||"string"!=typeof R.name)return!1;let F=!0;switch(R.name){case"XYZ":if(5!==v)return!1;break;case"Fit":case"FitB":return 2===v;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==v)return!1;break;case"FitR":if(6!==v)return!1;F=!1;break;default:return!1}for(let B=2;B<v;B++){const z=A[B];if(!("number"==typeof z||F&&null===z))return!1}return!0},Ee(i,g),h.PDFLinkService=i,h.SimpleLinkService=class s{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(A){}get rotation(){return 0}set rotation(A){}goToDestination(A){return f(function*(){})()}goToPage(A){}addLinkAttributes(A,v,k=!1){b(A,{url:v,enabled:this.externalLinkEnabled})}getDestinationHash(A){return"#"}getAnchorUrl(A){return"#"}setHash(A){}executeNamedAction(A){}cachePageRef(A,v){}isPageVisible(A){return!0}isPageCached(A){return!0}}},(I,h)=>{var fe,ht;Object.defineProperty(h,"__esModule",{value:!0}),h.animationStarted=h.VERTICAL_PADDING=h.UNKNOWN_SCALE=h.TextLayerMode=h.SpreadMode=h.SidebarView=h.ScrollMode=h.SCROLLBAR_PADDING=h.RenderingStates=h.RendererType=h.ProgressBar=h.PresentationModeState=h.OutputScale=h.MIN_SCALE=h.MAX_SCALE=h.MAX_AUTO_SCALE=h.DEFAULT_SCALE_VALUE=h.DEFAULT_SCALE_DELTA=h.DEFAULT_SCALE=h.AutoPrintRegExp=void 0,h.apiPageLayoutToViewerModes=function Q(J){let oe=A.VERTICAL,ae=v.NONE;switch(J){case"SinglePage":oe=A.PAGE;break;case"OneColumn":break;case"TwoPageLeft":oe=A.PAGE;case"TwoColumnLeft":ae=v.ODD;break;case"TwoPageRight":oe=A.PAGE;case"TwoColumnRight":ae=v.EVEN}return{scrollMode:oe,spreadMode:ae}},h.apiPageModeToSidebarView=function ee(J){switch(J){case"UseNone":return t.NONE;case"UseThumbs":return t.THUMBS;case"UseOutlines":return t.OUTLINE;case"UseAttachments":return t.ATTACHMENTS;case"UseOC":return t.LAYERS}return t.NONE},h.approximateFraction=function $(J){if(Math.floor(J)===J)return[J,1];const oe=1/J;if(oe>8)return[1,8];if(Math.floor(oe)===oe)return[1,oe];const S=J>1?oe:J;let ge,N=0,X=1,Ae=1,me=1;for(;;){const Se=N+Ae,ve=X+me;if(ve>8)break;S<=Se/ve?(Ae=Se,me=ve):(N=Se,X=ve)}return ge=S-N/X<Ae/me-S?S===J?[N,X]:[X,N]:S===J?[Ae,me]:[me,Ae],ge},h.backtrackBeforeAllVisibleElements=T,h.binarySearchFirstItem=Y,h.getActiveOrFocusedElement=function H(){let J=document,oe=J.activeElement||J.querySelector(":focus");for(;oe?.shadowRoot;)J=oe.shadowRoot,oe=J.activeElement||J.querySelector(":focus");return oe},h.getPageSizeInches=function le({view:J,userUnit:oe,rotate:ae}){const[S,N,X,Ae]=J,me=ae%180!=0,ge=(X-S)/72*oe,Se=(Ae-N)/72*oe;return{width:me?Se:ge,height:me?ge:Se}},h.getVisibleElements=function o({scrollEl:J,views:oe,sortByVisibility:ae=!1,horizontal:S=!1,rtl:N=!1}){const X=J.scrollTop,Ae=X+J.clientHeight,me=J.scrollLeft,ge=me+J.clientWidth,Te=[],Le=new Set,Re=oe.length;let ie=Y(oe,S?function ve(de){const be=de.div,ye=be.offsetLeft+be.clientLeft;return N?ye<ge:ye+be.clientWidth>me}:function Se(de){const be=de.div;return be.offsetTop+be.clientTop+be.clientHeight>X});ie>0&&ie<Re&&!S&&(ie=T(ie,oe,X));let O=S?ge:-1;for(let de=ie;de<Re;de++){const be=oe[de],ye=be.div,q=ye.offsetLeft+ye.clientLeft,pe=ye.offsetTop+ye.clientTop,M=ye.clientWidth,G=ye.clientHeight,he=q+M,we=pe+G;if(-1===O)we>=Ae&&(O=we);else if((S?q:pe)>O)break;if(we<=X||pe>=Ae||he<=me||q>=ge)continue;const Me=Math.max(0,X-pe)+Math.max(0,we-Ae),De=(M-(Math.max(0,me-q)+Math.max(0,he-ge)))/M;Te.push({id:be.id,x:q,y:pe,view:be,percent:(G-Me)/G*De*100|0,widthPercent:100*De|0}),Le.add(be.id)}const D=Te[0],ce=Te[Te.length-1];return ae&&Te.sort(function(de,be){const ye=de.percent-be.percent;return Math.abs(ye)>.001?-ye:de.id-be.id}),{first:D,last:ce,views:Te,ids:Le}},h.isPortraitOrientation=function E(J){return J.width<=J.height},h.isValidRotation=function d(J){return Number.isInteger(J)&&J%90==0},h.isValidScrollMode=function w(J){return Number.isInteger(J)&&Object.values(A).includes(J)&&J!==A.UNKNOWN},h.isValidSpreadMode=function P(J){return Number.isInteger(J)&&Object.values(v).includes(J)&&J!==v.UNKNOWN},h.noContextMenuHandler=function l(J){J.preventDefault()},h.normalizeWheelEventDelta=function c(J){let oe=e(J);return 0===J.deltaMode?oe/=900:1===J.deltaMode&&(oe/=30),oe},h.normalizeWheelEventDirection=e,h.parseQueryString=function z(J){const oe=new Map;for(const[ae,S]of new URLSearchParams(J))oe.set(ae.toLowerCase(),S);return oe},h.removeNullCharacters=function U(J,oe=!1){return"string"!=typeof J?(console.error("The argument must be a string."),J):(oe&&(J=J.replace(te," ")),J.replace(Z,""))},h.roundToDivide=function re(J,oe){const ae=J%oe;return 0===ae?J:Math.round(J-ae+oe)},h.scrollIntoView=function F(J,oe,ae=!1){let S=J.offsetParent;if(!S)return void console.error("offsetParent is not set -- cannot scroll");let N=J.offsetTop+J.clientTop,X=J.offsetLeft+J.clientLeft;for(;S.clientHeight===S.scrollHeight&&S.clientWidth===S.scrollWidth||ae&&(S.classList.contains("markedContent")||"hidden"===getComputedStyle(S).overflow);)if(N+=S.offsetTop,X+=S.offsetLeft,S=S.offsetParent,!S)return;oe&&(void 0!==oe.top&&(N+=oe.top),void 0!==oe.left&&(X+=oe.left,S.scrollLeft=X)),S.scrollTop=N},h.watchScroll=function B(J,oe){const ae=function(X){N||(N=window.requestAnimationFrame(function(){N=null;const me=J.scrollLeft,ge=S.lastX;me!==ge&&(S.right=me>ge),S.lastX=me;const Se=J.scrollTop,ve=S.lastY;Se!==ve&&(S.down=Se>ve),S.lastY=Se,oe(S)}))},S={right:!0,down:!0,lastX:J.scrollLeft,lastY:J.scrollTop,_eventHandler:ae};let N=null;return J.addEventListener("scroll",ae,!0),S},h.DEFAULT_SCALE_VALUE="auto",h.DEFAULT_SCALE=1,h.DEFAULT_SCALE_DELTA=1.1,h.MIN_SCALE=.1,h.MAX_SCALE=10,h.UNKNOWN_SCALE=0,h.MAX_AUTO_SCALE=1.25,h.SCROLLBAR_PADDING=40,h.VERTICAL_PADDING=5,h.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},h.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const t={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};h.SidebarView=t,h.RendererType={CANVAS:"canvas",SVG:"svg"},h.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const A={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};h.ScrollMode=A;const v={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};h.SpreadMode=v,h.AutoPrintRegExp=/\bprint\s*\(/,h.OutputScale=class R{constructor(){const oe=window.devicePixelRatio||1;this.sx=oe,this.sy=oe}get scaled(){return 1!==this.sx||1!==this.sy}};const Z=/\x00/g,te=/[\x01-\x1F]/g;function Y(J,oe,ae=0){let S=ae,N=J.length-1;if(N<0||!oe(J[N]))return J.length;if(oe(J[S]))return S;for(;S<N;){const X=S+N>>1;oe(J[X])?N=X:S=X+1}return S}function T(J,oe,ae){if(J<2)return J;let S=oe[J].div,N=S.offsetTop+S.clientTop;N>=ae&&(S=oe[J-1].div,N=S.offsetTop+S.clientTop);for(let X=J-2;X>=0&&(S=oe[X].div,!(S.offsetTop+S.clientTop+S.clientHeight<=N));--X)J=X;return J}function e(J){let oe=Math.hypot(J.deltaX,J.deltaY);const ae=Math.atan2(J.deltaY,J.deltaX);return-.25*Math.PI<ae&&ae<.75*Math.PI&&(oe=-oe),oe}const V=new Promise(function(J){window.requestAnimationFrame(J)});h.animationStarted=V,fe=new WeakSet,ht=function(){this._indeterminate?this.div.classList.add("indeterminate"):(this.div.classList.remove("indeterminate"),document.documentElement.style.setProperty("--progressBar-percent",`${this._percent}%`))},h.ProgressBar=class j{constructor(oe){if(Ee(this,fe),arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");this.visible=!0,this.div=document.querySelector(oe+" .progress"),this.bar=this.div.parentNode,this.percent=0}get percent(){return this._percent}set percent(oe){this._indeterminate=isNaN(oe),this._percent=function W(J,oe,ae){return Math.min(Math.max(J,oe),ae)}(oe,0,100),xe(this,fe,ht).call(this)}setWidth(oe){if(!oe)return;const S=oe.parentNode.offsetWidth-oe.offsetWidth;S>0&&document.documentElement.style.setProperty("--progressBar-end-offset",`${S}px`)}hide(){!this.visible||(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(I,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.StructTreeLayerBuilder=void 0;const C={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},m=/^H(\d+)$/;h.StructTreeLayerBuilder=class p{constructor({pdfPage:b}){this.pdfPage=b}render(b){return this._walk(b)}_setAttributes(b,i){void 0!==b.alt&&i.setAttribute("aria-label",b.alt),void 0!==b.id&&i.setAttribute("aria-owns",b.id),void 0!==b.lang&&i.setAttribute("lang",b.lang)}_walk(b){if(!b)return null;const i=document.createElement("span");if("role"in b){const{role:s}=b,u=s.match(m);u?(i.setAttribute("role","heading"),i.setAttribute("aria-level",u[1])):C[s]&&i.setAttribute("role",C[s])}if(this._setAttributes(b,i),b.children)if(1===b.children.length&&"id"in b.children[0])this._setAttributes(b.children[0],i);else for(const s of b.children)i.appendChild(this._walk(s));return i}}},(I,h,C)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TextLayerBuilder=void 0;var m=C(3);h.TextLayerBuilder=class a{constructor({textLayerDiv:i,eventBus:s,pageIndex:u,viewport:x,highlighter:_=null,enhanceTextSelection:g=!1}){this.textLayerDiv=i,this.eventBus=s,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=u+1,this.viewport=x,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=_,this.enhanceTextSelection=g,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const i=document.createElement("div");i.className="endOfContent",this.textLayerDiv.appendChild(i)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(i=0){if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr);const s=document.createDocumentFragment();this.textLayerRenderTask=(0,m.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:s,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:i,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{this.textLayerDiv.appendChild(s),this._finishRendering(),this.highlighter?.enable()},function(u){})}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable()}setTextContentStream(i){this.cancel(),this.textContentStream=i}setTextContent(i){this.cancel(),this.textContent=i}_bindMouse(){const i=this.textLayerDiv;let s=null;i.addEventListener("mousedown",u=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(s&&(clearTimeout(s),s=null));const x=i.querySelector(".endOfContent");if(!x)return;let _=u.target!==i;if(_=_&&"none"!==window.getComputedStyle(x).getPropertyValue("-moz-user-select"),_){const g=i.getBoundingClientRect(),t=Math.max(0,(u.pageY-g.top)/g.height);x.style.top=(100*t).toFixed(2)+"%"}x.classList.add("active")}),i.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(s=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),s=null},300));const u=i.querySelector(".endOfContent");!u||(u.style.top="",u.classList.remove("active"))})}}},(I,h,C)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.XfaLayerBuilder=void 0;var m=C(3);h.XfaLayerBuilder=class p{constructor({pageDiv:b,pdfPage:i,annotationStorage:s=null,linkService:u,xfaHtml:x=null}){this.pageDiv=b,this.pdfPage=i,this.annotationStorage=s,this.linkService=u,this.xfaHtml=x,this.div=null,this._cancelled=!1}render(b,i="display"){if("print"===i){const s={viewport:b.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:i},u=document.createElement("div");this.pageDiv.appendChild(u),s.div=u;const x=m.XfaLayer.render(s);return Promise.resolve(x)}return this.pdfPage.getXfa().then(s=>{if(this._cancelled||!s)return{textDivs:[]};const u={viewport:b.clone({dontFlip:!0}),div:this.div,xfaHtml:s,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:i};return this.div?m.XfaLayer.update(u):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),u.div=this.div,m.XfaLayer.render(u))}).catch(s=>{console.error(s)})}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},(I,h,C)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.PDFViewer=h.PDFSinglePageViewer=void 0;var m=C(6),p=C(11);h.PDFViewer=class a extends p.BaseViewer{},h.PDFSinglePageViewer=class b extends p.BaseViewer{_resetView(){super._resetView(),this._scrollMode=m.ScrollMode.PAGE,this._spreadMode=m.SpreadMode.NONE}set scrollMode(s){}_updateScrollMode(){}set spreadMode(s){}_updateSpreadMode(){}}},(I,h,C)=>{var R,F,B,et,Z,te,U,Y,$,re,le,T,ut,l,dt,c,We,w,qe,E,ft,W,tt,H,pt,ee,gt,Ce,_t;Object.defineProperty(h,"__esModule",{value:!0}),h.PagesCountLimit=h.PDFPageViewBuffer=h.BaseViewer=void 0;var m=C(3),p=C(6),a=C(2),b=C(4),i=C(12),s=C(14),u=C(5),x=C(7),_=C(15),g=C(8),t=C(9);const y="enablePermissions",A={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};h.PagesCountLimit=A;class v{constructor(S){Ee(this,B),Ee(this,R,new Set),Ee(this,F,0),Fe(this,F,S)}push(S){const N=Pe(this,R);N.has(S)&&N.delete(S),N.add(S),N.size>Pe(this,F)&&xe(this,B,et).call(this)}resize(S,N=null){Fe(this,F,S);const X=Pe(this,R);if(N){const Ae=X.size;let me=1;for(const ge of X)if(N.has(ge.id)&&(X.delete(ge),X.add(ge)),++me>Ae)break}for(;X.size>Pe(this,F);)xe(this,B,et).call(this)}has(S){return Pe(this,R).has(S)}[Symbol.iterator](){return Pe(this,R).keys()}}R=new WeakMap,F=new WeakMap,B=new WeakSet,et=function(){const S=Pe(this,R).keys().next().value;S?.destroy(),Pe(this,R).delete(S)},h.PDFPageViewBuffer=v;const oe=class{constructor(S){if(Ee(this,T),Ee(this,l),Ee(this,c),Ee(this,w),Ee(this,E),Ee(this,W),Ee(this,H),Ee(this,ee),Ee(this,Ce),Ee(this,Z,null),Ee(this,te,m.AnnotationMode.ENABLE_FORMS),Ee(this,U,null),Ee(this,Y,!1),Ee(this,$,0),Ee(this,re,null),Ee(this,le,null),this.constructor===oe)throw new Error("Cannot initialize BaseViewer.");const N="2.14.305";if(m.version!==N)throw new Error(`The API version "${m.version}" does not match the Viewer version "${N}".`);if(this.container=S.container,this.viewer=S.viewer||S.container.firstElementChild,"DIV"!==this.container?.tagName.toUpperCase()||"DIV"!==this.viewer?.tagName.toUpperCase())throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=S.eventBus,this.linkService=S.linkService||new u.SimpleLinkService,this.downloadManager=S.downloadManager||null,this.findController=S.findController||null,this._scriptingManager=S.scriptingManager||null,this.removePageBorders=S.removePageBorders||!1,this.textLayerMode=S.textLayerMode??p.TextLayerMode.ENABLE,Fe(this,te,S.annotationMode??m.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=S.imageResourcesPath||"",this.enablePrintAutoRotate=S.enablePrintAutoRotate||!1,this.renderer=S.renderer||p.RendererType.CANVAS,this.useOnlyCssZoom=S.useOnlyCssZoom||!1,this.maxCanvasPixels=S.maxCanvasPixels,this.l10n=S.l10n||b.NullL10n,Fe(this,Y,S.enablePermissions||!1),this.pageColors=S.pageColors||null,S.pageColors&&(!CSS.supports("color",S.pageColors.background)||!CSS.supports("color",S.pageColors.foreground))&&((S.pageColors.background||S.pageColors.foreground)&&console.warn("Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!S.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new s.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=S.renderingQueue,this._doc=document.documentElement,this.scroll=(0,p.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=p.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss(),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(S){return this._pages[S]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(S){return S?.pdfPage})}get renderForms(){return Pe(this,te)===m.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(S){if(!Number.isInteger(S))throw new Error("Invalid page number.");!this.pdfDocument||this._setCurrentPageNumber(S,!0)||console.error(`currentPageNumber: "${S}" is not a valid page.`)}_setCurrentPageNumber(S,N=!1){if(this._currentPageNumber===S)return N&&xe(this,W,tt).call(this),!0;if(!(0<S&&S<=this.pagesCount))return!1;const X=this._currentPageNumber;return this._currentPageNumber=S,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:S,pageLabel:this._pageLabels?.[S-1]??null,previous:X}),N&&xe(this,W,tt).call(this),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(S){if(!this.pdfDocument)return;let N=0|S;if(this._pageLabels){const X=this._pageLabels.indexOf(S);X>=0&&(N=X+1)}this._setCurrentPageNumber(N,!0)||console.error(`currentPageLabel: "${S}" is not a valid page.`)}get currentScale(){return this._currentScale!==p.UNKNOWN_SCALE?this._currentScale:p.DEFAULT_SCALE}set currentScale(S){if(isNaN(S))throw new Error("Invalid numeric scale.");!this.pdfDocument||this._setScale(S,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(S){!this.pdfDocument||this._setScale(S,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(S){if(!(0,p.isValidRotation)(S))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((S%=360)<0&&(S+=360),this._pagesRotation===S))return;this._pagesRotation=S;const N=this._currentPageNumber,X={rotation:S};for(const Ae of this._pages)Ae.update(X);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:S,pageNumber:N}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(S){var N=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=S,!S)return;const X=S.isPureXfa,Ae=S.numPages,me=S.getPage(1),ge=S.getOptionalContentConfig(),Se=Pe(this,Y)?S.getPermissions():Promise.resolve();if(Ae>A.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const ve=this._scrollMode=p.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:ve})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:Ae})},()=>{}),this._onBeforeDraw=ve=>{const Te=this._pages[ve.pageNumber-1];!Te||Pe(this,Z).push(Te)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=ve=>{ve.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:ve.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,Pe(this,le)&&(document.removeEventListener("visibilitychange",Pe(this,le)),Fe(this,le,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([me,Se]).then(([ve,Te])=>{if(S!==this.pdfDocument)return;this._firstPageCapability.resolve(ve),this._optionalContentConfigPromise=ge,xe(this,T,ut).call(this,Te);const Le=this._scrollMode===p.ScrollMode.PAGE?null:this.viewer,Re=this.currentScale,ie=ve.getViewport({scale:Re*m.PixelsPerInch.PDF_TO_CSS_UNITS}),O=this.textLayerMode===p.TextLayerMode.DISABLE||X?null:this,D=Pe(this,te)!==m.AnnotationMode.DISABLE?this:null,ce=X?this:null;for(let be=1;be<=Ae;++be){const ye=new i.PDFPageView({container:Le,eventBus:this.eventBus,id:be,scale:Re,defaultViewport:ie.clone(),optionalContentConfigPromise:ge,renderingQueue:this.renderingQueue,textLayerFactory:O,textLayerMode:this.textLayerMode,annotationLayerFactory:D,annotationMode:Pe(this,te),xfaLayerFactory:ce,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(ye)}const de=this._pages[0];de&&(de.setPdfPage(ve),this.linkService.cachePageRef(1,ve.ref)),this._scrollMode===p.ScrollMode.PAGE?xe(this,c,We).call(this):this._spreadMode!==p.SpreadMode.NONE&&this._updateSpreadMode(),xe(this,l,dt).call(this).then(f(function*(){if(N.findController&&N.findController.setDocument(S),N._scriptingManager&&N._scriptingManager.setDocument(S),S.loadingParams.disableAutoFetch||Ae>A.FORCE_LAZY_PAGE_INIT)return void N._pagesCapability.resolve();let be=Ae-1;if(be<=0)N._pagesCapability.resolve();else for(let ye=2;ye<=Ae;++ye){const q=S.getPage(ye).then(pe=>{const M=N._pages[ye-1];M.pdfPage||M.setPdfPage(pe),N.linkService.cachePageRef(ye,pe.ref),0==--be&&N._pagesCapability.resolve()},pe=>{console.error(`Unable to get page ${ye} to initialize viewer`,pe),0==--be&&N._pagesCapability.resolve()});ye%A.PAUSE_EAGER_PAGE_INIT==0&&(yield q)}})),this.eventBus.dispatch("pagesinit",{source:this}),S.getMetadata().then(({info:be})=>{S===this.pdfDocument&&be.Language&&(this.viewer.lang=be.Language)}),this.defaultRenderingQueue&&this.update()}).catch(ve=>{console.error("Unable to initialize viewer",ve),this._pagesCapability.reject(ve)})}setPageLabels(S){if(this.pdfDocument){S?Array.isArray(S)&&this.pdfDocument.numPages===S.length?this._pageLabels=S:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let N=0,X=this._pages.length;N<X;N++)this._pages[N].setPageLabel(this._pageLabels?.[N]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=p.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,Fe(this,Z,new v(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,m.createPromiseCapability)(),this._onePageRenderedCapability=(0,m.createPromiseCapability)(),this._pagesCapability=(0,m.createPromiseCapability)(),this._scrollMode=p.ScrollMode.VERTICAL,this._previousScrollMode=p.ScrollMode.UNKNOWN,this._spreadMode=p.SpreadMode.NONE,Fe(this,re,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),Pe(this,le)&&(document.removeEventListener("visibilitychange",Pe(this,le)),Fe(this,le,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(y),null!==Pe(this,U)&&(Fe(this,te,Pe(this,U)),Fe(this,U,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_setScaleUpdatePages(S,N,X=!1,Ae=!1){if(this._currentScaleValue=N.toString(),xe(this,E,ft).call(this,S))return void(Ae&&this.eventBus.dispatch("scalechanging",{source:this,scale:S,presetValue:N}));this._doc.style.setProperty("--zoom-factor",S);const me={scale:S};for(const ge of this._pages)ge.update(me);if(this._currentScale=S,!X){let Se,ge=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(ge=this._location.pageNumber,Se=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:ge,destArray:Se,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:S,presetValue:Ae?N:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==p.SpreadMode.NONE&&this._scrollMode!==p.ScrollMode.HORIZONTAL?2:1}_setScale(S,N=!1){let X=parseFloat(S);if(X>0)this._setScaleUpdatePages(X,S,N,!1);else{const Ae=this._pages[this._currentPageNumber-1];if(!Ae)return;let me=p.SCROLLBAR_PADDING,ge=p.VERTICAL_PADDING;this.isInPresentationMode?me=ge=4:this.removePageBorders?me=ge=0:this._scrollMode===p.ScrollMode.HORIZONTAL&&([me,ge]=[ge,me]);const Se=(this.container.clientWidth-me)/Ae.width*Ae.scale/this._pageWidthScaleFactor,ve=(this.container.clientHeight-ge)/Ae.height*Ae.scale;switch(S){case"page-actual":X=1;break;case"page-width":X=Se;break;case"page-height":X=ve;break;case"page-fit":X=Math.min(Se,ve);break;case"auto":const Te=(0,p.isPortraitOrientation)(Ae)?Se:Math.min(ve,Se);X=Math.min(p.MAX_AUTO_SCALE,Te);break;default:return void console.error(`_setScale: "${S}" is an unknown zoom value.`)}this._setScaleUpdatePages(X,S,N,!0)}}pageLabelToPageNumber(S){if(!this._pageLabels)return null;const N=this._pageLabels.indexOf(S);return N<0?null:N+1}scrollPageIntoView({pageNumber:S,destArray:N=null,allowNegativeOffset:X=!1,ignoreDestinationZoom:Ae=!1}){if(!this.pdfDocument)return;const me=Number.isInteger(S)&&this._pages[S-1];if(!me)return void console.error(`scrollPageIntoView: "${S}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!N)return void this._setCurrentPageNumber(S,!0);let Le,Re,ge=0,Se=0,ve=0,Te=0;const ie=me.rotation%180!=0,O=(ie?me.height:me.width)/me.scale/m.PixelsPerInch.PDF_TO_CSS_UNITS,D=(ie?me.width:me.height)/me.scale/m.PixelsPerInch.PDF_TO_CSS_UNITS;let ce=0;switch(N[1].name){case"XYZ":ge=N[2],Se=N[3],ce=N[4],ge=null!==ge?ge:0,Se=null!==Se?Se:D;break;case"Fit":case"FitB":ce="page-fit";break;case"FitH":case"FitBH":Se=N[2],ce="page-width",null===Se&&this._location?(ge=this._location.left,Se=this._location.top):("number"!=typeof Se||Se<0)&&(Se=D);break;case"FitV":case"FitBV":ge=N[2],ve=O,Te=D,ce="page-height";break;case"FitR":ge=N[2],Se=N[3],ve=N[4]-ge,Te=N[5]-Se,Le=(this.container.clientWidth-(this.removePageBorders?0:p.SCROLLBAR_PADDING))/ve/m.PixelsPerInch.PDF_TO_CSS_UNITS,Re=(this.container.clientHeight-(this.removePageBorders?0:p.VERTICAL_PADDING))/Te/m.PixelsPerInch.PDF_TO_CSS_UNITS,ce=Math.min(Math.abs(Le),Math.abs(Re));break;default:return void console.error(`scrollPageIntoView: "${N[1].name}" is not a valid destination type.`)}if(Ae||(ce&&ce!==this._currentScale?this.currentScaleValue=ce:this._currentScale===p.UNKNOWN_SCALE&&(this.currentScaleValue=p.DEFAULT_SCALE_VALUE)),"page-fit"===ce&&!N[4])return void xe(this,w,qe).call(this,me);const de=[me.viewport.convertToViewportPoint(ge,Se),me.viewport.convertToViewportPoint(ge+ve,Se+Te)];let be=Math.min(de[0][0],de[1][0]),ye=Math.min(de[0][1],de[1][1]);X||(be=Math.max(be,0),ye=Math.max(ye,0)),xe(this,w,qe).call(this,me,{left:be,top:ye})}_updateLocation(S){const N=this._currentScale,X=this._currentScaleValue,Ae=parseFloat(X)===N?Math.round(1e4*N)/100:X,me=S.id,Se=this.container,ve=this._pages[me-1].getPagePoint(Se.scrollLeft-S.x,Se.scrollTop-S.y),Te=Math.round(ve[0]),Le=Math.round(ve[1]);let Re=`#page=${me}`;this.isInPresentationMode||(Re+=`&zoom=${Ae},${Te},${Le}`),this._location={pageNumber:me,scale:Ae,top:Le,left:Te,rotation:this._pagesRotation,pdfOpenParams:Re}}update(){const S=this._getVisiblePages(),N=S.views,X=N.length;if(0===X)return;const Ae=Math.max(10,2*X+1);Pe(this,Z).resize(Ae,S.ids),this.renderingQueue.renderHighestPriority(S);const me=this._spreadMode===p.SpreadMode.NONE&&(this._scrollMode===p.ScrollMode.PAGE||this._scrollMode===p.ScrollMode.VERTICAL),ge=this._currentPageNumber;let Se=!1;for(const ve of N){if(ve.percent<100)break;if(ve.id===ge&&me){Se=!0;break}}this._setCurrentPageNumber(Se?ge:N[0].id),this._updateLocation(S.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(S){return this.container.contains(S)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===p.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===p.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const S=this._scrollMode===p.ScrollMode.PAGE?Pe(this,re).pages:this._pages,N=this._scrollMode===p.ScrollMode.HORIZONTAL;return(0,p.getVisibleElements)({scrollEl:this.container,views:S,sortByVisibility:!0,horizontal:N,rtl:N&&this._isContainerRtl})}isPageVisible(S){return!!this.pdfDocument&&(Number.isInteger(S)&&S>0&&S<=this.pagesCount?this._getVisiblePages().ids.has(S):(console.error(`isPageVisible: "${S}" is not a valid page.`),!1))}isPageCached(S){if(!this.pdfDocument)return!1;if(!(Number.isInteger(S)&&S>0&&S<=this.pagesCount))return console.error(`isPageCached: "${S}" is not a valid page.`),!1;const N=this._pages[S-1];return Pe(this,Z).has(N)}cleanup(){for(const S of this._pages)S.renderingState!==p.RenderingStates.FINISHED&&S.reset()}_cancelRendering(){for(const S of this._pages)S.cancelRendering()}forceRendering(S){const N=S||this._getVisiblePages(),X=xe(this,ee,gt).call(this,N),me=this.renderingQueue.getHighestPriority(N,this._pages,X,this._spreadMode!==p.SpreadMode.NONE&&this._scrollMode!==p.ScrollMode.HORIZONTAL);return xe(this,Ce,_t).call(this,N.ids),!!me&&(xe(this,H,pt).call(this,me).then(()=>{this.renderingQueue.renderView(me)}),!0)}createTextLayerBuilder(S,N,X,Ae=!1,me,ge){return new g.TextLayerBuilder({textLayerDiv:S,eventBus:me,pageIndex:N,viewport:X,enhanceTextSelection:!this.isInPresentationMode&&Ae,highlighter:ge})}createTextHighlighter(S,N){return new _.TextHighlighter({eventBus:N,pageIndex:S,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(S,N,X=null,Ae="",me=!0,ge=b.NullL10n,Se=null,ve=null,Te=null,Le=null,Re=null){return new a.AnnotationLayerBuilder({pageDiv:S,pdfPage:N,annotationStorage:X||this.pdfDocument?.annotationStorage,imageResourcesPath:Ae,renderForms:me,linkService:this.linkService,downloadManager:this.downloadManager,l10n:ge,enableScripting:Se??this.enableScripting,hasJSActionsPromise:ve||this.pdfDocument?.hasJSActions(),fieldObjectsPromise:Le||this.pdfDocument?.getFieldObjects(),mouseState:Te||this._scriptingManager?.mouseState,annotationCanvasMap:Re})}createXfaLayerBuilder(S,N,X=null){return new t.XfaLayerBuilder({pageDiv:S,pdfPage:N,annotationStorage:X||this.pdfDocument?.annotationStorage,linkService:this.linkService})}createStructTreeLayerBuilder(S){return new x.StructTreeLayerBuilder({pdfPage:S})}get hasEqualPageSizes(){const S=this._pages[0];for(let N=1,X=this._pages.length;N<X;++N){const Ae=this._pages[N];if(Ae.width!==S.width||Ae.height!==S.height)return!1}return!0}getPagesOverview(){return this._pages.map(S=>{const N=S.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,p.isPortraitOrientation)(N)?{width:N.width,height:N.height,rotation:N.rotation}:{width:N.height,height:N.width,rotation:(N.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(S){if(!(S instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${S}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=S;const N={optionalContentConfigPromise:S};for(const X of this._pages)X.update(N);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:S})}get scrollMode(){return this._scrollMode}set scrollMode(S){if(this._scrollMode!==S){if(!(0,p.isValidScrollMode)(S))throw new Error(`Invalid scroll mode: ${S}`);this.pagesCount>A.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=S,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:S}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(S=null){const N=this._scrollMode,X=this.viewer;X.classList.toggle("scrollHorizontal",N===p.ScrollMode.HORIZONTAL),X.classList.toggle("scrollWrapped",N===p.ScrollMode.WRAPPED),this.pdfDocument&&S&&(N===p.ScrollMode.PAGE?xe(this,c,We).call(this):this._previousScrollMode===p.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(S,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(S){if(this._spreadMode!==S){if(!(0,p.isValidSpreadMode)(S))throw new Error(`Invalid spread mode: ${S}`);this._spreadMode=S,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:S}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(S=null){if(!this.pdfDocument)return;const N=this.viewer,X=this._pages;if(this._scrollMode===p.ScrollMode.PAGE)xe(this,c,We).call(this);else if(N.textContent="",this._spreadMode===p.SpreadMode.NONE)for(const Ae of this._pages)N.appendChild(Ae.div);else{const Ae=this._spreadMode-1;let me=null;for(let ge=0,Se=X.length;ge<Se;++ge)null===me?(me=document.createElement("div"),me.className="spread",N.appendChild(me)):ge%2===Ae&&(me=me.cloneNode(!1),N.appendChild(me)),me.appendChild(X[ge].div)}!S||(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(S,!0),this.update())}_getPageAdvance(S,N=!1){switch(this._scrollMode){case p.ScrollMode.WRAPPED:{const{views:X}=this._getVisiblePages(),Ae=new Map;for(const{id:me,y:ge,percent:Se,widthPercent:ve}of X){if(0===Se||ve<100)continue;let Te=Ae.get(ge);Te||Ae.set(ge,Te||(Te=[])),Te.push(me)}for(const me of Ae.values()){const ge=me.indexOf(S);if(-1===ge)continue;const Se=me.length;if(1===Se)break;if(N)for(let ve=ge-1,Te=0;ve>=Te;ve--){const Re=me[ve+1]-1;if(me[ve]<Re)return S-Re}else for(let ve=ge+1,Te=Se;ve<Te;ve++){const Re=me[ve-1]+1;if(me[ve]>Re)return Re-S}if(N){const ve=me[0];if(ve<S)return S-ve+1}else{const ve=me[Se-1];if(ve>S)return ve-S+1}break}break}case p.ScrollMode.HORIZONTAL:break;case p.ScrollMode.PAGE:case p.ScrollMode.VERTICAL:{if(this._spreadMode===p.SpreadMode.NONE)break;const X=this._spreadMode-1;if(N&&S%2!==X)break;if(!N&&S%2===X)break;const{views:Ae}=this._getVisiblePages(),me=N?S-1:S+1;for(const{id:ge,percent:Se,widthPercent:ve}of Ae)if(ge===me){if(Se>0&&100===ve)return 2;break}break}}return 1}nextPage(){const S=this._currentPageNumber,N=this.pagesCount;if(S>=N)return!1;const X=this._getPageAdvance(S,!1)||1;return this.currentPageNumber=Math.min(S+X,N),!0}previousPage(){const S=this._currentPageNumber;if(S<=1)return!1;const N=this._getPageAdvance(S,!0)||1;return this.currentPageNumber=Math.max(S-N,1),!0}increaseScale(S=1){let N=this._currentScale;do{N=(N*p.DEFAULT_SCALE_DELTA).toFixed(2),N=Math.ceil(10*N)/10,N=Math.min(p.MAX_SCALE,N)}while(--S>0&&N<p.MAX_SCALE);this.currentScaleValue=N}decreaseScale(S=1){let N=this._currentScale;do{N=(N/p.DEFAULT_SCALE_DELTA).toFixed(2),N=Math.floor(10*N)/10,N=Math.max(p.MIN_SCALE,N)}while(--S>0&&N>p.MIN_SCALE);this.currentScaleValue=N}updateContainerHeightCss(){const S=this.container.clientHeight;S!==Pe(this,$)&&(Fe(this,$,S),this._doc.style.setProperty("--viewer-container-height",`${S}px`))}};let k=oe;Z=new WeakMap,te=new WeakMap,U=new WeakMap,Y=new WeakMap,$=new WeakMap,re=new WeakMap,le=new WeakMap,T=new WeakSet,ut=function(S){!S||(S.includes(m.PermissionFlag.COPY)||this.viewer.classList.add(y),!S.includes(m.PermissionFlag.MODIFY_ANNOTATIONS)&&!S.includes(m.PermissionFlag.FILL_INTERACTIVE_FORMS)&&Pe(this,te)===m.AnnotationMode.ENABLE_FORMS&&(Fe(this,U,Pe(this,te)),Fe(this,te,m.AnnotationMode.ENABLE)))},l=new WeakSet,dt=function(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const S=new Promise(N=>{Fe(this,le,()=>{"hidden"===document.visibilityState&&(N(),document.removeEventListener("visibilitychange",Pe(this,le)),Fe(this,le,null))}),document.addEventListener("visibilitychange",Pe(this,le))});return Promise.race([this._onePageRenderedCapability.promise,S])},c=new WeakSet,We=function(){if(this._scrollMode!==p.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const S=this._currentPageNumber,N=Pe(this,re),X=this.viewer;if(X.textContent="",N.pages.length=0,this._spreadMode!==p.SpreadMode.NONE||this.isInPresentationMode){const Ae=new Set,me=this._spreadMode-1;-1===me?Ae.add(S-1):S%2!==me?(Ae.add(S-1),Ae.add(S)):(Ae.add(S-2),Ae.add(S-1));const ge=document.createElement("div");if(ge.className="spread",this.isInPresentationMode){const Se=document.createElement("div");Se.className="dummyPage",ge.appendChild(Se)}for(const Se of Ae){const ve=this._pages[Se];!ve||(ge.appendChild(ve.div),N.pages.push(ve))}X.appendChild(ge)}else{const Ae=this._pages[S-1];X.appendChild(Ae.div),N.pages.push(Ae)}N.scrollDown=S>=N.previousPageNumber,N.previousPageNumber=S},w=new WeakSet,qe=function(S,N=null){const{div:X,id:Ae}=S;if(this._scrollMode===p.ScrollMode.PAGE&&(this._setCurrentPageNumber(Ae),xe(this,c,We).call(this),this.update()),!N&&!this.isInPresentationMode){const me=X.offsetLeft+X.clientLeft,ge=me+X.clientWidth,{scrollLeft:Se,clientWidth:ve}=this.container;(this._scrollMode===p.ScrollMode.HORIZONTAL||me<Se||ge>Se+ve)&&(N={left:0,top:0})}(0,p.scrollIntoView)(X,N)},E=new WeakSet,ft=function(S){return S===this._currentScale||Math.abs(S-this._currentScale)<1e-15},W=new WeakSet,tt=function(){const S=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),xe(this,w,qe).call(this,S)},H=new WeakSet,pt=function(S){var N=this;return f(function*(){if(S.pdfPage)return S.pdfPage;try{const X=yield N.pdfDocument.getPage(S.id);return S.pdfPage||S.setPdfPage(X),N.linkService._cachedPageNumber?.(X.ref)||N.linkService.cachePageRef(S.id,X.ref),X}catch(X){return console.error("Unable to get page for page view",X),null}})()},ee=new WeakSet,gt=function(S){if(1===S.first?.id)return!0;if(S.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case p.ScrollMode.PAGE:return Pe(this,re).scrollDown;case p.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down},Ce=new WeakSet,_t=function(S){for(const N of S)this._pages[N-1]?.toggleLoadingIconSpinner(!0);for(const N of Pe(this,Z))S.has(N.id)||N.toggleLoadingIconSpinner(!1)},h.BaseViewer=k},(I,h,C)=>{var u;Object.defineProperty(h,"__esModule",{value:!0}),h.PDFPageView=void 0;var m=C(3),p=C(6),a=C(13),b=C(4);const i=a.compatibilityParams.maxCanvasPixels||16777216;u=new WeakMap,h.PDFPageView=class s{constructor(_){Ee(this,u,m.AnnotationMode.ENABLE_FORMS);const g=_.container,t=_.defaultViewport;this.id=_.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=_.scale||p.DEFAULT_SCALE,this.viewport=t,this.pdfPageRotate=t.rotation,this._optionalContentConfigPromise=_.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=_.textLayerMode??p.TextLayerMode.ENABLE,Fe(this,u,_.annotationMode??m.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=_.imageResourcesPath||"",this.useOnlyCssZoom=_.useOnlyCssZoom||!1,this.maxCanvasPixels=_.maxCanvasPixels||i,this.pageColors=_.pageColors||null,this.eventBus=_.eventBus,this.renderingQueue=_.renderingQueue,this.textLayerFactory=_.textLayerFactory,this.annotationLayerFactory=_.annotationLayerFactory,this.xfaLayerFactory=_.xfaLayerFactory,this.textHighlighter=_.textHighlighterFactory?.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=_.structTreeLayerFactory,this.renderer=_.renderer||p.RendererType.CANVAS,this.l10n=_.l10n||b.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=p.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const r=document.createElement("div");r.className="page",r.style.width=Math.floor(this.viewport.width)+"px",r.style.height=Math.floor(this.viewport.height)+"px",r.setAttribute("data-page-number",this.id),r.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(y=>{r.setAttribute("aria-label",y)}),this.div=r,g?.appendChild(r)}setPdfPage(_){this.pdfPage=_,this.pdfPageRotate=_.rotate,this.viewport=_.getViewport({scale:this.scale*m.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var _=this;return f(function*(){let g=null;try{yield _.annotationLayer.render(_.viewport,"display")}catch(t){g=t}finally{_.eventBus.dispatch("annotationlayerrendered",{source:_,pageNumber:_.id,error:g})}})()}_renderXfaLayer(){var _=this;return f(function*(){let g=null;try{const t=yield _.xfaLayer.render(_.viewport,"display");_.textHighlighter&&_._buildXfaTextContentItems(t.textDivs)}catch(t){g=t}finally{_.eventBus.dispatch("xfalayerrendered",{source:_,pageNumber:_.id,error:g})}})()}_buildXfaTextContentItems(_){var g=this;return f(function*(){const t=yield g.pdfPage.getTextContent(),r=[];for(const y of t.items)r.push(y.str);g.textHighlighter.setTextMapping(_,r),g.textHighlighter.enable()})()}_resetZoomLayer(_=!1){if(!this.zoomLayer)return;const g=this.zoomLayer.firstChild;this.paintedViewportMap.delete(g),g.width=0,g.height=0,_&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:_=!1,keepAnnotationLayer:g=!1,keepXfaLayer:t=!1}={}){this.cancelRendering({keepAnnotationLayer:g,keepXfaLayer:t}),this.renderingState=p.RenderingStates.INITIAL;const r=this.div;r.style.width=Math.floor(this.viewport.width)+"px",r.style.height=Math.floor(this.viewport.height)+"px";const y=r.childNodes,A=_&&this.zoomLayer||null,v=g&&this.annotationLayer?.div||null,k=t&&this.xfaLayer?.div||null;for(let R=y.length-1;R>=0;R--){const F=y[R];switch(F){case A:case v:case k:continue}F.remove()}r.removeAttribute("data-loaded"),v&&this.annotationLayer.hide(),k&&this.xfaLayer.hide(),A||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(R=>{this.loadingIconDiv?.setAttribute("aria-label",R)}),r.appendChild(this.loadingIconDiv)}update({scale:_=0,rotation:g=null,optionalContentConfigPromise:t=null}){if(this.scale=_||this.scale,"number"==typeof g&&(this.rotation=g),t instanceof Promise&&(this._optionalContentConfigPromise=t),this.viewport=this.viewport.clone({scale:this.scale*m.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:A}=document.documentElement;A.setProperty("--zoom-factor",this.scale)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let y=!1;if(this.canvas&&this.maxCanvasPixels>0){const A=this.outputScale;(Math.floor(this.viewport.width)*A.sx|0)*(Math.floor(this.viewport.height)*A.sy|0)>this.maxCanvasPixels&&(y=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&y)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:_=!1,keepXfaLayer:g=!1}={}){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!_||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!g||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this.textHighlighter?.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:_,redrawAnnotationLayer:g=!1,redrawXfaLayer:t=!1}){const r=this.viewport.width,y=this.viewport.height,A=this.div;_.style.width=_.parentNode.style.width=A.style.width=Math.floor(r)+"px",_.style.height=_.parentNode.style.height=A.style.height=Math.floor(y)+"px";const v=this.viewport.rotation-this.paintedViewportMap.get(_).rotation,k=Math.abs(v);let R=1,F=1;if((90===k||270===k)&&(R=y/r,F=r/y),_.style.transform=`rotate(${v}deg) scale(${R}, ${F})`,this.textLayer){const B=this.textLayer.viewport,Z=Math.abs(this.viewport.rotation-B.rotation);let te=r/B.width;(90===Z||270===Z)&&(te=r/B.height);const U=this.textLayer.textLayerDiv;let Y,$;switch(Z){case 0:Y=$=0;break;case 90:Y=0,$="-"+U.style.height;break;case 180:Y="-"+U.style.width,$="-"+U.style.height;break;case 270:Y="-"+U.style.width,$=0;break;default:console.error("Bad rotation value.")}U.style.transform=`rotate(${Z}deg) scale(${te}) translate(${Y}, ${$})`,U.style.transformOrigin="0% 0%"}g&&this.annotationLayer&&this._renderAnnotationLayer(),t&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(_,g){return this.viewport.convertToPdfPoint(_,g)}toggleLoadingIconSpinner(_=!1){this.loadingIconDiv?.classList.toggle("notVisible",!_)}draw(){var _=this;this.renderingState!==p.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:g,pdfPage:t}=this;if(!t)return this.renderingState=p.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=p.RenderingStates.RUNNING;const r=document.createElement("div");r.style.width=g.style.width,r.style.height=g.style.height,r.classList.add("canvasWrapper"),this.annotationLayer?.div?g.insertBefore(r,this.annotationLayer.div):g.appendChild(r);let y=null;if(this.textLayerMode!==p.TextLayerMode.DISABLE&&this.textLayerFactory){const F=document.createElement("div");F.className="textLayer",F.style.width=r.style.width,F.style.height=r.style.height,this.annotationLayer?.div?g.insertBefore(F,this.annotationLayer.div):g.appendChild(F),y=this.textLayerFactory.createTextLayerBuilder(F,this.id-1,this.viewport,this.textLayerMode===p.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=y,Pe(this,u)!==m.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(g,t,null,this.imageResourcesPath,Pe(this,u)===m.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap))),this.xfaLayer?.div&&g.appendChild(this.xfaLayer.div);let A=null;this.renderingQueue&&(A=F=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=p.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=p.RenderingStates.RUNNING,F()});F()});const v=function(){var F=f(function*(B=null){if(k===_.paintTask&&(_.paintTask=null),B instanceof m.RenderingCancelledException)_._renderError=null;else if(_._renderError=B,_.renderingState=p.RenderingStates.FINISHED,_.loadingIconDiv&&(_.loadingIconDiv.remove(),delete _.loadingIconDiv),_._resetZoomLayer(!0),_.eventBus.dispatch("pagerendered",{source:_,pageNumber:_.id,cssTransform:!1,timestamp:performance.now(),error:_._renderError}),B)throw B});return function(){return F.apply(this,arguments)}}(),k=this.renderer===p.RendererType.SVG?this.paintOnSvg(r):this.paintOnCanvas(r);k.onRenderContinue=A,this.paintTask=k;const R=k.promise.then(()=>v(null).then(()=>{if(y){const F=t.streamTextContent({includeMarkedContent:!0});y.setTextContentStream(F),y.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(F){return v(F)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(g,t,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=F=>{F.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(B=>{if(!B||!this.canvas)return;const z=this.structTreeLayer.render(B);z.classList.add("structTree"),this.canvas.appendChild(z)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(t)),g.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),R}paintOnCanvas(_){const g=(0,m.createPromiseCapability)(),t={promise:g.promise,onRenderContinue(U){U()},cancel(){te.cancel()}},r=this.viewport,y=document.createElement("canvas");y.hidden=!0;let A=!0;const v=function(){A&&(y.hidden=!1,A=!1)};_.appendChild(y),this.canvas=y;const k=y.getContext("2d",{alpha:!1}),R=this.outputScale=new p.OutputScale;if(this.useOnlyCssZoom){const U=r.clone({scale:m.PixelsPerInch.PDF_TO_CSS_UNITS});R.sx*=U.width/r.width,R.sy*=U.height/r.height}if(this.maxCanvasPixels>0){const Y=Math.sqrt(this.maxCanvasPixels/(r.width*r.height));R.sx>Y||R.sy>Y?(R.sx=Y,R.sy=Y,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const F=(0,p.approximateFraction)(R.sx),B=(0,p.approximateFraction)(R.sy);y.width=(0,p.roundToDivide)(r.width*R.sx,F[0]),y.height=(0,p.roundToDivide)(r.height*R.sy,B[0]),y.style.width=(0,p.roundToDivide)(r.width,F[1])+"px",y.style.height=(0,p.roundToDivide)(r.height,B[1])+"px",this.paintedViewportMap.set(y,r);const Z={canvasContext:k,transform:R.scaled?[R.sx,0,0,R.sy,0,0]:null,viewport:this.viewport,annotationMode:Pe(this,u),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},te=this.pdfPage.render(Z);return te.onContinue=function(U){v(),t.onRenderContinue?t.onRenderContinue(U):U()},te.promise.then(function(){v(),g.resolve()},function(U){v(),g.reject(U)}),t}paintOnSvg(_){let g=!1;const t=()=>{if(g)throw new m.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},r=this.pdfPage,y=this.viewport.clone({scale:m.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:r.getOperatorList({annotationMode:Pe(this,u)}).then(v=>(t(),new m.SVGGraphics(r.commonObjs,r.objs).getSVG(v,y).then(R=>{t(),this.svg=R,this.paintedViewportMap.set(R,y),R.style.width=_.style.width,R.style.height=_.style.height,this.renderingState=p.RenderingStates.FINISHED,_.appendChild(R)}))),onRenderContinue(v){v()},cancel(){g=!0}}}setPageLabel(_){this.pageLabel="string"==typeof _?_:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(I,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.compatibilityParams=h.OptionKind=h.AppOptions=void 0;const C=Object.create(null);h.compatibilityParams=C;{const i=navigator.userAgent||"",s=navigator.platform||"",u=navigator.maxTouchPoints||1,x=/Android/.test(i);(/\b(iPad|iPhone|iPod)(?=;)/.test(i)||"MacIntel"===s&&u>1||x)&&(C.maxCanvasPixels=5242880)}const m={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};h.OptionKind=m;const p={annotationMode:{value:2,kind:m.VIEWER+m.PREFERENCE},cursorToolOnLoad:{value:0,kind:m.VIEWER+m.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:m.VIEWER},defaultZoomValue:{value:"",kind:m.VIEWER+m.PREFERENCE},disableHistory:{value:!1,kind:m.VIEWER},disablePageLabels:{value:!1,kind:m.VIEWER+m.PREFERENCE},enablePermissions:{value:!1,kind:m.VIEWER+m.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:m.VIEWER+m.PREFERENCE},enableScripting:{value:!0,kind:m.VIEWER+m.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:m.VIEWER},externalLinkTarget:{value:0,kind:m.VIEWER+m.PREFERENCE},historyUpdateUrl:{value:!1,kind:m.VIEWER+m.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:m.VIEWER+m.PREFERENCE},imageResourcesPath:{value:"./images/",kind:m.VIEWER},maxCanvasPixels:{value:16777216,compatibility:C.maxCanvasPixels,kind:m.VIEWER},pageColorsBackground:{value:"Canvas",kind:m.VIEWER+m.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:m.VIEWER+m.PREFERENCE},pdfBugEnabled:{value:!1,kind:m.VIEWER+m.PREFERENCE},printResolution:{value:150,kind:m.VIEWER},renderer:{value:"canvas",kind:m.VIEWER},sidebarViewOnLoad:{value:-1,kind:m.VIEWER+m.PREFERENCE},scrollModeOnLoad:{value:-1,kind:m.VIEWER+m.PREFERENCE},spreadModeOnLoad:{value:-1,kind:m.VIEWER+m.PREFERENCE},textLayerMode:{value:1,kind:m.VIEWER+m.PREFERENCE},useOnlyCssZoom:{value:!1,kind:m.VIEWER+m.PREFERENCE},viewerCssTheme:{value:0,kind:m.VIEWER+m.PREFERENCE},viewOnLoad:{value:0,kind:m.VIEWER+m.PREFERENCE},cMapPacked:{value:!0,kind:m.API},cMapUrl:{value:"../web/cmaps/",kind:m.API},disableAutoFetch:{value:!1,kind:m.API+m.PREFERENCE},disableFontFace:{value:!1,kind:m.API+m.PREFERENCE},disableRange:{value:!1,kind:m.API+m.PREFERENCE},disableStream:{value:!1,kind:m.API+m.PREFERENCE},docBaseUrl:{value:"",kind:m.API},enableXfa:{value:!0,kind:m.API+m.PREFERENCE},fontExtraProperties:{value:!1,kind:m.API},isEvalSupported:{value:!0,kind:m.API},maxImageSize:{value:-1,kind:m.API},pdfBug:{value:!1,kind:m.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:m.API},verbosity:{value:1,kind:m.API},workerPort:{value:null,kind:m.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:m.WORKER}};p.disablePreferences={value:!1,kind:m.VIEWER},p.locale={value:navigator.language||"en-US",kind:m.VIEWER},p.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:m.VIEWER},p.renderer.kind+=m.PREFERENCE;const a=Object.create(null);h.AppOptions=class b{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(s){const u=a[s];if(void 0!==u)return u;const x=p[s];return void 0!==x?x.compatibility??x.value:void 0}static getAll(s=null){const u=Object.create(null);for(const x in p){const _=p[x];if(s){if(0==(s&_.kind))continue;if(s===m.PREFERENCE){const t=_.value,r=typeof t;if("boolean"===r||"string"===r||"number"===r&&Number.isInteger(t)){u[x]=t;continue}throw new Error(`Invalid type for preference: ${x}`)}}const g=a[x];u[x]=void 0!==g?g:_.compatibility??_.value}return u}static set(s,u){a[s]=u}static setAll(s){for(const u in s)a[u]=s[u]}static remove(s){delete a[s]}static _hasUserOptions(){return Object.keys(a).length>0}}},(I,h,C)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.PDFRenderingQueue=void 0;var m=C(3),p=C(6);h.PDFRenderingQueue=class b{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(s){this.pdfViewer=s}setThumbnailViewer(s){this.pdfThumbnailViewer=s}isHighestPriority(s){return this.highestPriorityPage===s.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(s){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(s)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(s,u,x,_=!1){const g=s.views,t=g.length;if(0===t)return null;for(let k=0;k<t;k++){const R=g[k].view;if(!this.isViewFinished(R))return R}const r=s.first.id,y=s.last.id;if(y-r+1>t){const k=s.ids;for(let R=1,F=y-r;R<F;R++){const B=x?r+R:y-R;if(k.has(B))continue;const z=u[B-1];if(!this.isViewFinished(z))return z}}let A=x?y:r-2,v=u[A];return v&&!this.isViewFinished(v)||_&&(A+=x?1:-1,v=u[A],v&&!this.isViewFinished(v))?v:null}isViewFinished(s){return s.renderingState===p.RenderingStates.FINISHED}renderView(s){switch(s.renderingState){case p.RenderingStates.FINISHED:return!1;case p.RenderingStates.PAUSED:this.highestPriorityPage=s.renderingId,s.resume();break;case p.RenderingStates.RUNNING:this.highestPriorityPage=s.renderingId;break;case p.RenderingStates.INITIAL:this.highestPriorityPage=s.renderingId,s.draw().finally(()=>{this.renderHighestPriority()}).catch(u=>{u instanceof m.RenderingCancelledException||console.error(`renderView: "${u}"`)})}return!0}}},(I,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TextHighlighter=void 0,h.TextHighlighter=class C{constructor({findController:p,eventBus:a,pageIndex:b}){this.findController=p,this.matches=[],this.eventBus=a,this.pageIdx=b,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(p,a){this.textDivs=p,this.textContentItemsStr=a}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=p=>{(p.pageIndex===this.pageIdx||-1===p.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){!this.enabled||(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(p,a){if(!p)return[];const{textContentItemsStr:b}=this;let i=0,s=0;const u=b.length-1,x=[];for(let _=0,g=p.length;_<g;_++){let t=p[_];for(;i!==u&&t>=s+b[i].length;)s+=b[i].length,i++;i===b.length&&console.error("Could not find a matching mapping");const r={begin:{divIdx:i,offset:t-s}};for(t+=a[_];i!==u&&t>s+b[i].length;)s+=b[i].length,i++;r.end={divIdx:i,offset:t-s},x.push(r)}return x}_renderMatches(p){if(0===p.length)return;const{findController:a,pageIdx:b}=this,{textContentItemsStr:i,textDivs:s}=this,u=b===a.selected.pageIdx,x=a.selected.matchIdx;let g=null;function r(k,R){const F=k.divIdx;return s[F].textContent="",y(F,0,k.offset,R)}function y(k,R,F,B){let z=s[k];if(z.nodeType===Node.TEXT_NODE){const U=document.createElement("span");z.parentNode.insertBefore(U,z),U.appendChild(z),s[k]=U,z=U}const Z=i[k].substring(R,F),te=document.createTextNode(Z);if(B){const U=document.createElement("span");return U.className=`${B} appended`,U.appendChild(te),z.appendChild(U),B.includes("selected")?U.offsetLeft:0}return z.appendChild(te),0}let A=x,v=A+1;if(a.state.highlightAll)A=0,v=p.length;else if(!u)return;for(let k=A;k<v;k++){const R=p[k],F=R.begin,B=R.end,z=u&&k===x,Z=z?" selected":"";let te=0;if(g&&F.divIdx===g.divIdx?y(g.divIdx,g.offset,F.offset):(null!==g&&y(g.divIdx,g.offset,undefined),r(F)),F.divIdx===B.divIdx)te=y(F.divIdx,F.offset,B.offset,"highlight"+Z);else{te=y(F.divIdx,F.offset,undefined,"highlight begin"+Z);for(let U=F.divIdx+1,Y=B.divIdx;U<Y;U++)s[U].className="highlight middle"+Z;r(B,"highlight end"+Z)}g=B,z&&a.scrollMatchIntoView({element:s[F.divIdx],selectedLeft:te,pageIndex:b,matchIndex:x})}g&&y(g.divIdx,g.offset,undefined)}_updateMatches(){if(!this.enabled)return;const{findController:p,matches:a,pageIdx:b}=this,{textContentItemsStr:i,textDivs:s}=this;let u=-1;for(let g=0,t=a.length;g<t;g++){const r=a[g];for(let A=Math.max(u,r.begin.divIdx),v=r.end.divIdx;A<=v;A++){const k=s[A];k.textContent=i[A],k.className=""}u=r.end.divIdx+1}p?.highlightMatches&&(this.matches=this._convertMatches(p.pageMatches[b]||null,p.pageMatchesLength[b]||null),this._renderMatches(this.matches))}}},(I,h,C)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.DownloadManager=void 0;var m=C(3);function p(b,i){const s=document.createElement("a");if(!s.click)throw new Error('DownloadManager: "a.click()" is not supported.');s.href=b,s.target="_parent","download"in s&&(s.download=i),(document.body||document.documentElement).appendChild(s),s.click(),s.remove()}h.DownloadManager=class a{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(i,s){(0,m.createValidAbsoluteUrl)(i,"http://example.com")?p(i+"#pdfjs.action=download",s):console.error(`downloadUrl - not a valid URL: ${i}`)}downloadData(i,s,u){p(URL.createObjectURL(new Blob([i],{type:u})),s)}openOrDownloadData(i,s,u){const x=(0,m.isPdfFile)(u),_=x?"application/pdf":"";if(x){let t,g=this._openBlobUrls.get(i);g||(g=URL.createObjectURL(new Blob([s],{type:_})),this._openBlobUrls.set(i,g)),t="?file="+encodeURIComponent(g+"#"+u);try{return window.open(t),!0}catch(r){console.error(`openOrDownloadData: ${r}`),URL.revokeObjectURL(g),this._openBlobUrls.delete(i)}}return this.downloadData(s,u,_),!1}download(i,s,u,x="download"){p(URL.createObjectURL(i),u)}}},(I,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.WaitOnType=h.EventBus=h.AutomationEventBus=void 0,h.waitOnEventOrTimeout=function m({target:b,name:i,delay:s=0}){return new Promise(function(u,x){if("object"!=typeof b||!i||"string"!=typeof i||!(Number.isInteger(s)&&s>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function _(y){b instanceof p?b._off(i,g):b.removeEventListener(i,g),r&&clearTimeout(r),u(y)}const g=_.bind(null,C.EVENT);b instanceof p?b._on(i,g):b.addEventListener(i,g);const t=_.bind(null,C.TIMEOUT),r=setTimeout(t,s)})};const C={EVENT:"event",TIMEOUT:"timeout"};h.WaitOnType=C;class p{constructor(){this._listeners=Object.create(null)}on(i,s,u=null){this._on(i,s,{external:!0,once:u?.once})}off(i,s,u=null){this._off(i,s,{external:!0,once:u?.once})}dispatch(i,s){const u=this._listeners[i];if(!u||0===u.length)return;let x;for(const{listener:_,external:g,once:t}of u.slice(0))t&&this._off(i,_),g?(x||(x=[])).push(_):_(s);if(x){for(const _ of x)_(s);x=null}}_on(i,s,u=null){var _;((_=this._listeners)[i]||(_[i]=[])).push({listener:s,external:!0===u?.external,once:!0===u?.once})}_off(i,s,u=null){const x=this._listeners[i];if(x)for(let _=0,g=x.length;_<g;_++)if(x[_].listener===s)return void x.splice(_,1)}}h.EventBus=p,h.AutomationEventBus=class a extends p{dispatch(i,s){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(I,h,C)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.GenericL10n=void 0,C(19);var m=C(4);const p=document.webL10n;h.GenericL10n=class a{constructor(i){this._lang=i,this._ready=new Promise((s,u)=>{p.setLanguage((0,m.fixupLangCode)(i),()=>{s(p)})})}getLanguage(){var i=this;return f(function*(){return(yield i._ready).getLanguage()})()}getDirection(){var i=this;return f(function*(){return(yield i._ready).getDirection()})()}get(i,s=null,u=(0,m.getL10nFallback)(i,s)){var x=this;return f(function*(){return(yield x._ready).get(i,s,u)})()}translate(i){var s=this;return f(function*(){return(yield s._ready).translate(i)})()}}},()=>{document.webL10n=function(I,h,C){var m={},p="",a="textContent",b="",i={},s="loading";function r(U,Y,$){Y=Y||function(T){},$=$||function(){};var re=new XMLHttpRequest;re.open("GET",U,!0),re.overrideMimeType&&re.overrideMimeType("text/plain; charset=utf-8"),re.onreadystatechange=function(){4==re.readyState&&(200==re.status||0===re.status?Y(re.responseText):$())},re.onerror=$,re.ontimeout=$;try{re.send(null)}catch{$()}}function A(U,Y){U&&(U=U.toLowerCase()),Y=Y||function(){},function v(){m={},p="",b=""}(),b=U;var $=function x(){return h.querySelectorAll('link[type="application/l10n"]')}(),re=$.length;if(0!==re){var l,e=0;l=function(){++e>=re&&(Y(),s="complete")};for(var d=0;d<re;d++)new c($[d]).load(U,l)}else{var le=function _(){var U=h.querySelector('script[type="application/l10n"]');return U?JSON.parse(U.innerHTML):null}();if(le&&le.locales&&le.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(m=le.locales[U])){var T=le.default_locale.toLowerCase();for(var o in le.locales){if((o=o.toLowerCase())===U){m=le.locales[U];break}o===T&&(m=le.locales[T])}}Y()}else console.log("no resource to load, early way out");s="complete"}function c(P){var E=P.href;this.load=function(V,W){!function y(U,Y,$,re){var le=U.replace(/[^\/]*$/,"")||"./";function T(l){return l.lastIndexOf("\\")<0?l:l.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}r(U,function(l){p+=l,function o(l,e){var c={},d=/^\s*|\s*$/,w=/^\s*#|^\s*$/,P=/^\s*\[(.*)\]\s*$/,E=/^\s*@import\s+url\((.*)\)\s*$/i,V=/^([^=\s]*)\s*=\s*(.+)$/;function W(H,Q,ee){var fe=H.replace(d,"").split(/[\r\n]+/),Ce="*",J=Y.split("-",1)[0],oe=!1,ae="";!function S(){for(;;){if(!fe.length)return void ee();var N=fe.shift();if(!w.test(N)){if(Q){if(ae=P.exec(N)){Ce=ae[1].toLowerCase(),oe="*"!==Ce&&Ce!==Y&&Ce!==J;continue}if(oe)continue;if(ae=E.exec(N))return void j(le+ae[1],S)}var X=N.match(V);X&&3==X.length&&(c[X[1]]=T(X[2]))}}}()}function j(H,Q){r(H,function(ee){W(ee,!1,Q)},function(){console.warn(H+" not found."),Q()})}W(l,!0,function(){e(c)})}(l,function(e){for(var c in e){var d,w,P=c.lastIndexOf(".");P>0?(d=c.substring(0,P),w=c.substring(P+1)):(d=c,w=a),m[d]||(m[d]={}),m[d][w]=e[c]}$&&$()})},re)}(E,V,W,function(){console.warn(E+" not found."),console.warn('"'+V+'" resource not found'),b="",W()})}}}function R(U,Y,$){var re=m[U];if(!re){if(console.warn("#"+U+" is undefined."),!$)return null;re=$}var le={};for(var T in re){var o=re[T];o=B(o=F(o,Y,U,T),Y,U),le[T]=o}return le}function F(U,Y,$,re){var T=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(U);if(!T||!T.length)return U;var e,o=T[1],l=T[2];return Y&&l in Y?e=Y[l]:l in m&&(e=m[l]),o in i&&(U=(0,i[o])(U,e,$,re)),U}function B(U,Y,$){return U.replace(/\{\{\s*(.+?)\s*\}\}/g,function(le,T){return Y&&T in Y?Y[T]:T in m?m[T]:(console.log("argument {{"+T+"}} for #"+$+" is undefined."),le)})}function z(U){var Y=function t(U){if(!U)return{};var Y=U.getAttribute("data-l10n-id"),$=U.getAttribute("data-l10n-args"),re={};if($)try{re=JSON.parse($)}catch{console.warn("could not parse arguments for #"+Y)}return{id:Y,args:re}}(U);if(Y.id){var $=R(Y.id,Y.args);if(!$)return void console.warn("#"+Y.id+" is undefined.");if($[a]){if(0===function Z(U){if(U.children)return U.children.length;if(typeof U.childElementCount<"u")return U.childElementCount;for(var Y=0,$=0;$<U.childNodes.length;$++)Y+=1===U.nodeType?1:0;return Y}(U))U[a]=$[a];else{for(var re=U.childNodes,le=!1,T=0,o=re.length;T<o;T++)3===re[T].nodeType&&/\S/.test(re[T].nodeValue)&&(le?re[T].nodeValue="":(re[T].nodeValue=$[a],le=!0));if(!le){var l=h.createTextNode($[a]);U.insertBefore(l,U.firstChild)}}delete $[a]}for(var e in $)U[e]=$[e]}}return i.plural=function(U,Y,$,re){var le=parseFloat(Y);if(isNaN(le)||re!=a)return U;i._pluralRules||(i._pluralRules=function k(U){function $(o,l){return-1!==l.indexOf(o)}function re(o,l,e){return l<=o&&o<=e}var le={0:function(o){return"other"},1:function(o){return re(o%100,3,10)?"few":0===o?"zero":re(o%100,11,99)?"many":2==o?"two":1==o?"one":"other"},2:function(o){return 0!==o&&o%10==0?"many":2==o?"two":1==o?"one":"other"},3:function(o){return 1==o?"one":"other"},4:function(o){return re(o,0,1)?"one":"other"},5:function(o){return re(o,0,2)&&2!=o?"one":"other"},6:function(o){return 0===o?"zero":o%10==1&&o%100!=11?"one":"other"},7:function(o){return 2==o?"two":1==o?"one":"other"},8:function(o){return re(o,3,6)?"few":re(o,7,10)?"many":2==o?"two":1==o?"one":"other"},9:function(o){return 0===o||1!=o&&re(o%100,1,19)?"few":1==o?"one":"other"},10:function(o){return re(o%10,2,9)&&!re(o%100,11,19)?"few":o%10!=1||re(o%100,11,19)?"other":"one"},11:function(o){return re(o%10,2,4)&&!re(o%100,12,14)?"few":o%10==0||re(o%10,5,9)||re(o%100,11,14)?"many":o%10==1&&o%100!=11?"one":"other"},12:function(o){return re(o,2,4)?"few":1==o?"one":"other"},13:function(o){return re(o%10,2,4)&&!re(o%100,12,14)?"few":1!=o&&re(o%10,0,1)||re(o%10,5,9)||re(o%100,12,14)?"many":1==o?"one":"other"},14:function(o){return re(o%100,3,4)?"few":o%100==2?"two":o%100==1?"one":"other"},15:function(o){return 0===o||re(o%100,2,10)?"few":re(o%100,11,19)?"many":1==o?"one":"other"},16:function(o){return o%10==1&&11!=o?"one":"other"},17:function(o){return 3==o?"few":0===o?"zero":6==o?"many":2==o?"two":1==o?"one":"other"},18:function(o){return 0===o?"zero":re(o,0,2)&&0!==o&&2!=o?"one":"other"},19:function(o){return re(o,2,10)?"few":re(o,0,1)?"one":"other"},20:function(o){return!re(o%10,3,4)&&o%10!=9||re(o%100,10,19)||re(o%100,70,79)||re(o%100,90,99)?o%1e6==0&&0!==o?"many":o%10!=2||$(o%100,[12,72,92])?o%10!=1||$(o%100,[11,71,91])?"other":"one":"two":"few"},21:function(o){return 0===o?"zero":1==o?"one":"other"},22:function(o){return re(o,0,1)||re(o,11,99)?"one":"other"},23:function(o){return re(o%10,1,2)||o%20==0?"one":"other"},24:function(o){return re(o,3,10)||re(o,13,19)?"few":$(o,[2,12])?"two":$(o,[1,11])?"one":"other"}},T={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[U.replace(/-.*$/,"")];return T in le?le[T]:(console.warn("plural form unknown for ["+U+"]"),function(){return"other"})}(b));var T="["+i._pluralRules(le)+"]";return 0===le&&$+"[zero]"in m?U=m[$+"[zero]"][re]:1==le&&$+"[one]"in m?U=m[$+"[one]"][re]:2==le&&$+"[two]"in m?U=m[$+"[two]"][re]:$+T in m?U=m[$+T][re]:$+"[other]"in m&&(U=m[$+"[other]"][re]),U},{get:function(U,Y,$){var T,re=U.lastIndexOf("."),le=a;re>0&&(le=U.substring(re+1),U=U.substring(0,re)),$&&((T={})[le]=$);var o=R(U,Y,T);return o&&le in o?o[le]:"{{"+U+"}}"},getData:function(){return m},getText:function(){return p},getLanguage:function(){return b},setLanguage:function(U,Y){A(U,function(){Y&&Y()})},getDirection:function(){var Y=b.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(Y)>=0?"rtl":"ltr"},translate:function te(U){for(var Y=function g(U){return U?U.querySelectorAll("*[data-l10n-id]"):[]}(U=U||h.documentElement),$=Y.length,re=0;re<$;re++)z(Y[re]);z(U)},getReadyState:function(){return s},ready:function(U){U&&("complete"==s||"interactive"==s?I.setTimeout(function(){U()}):h.addEventListener&&h.addEventListener("localized",function Y(){h.removeEventListener("localized",Y),U()}))}}}(window,document)},(I,h,C)=>{var B,mt,Z,nt,U,it,$,bt,le,At,o,yt,e,st,d,vt,P,Ct,V,Xe,j,He,Q,Ve,fe,St,J,rt,ae,at,N,Ze,Ae,Pt,ge,ot,ve,wt,Le,Ge;Object.defineProperty(h,"__esModule",{value:!0}),h.PDFFindController=h.FindState=void 0;var m=C(6),p=C(3),a=C(21);const b={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};h.FindState=b;const x={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},_=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),g=[..._.values()].map(ie=>String.fromCharCode(ie)).join(""),t=/\p{M}+/gu,r=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,y=/([^\p{M}])\p{M}*$/u,A=/^\p{M}*([^\p{M}])/u;let v=null;function k(ie){if(!v){const G=Object.keys(x).join("");v=new RegExp(`([${G}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const O=[];let D;for(;null!==(D=t.exec(ie));)O.push([D[0].length,D.index]);let ce=ie.normalize("NFD");const de=[[0,0]];let be=0,ye=0,q=0,pe=0,M=!1;return ce=ce.replace(v,(G,he,we,Me,ke,Oe)=>{if(Oe-=q,he){const De=x[G],Be=De.length;for(let Ie=1;Ie<Be;Ie++)de.push([Oe-ye+Ie,ye-Ie]);return ye-=Be-1,De}if(we){const De=we.endsWith("\n"),Be=De?we.length-2:we.length;M=!0;let Ie=Be;Oe+pe===O[be]?.[1]&&(Ie-=O[be][0],++be);for(let Ue=1;Ue<Ie+1;Ue++)de.push([Oe-1-ye+Ue,ye-Ue]);return ye-=Ie,q+=Ie,De?(de.push([(Oe+=Be-1)-ye+1,1+ye]),ye+=1,q+=1,pe+=1,we.slice(0,Be)):we}return Me?(de.push([Oe-ye+1,1+ye]),ye+=1,q+=1,pe+=1,Me.charAt(0)):(de.push([Oe-ye+1,ye-1]),ye-=1,q+=1,pe+=1," ")}),de.push([ce.length,ye]),[ce,de,M]}function R(ie,O,D){if(!ie)return[O,D];const ce=O,de=O+D;let be=(0,m.binarySearchFirstItem)(ie,q=>q[0]>=ce);ie[be][0]>ce&&--be;let ye=(0,m.binarySearchFirstItem)(ie,q=>q[0]>=de,be);return ie[ye][0]>de&&--ye,[ce+ie[be][1],D+ie[ye][1]-ie[be][1]]}B=new WeakSet,mt=function(O){if(!O)return;const D=this._pdfDocument,{type:ce}=O;(null===this._state||xe(this,$,bt).call(this,O))&&(this._dirtyMatch=!0),this._state=O,"highlightallchange"!==ce&&xe(this,Le,Ge).call(this,b.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||D&&this._pdfDocument!==D)return;xe(this,P,Ct).call(this);const de=!this._highlightMatches,be=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),ce?this._dirtyMatch?xe(this,Q,Ve).call(this):"again"===ce?(xe(this,Q,Ve).call(this),de&&this._state.highlightAll&&xe(this,j,He).call(this)):"highlightallchange"===ce?(be?xe(this,Q,Ve).call(this):this._highlightMatches=!0,xe(this,j,He).call(this)):xe(this,Q,Ve).call(this):this._findTimeout=setTimeout(()=>{xe(this,Q,Ve).call(this),this._findTimeout=null},250)})},Z=new WeakSet,nt=function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,p.createPromiseCapability)()},U=new WeakSet,it=function(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=k(this._state.query)),this._normalizedQuery},$=new WeakSet,bt=function(O){if(O.query!==this._state.query)return!0;switch(O.type){case"again":const D=this._selected.pageIdx+1,ce=this._linkService;return D>=1&&D<=ce.pagesCount&&D!==ce.page&&!ce.isPageVisible(D);case"highlightallchange":return!1}return!0},le=new WeakSet,At=function(O,D,ce){let de=O.slice(0,D).match(y);if(de){const be=O.charCodeAt(D),ye=de[1].charCodeAt(0);if((0,a.getCharacterType)(be)===(0,a.getCharacterType)(ye))return!1}if(de=O.slice(D+ce).match(A),de){const be=O.charCodeAt(D+ce-1),ye=de[1].charCodeAt(0);if((0,a.getCharacterType)(be)===(0,a.getCharacterType)(ye))return!1}return!0},o=new WeakSet,yt=function(O,D,ce,de){const be=[],ye=[],q=this._pageDiffs[ce];let pe;for(;null!==(pe=O.exec(de));){if(D&&!xe(this,le,At).call(this,de,pe.index,pe[0].length))continue;const[M,G]=R(q,pe.index,pe[0].length);G&&(be.push(M),ye.push(G))}this._pageMatches[ce]=be,this._pageMatchesLength[ce]=ye},e=new WeakSet,st=function(O,D){const{matchDiacritics:ce}=this._state;let de=!1;return(O=O.replace(r,(ye,q,pe,M,G,he)=>q?`[ ]*\\${q}[ ]*`:pe?`[ ]*${pe}[ ]*`:M?"[ ]+":ce?G||he:G?_.has(G.charCodeAt(0))?G:"":D?(de=!0,`${he}\\p{M}*`):he)).endsWith("[ ]*")&&(O=O.slice(0,O.length-"[ ]*".length)),ce&&D&&(de=!0,O=`${O}(?=[${g}]|[^\\p{M}]|$)`),[de,O]},d=new WeakSet,vt=function(O){let D=Pe(this,U,it);if(0===D.length)return;const{caseSensitive:ce,entireWord:de,phraseSearch:be}=this._state,ye=this._pageContents[O],q=this._hasDiacritics[O];let pe=!1;if(be)[pe,D]=xe(this,e,st).call(this,D,q);else{const he=D.match(/\S+/g);he&&(D=he.sort().reverse().map(we=>{const[Me,ke]=xe(this,e,st).call(this,we,q);return pe||(pe=Me),`(${ke})`}).join("|"))}D=new RegExp(D,`g${pe?"u":""}${ce?"":"i"}`),xe(this,o,yt).call(this,D,de,O,ye),this._state.highlightAll&&xe(this,V,Xe).call(this,O),this._resumePageIdx===O&&(this._resumePageIdx=null,xe(this,J,rt).call(this));const G=this._pageMatches[O].length;G>0&&(this._matchesCountTotal+=G,xe(this,ve,wt).call(this))},P=new WeakSet,Ct=function(){if(this._extractTextPromises.length>0)return;let O=Promise.resolve();for(let D=0,ce=this._linkService.pagesCount;D<ce;D++){const de=(0,p.createPromiseCapability)();this._extractTextPromises[D]=de.promise,O=O.then(()=>this._pdfDocument.getPage(D+1).then(be=>be.getTextContent()).then(be=>{const ye=[];for(const q of be.items)ye.push(q.str),q.hasEOL&&ye.push("\n");[this._pageContents[D],this._pageDiffs[D],this._hasDiacritics[D]]=k(ye.join("")),de.resolve()},be=>{console.error(`Unable to get text content for page ${D+1}`,be),this._pageContents[D]="",this._pageDiffs[D]=null,this._hasDiacritics[D]=!1,de.resolve()}))}},V=new WeakSet,Xe=function(O){this._scrollMatches&&this._selected.pageIdx===O&&(this._linkService.page=O+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:O})},j=new WeakSet,He=function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})},Q=new WeakSet,Ve=function(){const O=this._state.findPrevious,D=this._linkService.page-1,ce=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=D,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,xe(this,j,He).call(this);for(let be=0;be<ce;be++)this._pendingFindMatches.has(be)||(this._pendingFindMatches.add(be),this._extractTextPromises[be].then(()=>{this._pendingFindMatches.delete(be),xe(this,d,vt).call(this,be)}))}if(""===Pe(this,U,it))return void xe(this,Le,Ge).call(this,b.FOUND);if(this._resumePageIdx)return;const de=this._offset;if(this._pagesToSearch=ce,null!==de.matchIdx){const be=this._pageMatches[de.pageIdx].length;if(!O&&de.matchIdx+1<be||O&&de.matchIdx>0)return de.matchIdx=O?de.matchIdx-1:de.matchIdx+1,void xe(this,N,Ze).call(this,!0);xe(this,ae,at).call(this,O)}xe(this,J,rt).call(this)},fe=new WeakSet,St=function(O){const D=this._offset,ce=O.length,de=this._state.findPrevious;return ce?(D.matchIdx=de?ce-1:0,xe(this,N,Ze).call(this,!0),!0):(xe(this,ae,at).call(this,de),!!(D.wrapped&&(D.matchIdx=null,this._pagesToSearch<0))&&(xe(this,N,Ze).call(this,!1),!0))},J=new WeakSet,rt=function(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let O=null;do{const D=this._offset.pageIdx;if(O=this._pageMatches[D],!O){this._resumePageIdx=D;break}}while(!xe(this,fe,St).call(this,O))},ae=new WeakSet,at=function(O){const D=this._offset,ce=this._linkService.pagesCount;D.pageIdx=O?D.pageIdx-1:D.pageIdx+1,D.matchIdx=null,this._pagesToSearch--,(D.pageIdx>=ce||D.pageIdx<0)&&(D.pageIdx=O?ce-1:0,D.wrapped=!0)},N=new WeakSet,Ze=function(O=!1){let D=b.NOT_FOUND;const ce=this._offset.wrapped;if(this._offset.wrapped=!1,O){const de=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,D=ce?b.WRAPPED:b.FOUND,-1!==de&&de!==this._selected.pageIdx&&xe(this,V,Xe).call(this,de)}xe(this,Le,Ge).call(this,D,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,xe(this,V,Xe).call(this,this._selected.pageIdx))},Ae=new WeakSet,Pt=function(O){const D=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||D&&this._pdfDocument!==D||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),xe(this,Le,Ge).call(this,b.FOUND),this._highlightMatches=!1,xe(this,j,He).call(this))})},ge=new WeakSet,ot=function(){const{pageIdx:O,matchIdx:D}=this._selected;let ce=0,de=this._matchesCountTotal;if(-1!==D){for(let be=0;be<O;be++)ce+=this._pageMatches[be]?.length||0;ce+=D+1}return(ce<1||ce>de)&&(ce=de=0),{current:ce,total:de}},ve=new WeakSet,wt=function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:xe(this,ge,ot).call(this)})},Le=new WeakSet,Ge=function(O,D=!1){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:O,previous:D,matchesCount:xe(this,ge,ot).call(this),rawQuery:this._state?.query??null})},h.PDFFindController=class F{constructor({linkService:O,eventBus:D}){Ee(this,B),Ee(this,Z),Ee(this,U),Ee(this,$),Ee(this,le),Ee(this,o),Ee(this,e),Ee(this,d),Ee(this,P),Ee(this,V),Ee(this,j),Ee(this,Q),Ee(this,fe),Ee(this,J),Ee(this,ae),Ee(this,N),Ee(this,Ae),Ee(this,ge),Ee(this,ve),Ee(this,Le),this._linkService=O,this._eventBus=D,xe(this,Z,nt).call(this),D._on("find",xe(this,B,mt).bind(this)),D._on("findbarclose",xe(this,Ae,Pt).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(O){this._pdfDocument&&xe(this,Z,nt).call(this),O&&(this._pdfDocument=O,this._firstPageCapability.resolve())}scrollMatchIntoView({element:O=null,selectedLeft:D=0,pageIndex:ce=-1,matchIndex:de=-1}){this._scrollMatches&&O&&-1!==de&&de===this._selected.matchIdx&&-1!==ce&&ce===this._selected.pageIdx&&(this._scrollMatches=!1,(0,m.scrollIntoView)(O,{top:-50,left:D+-400},!0))}}},(I,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.CharacterType=void 0,h.getCharacterType=function t(r){return function m(r){return r<11904}(r)?function p(r){return 0==(65408&r)}(r)?function i(r){return 32===r||9===r||13===r||10===r}(r)?C.SPACE:function a(r){return r>=97&&r<=122||r>=65&&r<=90}(r)||function b(r){return r>=48&&r<=57}(r)||95===r?C.ALPHA_LETTER:C.PUNCT:function g(r){return 3584==(65408&r)}(r)?C.THAI_LETTER:160===r?C.SPACE:C.ALPHA_LETTER:function s(r){return r>=13312&&r<=40959||r>=63744&&r<=64255}(r)?C.HAN_LETTER:function u(r){return r>=12448&&r<=12543}(r)?C.KATAKANA_LETTER:function x(r){return r>=12352&&r<=12447}(r)?C.HIRAGANA_LETTER:function _(r){return r>=65376&&r<=65439}(r)?C.HALFWIDTH_KATAKANA_LETTER:C.ALPHA_LETTER};const C={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};h.CharacterType=C},(I,h,C)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.PDFHistory=void 0,h.isDestArraysEqual=_,h.isDestHashesEqual=x;var m=C(6),p=C(17);function s(){return document.location.hash}function x(g,t){return"string"==typeof g&&"string"==typeof t&&(g===t||(0,m.parseQueryString)(g).get("nameddest")===t)}function _(g,t){function r(y,A){if(typeof y!=typeof A||Array.isArray(y)||Array.isArray(A))return!1;if(null!==y&&"object"==typeof y&&null!==A){if(Object.keys(y).length!==Object.keys(A).length)return!1;for(const v in y)if(!r(y[v],A[v]))return!1;return!0}return y===A||Number.isNaN(y)&&Number.isNaN(A)}if(!Array.isArray(g)||!Array.isArray(t)||g.length!==t.length)return!1;for(let y=0,A=g.length;y<A;y++)if(!r(g[y],t[y]))return!1;return!0}h.PDFHistory=class u{constructor({linkService:t,eventBus:r}){this.linkService=t,this.eventBus=r,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",y=>{this._isPagesLoaded=!!y.pagesCount},{once:!0})})}initialize({fingerprint:t,resetHistory:r=!1,updateUrl:y=!1}){if(!t||"string"!=typeof t)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const A=""!==this._fingerprint&&this._fingerprint!==t;this._fingerprint=t,this._updateUrl=!0===y,this._initialized=!0,this._bindEvents();const v=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=s(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(v,!0)||r){const{hash:R,page:F,rotation:B}=this._parseCurrentHash(!0);return!R||A||r?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:R,page:F,rotation:B},!0)}const k=v.destination;this._updateInternalState(k,v.uid,!0),void 0!==k.rotation&&(this._initialRotation=k.rotation),k.dest?(this._initialBookmark=JSON.stringify(k.dest),this._destination.page=null):k.hash?this._initialBookmark=k.hash:k.page&&(this._initialBookmark=`page=${k.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:t=null,explicitDest:r,pageNumber:y}){if(!this._initialized)return;if(t&&"string"!=typeof t)return void console.error(`PDFHistory.push: "${t}" is not a valid namedDest parameter.`);if(!Array.isArray(r))return void console.error(`PDFHistory.push: "${r}" is not a valid explicitDest parameter.`);if(!this._isValidPage(y)&&(null!==y||this._destination))return void console.error(`PDFHistory.push: "${y}" is not a valid pageNumber parameter.`);const A=t||JSON.stringify(r);if(!A)return;let v=!1;if(this._destination&&(x(this._destination.hash,A)||_(this._destination.dest,r))){if(this._destination.page)return;v=!0}this._popStateInProgress&&!v||(this._pushOrReplaceState({dest:r,hash:A,page:y,rotation:this.linkService.rotation},v),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(t){if(this._initialized){if(!this._isValidPage(t))return void console.error(`PDFHistory.pushPage: "${t}" is not a valid page number.`);this._destination?.page!==t&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${t}`,page:t,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const t=window.history.state;this._isValidState(t)&&t.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const t=window.history.state;this._isValidState(t)&&t.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(t,r=!1){const y=r||!this._destination,A={fingerprint:this._fingerprint,uid:y?this._uid:this._uid+1,destination:t};let v;if(this._updateInternalState(t,A.uid),this._updateUrl&&t?.hash){const k=document.location.href.split("#")[0];k.startsWith("file://")||(v=`${k}#${t.hash}`)}y?window.history.replaceState(A,"",v):window.history.pushState(A,"",v)}_tryPushCurrentPosition(t=!1){if(!this._position)return;let r=this._position;if(t&&(r=Object.assign(Object.create(null),this._position),r.temporary=!0),!this._destination)return void this._pushOrReplaceState(r);if(this._destination.temporary)return void this._pushOrReplaceState(r,!0);if(this._destination.hash===r.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let y=!1;if(this._destination.page>=r.first&&this._destination.page<=r.page){if(void 0!==this._destination.dest||!this._destination.first)return;y=!0}this._pushOrReplaceState(r,y)}_isValidPage(t){return Number.isInteger(t)&&t>0&&t<=this.linkService.pagesCount}_isValidState(t,r=!1){if(!t)return!1;if(t.fingerprint!==this._fingerprint){if(!r)return!1;{if("string"!=typeof t.fingerprint||t.fingerprint.length!==this._fingerprint.length)return!1;const[y]=performance.getEntriesByType("navigation");if("reload"!==y?.type)return!1}}return!(!Number.isInteger(t.uid)||t.uid<0||null===t.destination||"object"!=typeof t.destination)}_updateInternalState(t,r,y=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),y&&t?.temporary&&delete t.temporary,this._destination=t,this._uid=r,this._maxUid=Math.max(this._maxUid,r),this._numPositionUpdates=0}_parseCurrentHash(t=!1){const r=unescape(s()).substring(1),y=(0,m.parseQueryString)(r),A=y.get("nameddest")||"";let v=0|y.get("page");return(!this._isValidPage(v)||t&&A.length>0)&&(v=null),{hash:r,page:v,rotation:this.linkService.rotation}}_updateViewarea({location:t}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:t.pdfOpenParams.substring(1),page:this.linkService.page,first:t.pageNumber,rotation:t.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:t}){const r=s(),y=this._currentHash!==r;if(this._currentHash=r,!t){this._uid++;const{hash:v,page:k,rotation:R}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:v,page:k,rotation:R},!0)}if(!this._isValidState(t))return;this._popStateInProgress=!0,y&&(this._blockHashChange++,(0,p.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const A=t.destination;this._updateInternalState(A,t.uid,!0),(0,m.isValidRotation)(A.rotation)&&(this.linkService.rotation=A.rotation),A.dest?this.linkService.goToDestination(A.dest):A.hash?this.linkService.setHash(A.hash):A.page&&(this.linkService.page=A.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){!this._boundEvents||(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(I,h,C)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.PDFScriptingManager=void 0;var m=C(6),p=C(3);h.PDFScriptingManager=class a{constructor({eventBus:i,sandboxBundleSrc:s=null,scriptingFactory:u=null,docPropertiesLookup:x=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=i,this._sandboxBundleSrc=s,this._scriptingFactory=u,this._docPropertiesLookup=x,this._scriptingFactory||window.addEventListener("updatefromsandbox",_=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:_.detail})})}setViewer(i){this._pdfViewer=i}setDocument(i){var s=this;return f(function*(){if(s._pdfDocument&&(yield s._destroyScripting()),s._pdfDocument=i,!i)return;const[u,x,_]=yield Promise.all([i.getFieldObjects(),i.getCalculationOrderIds(),i.getJSActions()]);if(u||_){if(i===s._pdfDocument){try{s._scripting=s._createScripting()}catch(g){return console.error(`PDFScriptingManager.setDocument: "${g?.message}".`),void(yield s._destroyScripting())}s._internalEvents.set("updatefromsandbox",g=>{g?.source===window&&s._updateFromSandbox(g.detail)}),s._internalEvents.set("dispatcheventinsandbox",g=>{s._scripting?.dispatchEventInSandbox(g.detail)}),s._internalEvents.set("pagechanging",({pageNumber:g,previous:t})=>{g!==t&&(s._dispatchPageClose(t),s._dispatchPageOpen(g))}),s._internalEvents.set("pagerendered",({pageNumber:g})=>{!s._pageOpenPending.has(g)||g===s._pdfViewer.currentPageNumber&&s._dispatchPageOpen(g)}),s._internalEvents.set("pagesdestroy",function(){var g=f(function*(t){yield s._dispatchPageClose(s._pdfViewer.currentPageNumber),yield s._scripting?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),s._closeCapability?.resolve()});return function(t){return g.apply(this,arguments)}}()),s._domEvents.set("mousedown",g=>{s._mouseState.isDown=!0}),s._domEvents.set("mouseup",g=>{s._mouseState.isDown=!1});for(const[g,t]of s._internalEvents)s._eventBus._on(g,t);for(const[g,t]of s._domEvents)window.addEventListener(g,t,!0);try{const g=yield s._getDocProperties();if(i!==s._pdfDocument)return;yield s._scripting.createSandbox({objects:u,calculationOrder:x,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...g,actions:_}}),s._eventBus.dispatch("sandboxcreated",{source:s})}catch(g){return console.error(`PDFScriptingManager.setDocument: "${g?.message}".`),void(yield s._destroyScripting())}yield s._scripting?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield s._dispatchPageOpen(s._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{i===s._pdfDocument&&(s._ready=!0)})}}else yield s._destroyScripting()})()}dispatchWillSave(i){var s=this;return f(function*(){return s._scripting?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(i){var s=this;return f(function*(){return s._scripting?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(i){var s=this;return f(function*(){return s._scripting?.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(i){var s=this;return f(function*(){return s._scripting?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){return this._destroyCapability?.promise||null}get ready(){return this._ready}get _internalEvents(){return(0,p.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,p.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,p.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,p.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(i){var s=this;return f(function*(){const u=s._pdfViewer.isInPresentationMode||s._pdfViewer.isChangingPresentationMode,{id:x,siblings:_,command:g,value:t}=i;if(!x){switch(g){case"clear":console.clear();break;case"error":console.error(t);break;case"layout":if(u)return;const y=(0,m.apiPageLayoutToViewerModes)(t);s._pdfViewer.spreadMode=y.spreadMode;break;case"page-num":s._pdfViewer.currentPageNumber=t+1;break;case"print":yield s._pdfViewer.pagesPromise,s._eventBus.dispatch("print",{source:s});break;case"println":console.log(t);break;case"zoom":if(u)return;s._pdfViewer.currentScaleValue=t;break;case"SaveAs":s._eventBus.dispatch("save",{source:s});break;case"FirstPage":s._pdfViewer.currentPageNumber=1;break;case"LastPage":s._pdfViewer.currentPageNumber=s._pdfViewer.pagesCount;break;case"NextPage":s._pdfViewer.nextPage();break;case"PrevPage":s._pdfViewer.previousPage();break;case"ZoomViewIn":if(u)return;s._pdfViewer.increaseScale();break;case"ZoomViewOut":if(u)return;s._pdfViewer.decreaseScale()}return}if(u&&i.focus)return;delete i.id,delete i.siblings;const r=_?[x,..._]:[x];for(const y of r){const A=document.getElementById(y);A?A.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:i})):s._pdfDocument?.annotationStorage.setValue(y,i)}})()}_dispatchPageOpen(i,s=!1){var u=this;return f(function*(){const x=u._pdfDocument,_=u._visitedPages;if(s&&(u._closeCapability=(0,p.createPromiseCapability)()),!u._closeCapability)return;const g=u._pdfViewer.getPageView(i-1);if(g?.renderingState!==m.RenderingStates.FINISHED)return void u._pageOpenPending.add(i);u._pageOpenPending.delete(i);const t=f(function*(){const r=yield _.has(i)?null:g.pdfPage?.getJSActions();x===u._pdfDocument&&(yield u._scripting?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:i,actions:r}))})();_.set(i,t)})()}_dispatchPageClose(i){var s=this;return f(function*(){const u=s._pdfDocument,x=s._visitedPages;if(!s._closeCapability||s._pageOpenPending.has(i))return;const _=x.get(i);!_||(x.set(i,null),yield _,u===s._pdfDocument&&(yield s._scripting?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:i})))})()}_getDocProperties(){var i=this;return f(function*(){if(i._docPropertiesLookup)return i._docPropertiesLookup(i._pdfDocument);const{docPropertiesLookup:s}=C(24);return s(i._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,p.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:i}=C(24);return new i(this._sandboxBundleSrc)}_destroyScripting(){var i=this;return f(function*(){if(!i._scripting)return i._pdfDocument=null,void i._destroyCapability?.resolve();i._closeCapability&&(yield Promise.race([i._closeCapability.promise,new Promise(s=>{setTimeout(s,1e3)})]).catch(s=>{}),i._closeCapability=null),i._pdfDocument=null;try{yield i._scripting.destroySandbox()}catch{}for(const[s,u]of i._internalEvents)i._eventBus._off(s,u);i._internalEvents.clear();for(const[s,u]of i._domEvents)window.removeEventListener(s,u,!0);i._domEvents.clear(),i._pageOpenPending.clear(),i._visitedPages.clear(),i._scripting=null,delete i._mouseState.isDown,i._ready=!1,i._destroyCapability?.resolve()})()}}},(I,h,C)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.GenericScripting=void 0,h.docPropertiesLookup=function p(i){return a.apply(this,arguments)};var m=C(3);function a(){return(a=f(function*(i){const u="".split("#")[0];let{info:x,metadata:_,contentDispositionFilename:g,contentLength:t}=yield i.getMetadata();if(!t){const{length:r}=yield i.getDownloadInfo();t=r}return{...x,baseURL:u,filesize:t,filename:g||(0,m.getPdfFilenameFromUrl)(""),metadata:_?.getRaw(),authors:_?.get("dc:creator"),numPages:i.numPages,URL:""}})).apply(this,arguments)}h.GenericScripting=class b{constructor(s){this._ready=(0,m.loadScript)(s,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(s){var u=this;return f(function*(){(yield u._ready).create(s)})()}dispatchEventInSandbox(s){var u=this;return f(function*(){const x=yield u._ready;setTimeout(()=>x.dispatchEvent(s),0)})()}destroySandbox(){var s=this;return f(function*(){(yield s._ready).nukeSandbox()})()}}}],se={};function K(I){var h=se[I];if(void 0!==h)return h.exports;var C=se[I]={exports:{}};return ue[I](C,C.exports,K),C.exports}var n={};return(()=>{var I=n;Object.defineProperty(I,"__esModule",{value:!0}),Object.defineProperty(I,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return a.AnnotationLayerBuilder}}),Object.defineProperty(I,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return h.DefaultAnnotationLayerFactory}}),Object.defineProperty(I,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return h.DefaultStructTreeLayerFactory}}),Object.defineProperty(I,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return h.DefaultTextLayerFactory}}),Object.defineProperty(I,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return h.DefaultXfaLayerFactory}}),Object.defineProperty(I,"DownloadManager",{enumerable:!0,get:function(){return b.DownloadManager}}),Object.defineProperty(I,"EventBus",{enumerable:!0,get:function(){return i.EventBus}}),Object.defineProperty(I,"GenericL10n",{enumerable:!0,get:function(){return s.GenericL10n}}),Object.defineProperty(I,"LinkTarget",{enumerable:!0,get:function(){return C.LinkTarget}}),Object.defineProperty(I,"NullL10n",{enumerable:!0,get:function(){return u.NullL10n}}),Object.defineProperty(I,"PDFFindController",{enumerable:!0,get:function(){return x.PDFFindController}}),Object.defineProperty(I,"PDFHistory",{enumerable:!0,get:function(){return _.PDFHistory}}),Object.defineProperty(I,"PDFLinkService",{enumerable:!0,get:function(){return C.PDFLinkService}}),Object.defineProperty(I,"PDFPageView",{enumerable:!0,get:function(){return g.PDFPageView}}),Object.defineProperty(I,"PDFScriptingManager",{enumerable:!0,get:function(){return t.PDFScriptingManager}}),Object.defineProperty(I,"PDFSinglePageViewer",{enumerable:!0,get:function(){return p.PDFSinglePageViewer}}),Object.defineProperty(I,"PDFViewer",{enumerable:!0,get:function(){return p.PDFViewer}}),Object.defineProperty(I,"ProgressBar",{enumerable:!0,get:function(){return m.ProgressBar}}),Object.defineProperty(I,"SimpleLinkService",{enumerable:!0,get:function(){return C.SimpleLinkService}}),Object.defineProperty(I,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return r.StructTreeLayerBuilder}}),Object.defineProperty(I,"TextLayerBuilder",{enumerable:!0,get:function(){return y.TextLayerBuilder}}),Object.defineProperty(I,"XfaLayerBuilder",{enumerable:!0,get:function(){return A.XfaLayerBuilder}}),Object.defineProperty(I,"parseQueryString",{enumerable:!0,get:function(){return m.parseQueryString}});var h=K(1),C=K(5),m=K(6),p=K(10),a=K(2),b=K(16),i=K(17),s=K(18),u=K(4),x=K(20),_=K(22),g=K(12),t=K(23),r=K(7),y=K(8),A=K(9)})(),n})(),_e.exports=K()},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{},7156:_e=>{function L(f,ue,se,K,n,I,h){try{var C=f[I](h),m=C.value}catch(p){return void se(p)}C.done?ue(m):Promise.resolve(m).then(K,n)}_e.exports=function ne(f){return function(){var ue=this,se=arguments;return new Promise(function(K,n){var I=f.apply(ue,se);function h(m){L(I,K,n,h,C,"next",m)}function C(m){L(I,K,n,h,C,"throw",m)}h(void 0)})}},_e.exports.__esModule=!0,_e.exports.default=_e.exports}}]);