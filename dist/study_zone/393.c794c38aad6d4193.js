var xt=Object.defineProperty,Et=(_e,k,te)=>k in _e?xt(_e,k,{enumerable:!0,configurable:!0,writable:!0,value:te}):_e[k]=te,qe=(_e,k,te)=>(Et(_e,"symbol"!=typeof k?k+"":k,te),te),$e=(_e,k,te)=>{if(!k.has(_e))throw TypeError("Cannot "+te)},Pe=(_e,k,te)=>($e(_e,k,"read from private field"),te?te.call(_e):k.get(_e)),Ee=(_e,k,te)=>{if(k.has(_e))throw TypeError("Cannot add the same private member more than once");k instanceof WeakSet?k.add(_e):k.set(_e,te)},Ne=(_e,k,te,p)=>($e(_e,k,"write to private field"),p?p.call(_e,te):k.set(_e,te),te),lt=(_e,k,te,p)=>({set _(ue){Ne(_e,k,ue,te)},get _(){return Pe(_e,k,p)}}),we=(_e,k,te)=>($e(_e,k,"access private method"),te);(self.webpackChunkstudy_zone=self.webpackChunkstudy_zone||[]).push([[393],{7393:(_e,k,te)=>{"use strict";te.r(k),te.d(k,{CoursesModule:()=>Be});var p=te(6895),ue=te(5243),ie=te(9938),K=te(2340),t=te(8256),I=te(2998),h=te(8606),P=te(433),m=te(3263);function g($,ge){if(1&$&&(t.TgZ(0,"span",32),t._uU(1),t.qZA()),2&$){const T=t.oxw().$implicit;t.xp6(1),t.AsE("",T.slideCount," ",T.slideCount<2?"lesson":"lessons","")}}function a($,ge){1&$&&(t.TgZ(0,"span",32),t._uU(1,"No lessons added"),t.qZA())}function b($,ge){1&$&&(t.TgZ(0,"span",33),t._uU(1,"Free"),t.qZA())}function i($,ge){1&$&&(t.TgZ(0,"span",34),t._uU(1,"Paid"),t.qZA())}function s($,ge){1&$&&(t.TgZ(0,"span",35),t._uU(1,"Private"),t.qZA())}function u($,ge){if(1&$){const T=t.EpF();t.TgZ(0,"div",20)(1,"div",21),t._UZ(2,"img",22),t.TgZ(3,"div",23)(4,"h5",24),t._uU(5),t.ALo(6,"titlecase"),t.qZA(),t.YNc(7,g,2,2,"span",25),t.YNc(8,a,2,0,"span",25),t.TgZ(9,"p",26),t._uU(10),t.qZA(),t.TgZ(11,"div",27),t.YNc(12,b,2,0,"span",28),t.YNc(13,i,2,0,"span",29),t.YNc(14,s,2,0,"span",30),t.TgZ(15,"a",31),t.NdJ("click",function(){const xe=t.CHM(T).$implicit,Me=t.oxw();return t.KtG(Me.viewDetails(xe))}),t._uU(16,"View Course"),t.qZA()()()()()}if(2&$){const T=ge.$implicit,X=t.oxw();t.xp6(2),t.Q6J("src",null!=T&&null!=T.cover&&T.cover.path?X.baseUrl+(null==T||null==T.cover?null:T.cover.path):"../assets/jillyAcadey.png",t.LSH),t.xp6(3),t.Oqu(t.lcZ(6,8,T.name)),t.xp6(2),t.Q6J("ngIf",T.slideCount),t.xp6(1),t.Q6J("ngIf",!T.slideCount),t.xp6(2),t.Oqu(T.description||"No description added"),t.xp6(2),t.Q6J("ngIf","public"==T.type),t.xp6(1),t.Q6J("ngIf","paid"==T.type),t.xp6(1),t.Q6J("ngIf","private"==T.type)}}function x($,ge){if(1&$){const T=t.EpF();t.TgZ(0,"a",31),t.NdJ("click",function(){t.CHM(T);const he=t.oxw();return t.KtG(he.getCourses())}),t._uU(1,"Load more"),t.qZA()}}let _=(()=>{class ${constructor(T,X,he,xe){this.router=T,this.apiService=X,this.formBuilder=he,this.errorHandlingService=xe,this.baseUrl=K.N.baseUrl,this.apiCallActive=!1,this.courses=[],this.totalCourses=0,this.pagination={page:1,limit:6},this.getCourses(),this.searchForm=this.formBuilder.group({type:[""],searchKey:[""]}),this.searchForm.valueChanges.pipe((0,ue.b)(500)).subscribe({next:Me=>{this.courses=[],this.pagination={page:1,limit:6},this.getCourses()}})}ngOnInit(){}viewDetails(T){this.router.navigate(["/dashboard/courses/course/"+T._id+"/details"])}toQueryString(T){let X="";return Object.keys(T).map((he,xe)=>{T[he]&&(X+=0===xe?"?":"&",X+=he+"="+T[he])}),X}getCourses(){this.apiCallActive=!0;let{page:T,limit:X}=this.pagination;this.apiService.get(ie.d.allCourses+this.toQueryString({page:T,limit:X,...this.searchForm?.value})).subscribe({next:({courses:he,pagination:xe,totalCourses:Me})=>{this.apiCallActive=!1,this.courses=[...this.courses,...he],this.pagination.page++,console.log(this.pagination),this.pagination={...this.pagination,...xe},this.totalCourses=Me},error:he=>{this.apiCallActive=!1,this.errorHandlingService.handle(he)}})}}return $.\u0275fac=function(T){return new(T||$)(t.Y36(I.F0),t.Y36(h.a),t.Y36(P.qu),t.Y36(m.r))},$.\u0275cmp=t.Xpm({type:$,selectors:[["app-all-courses"]],decls:32,vars:4,consts:[[1,"container"],[1,"row"],[1,"col","py-32"],[1,"col","py-32","form-style","ml-auto"],[1,"form-inline","justify-content-end","align-items-baseline",3,"formGroup"],[1,"form-group"],["formControlName","type",1,"form-control","all-courses"],["value",""],["value","public"],["value","private"],["value","paid"],[1,"form-group","has-search"],[1,"form-control-feedback"],["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12.0835 13.2603L9.08346 10.2603C8.66679 10.5936 8.18762 10.8575 7.64596 11.052C7.10429 11.2464 6.5279 11.3436 5.91679 11.3436C4.4029 11.3436 3.12179 10.8195 2.07346 9.77115C1.02457 8.72226 0.500122 7.44087 0.500122 5.92698C0.500122 4.41309 1.02457 3.1317 2.07346 2.08281C3.12179 1.03448 4.4029 0.510315 5.91679 0.510315C7.43068 0.510315 8.71207 1.03448 9.76096 2.08281C10.8093 3.1317 11.3335 4.41309 11.3335 5.92698C11.3335 6.53809 11.2362 7.11448 11.0418 7.65615C10.8473 8.19781 10.5835 8.67698 10.2501 9.09365L13.271 12.1145C13.4237 12.2673 13.5001 12.4548 13.5001 12.677C13.5001 12.8992 13.4168 13.0936 13.2501 13.2603C13.0973 13.4131 12.9029 13.4895 12.6668 13.4895C12.4307 13.4895 12.2362 13.4131 12.0835 13.2603ZM5.91679 9.67698C6.95846 9.67698 7.84401 9.31254 8.57346 8.58365C9.30234 7.8542 9.66679 6.96865 9.66679 5.92698C9.66679 4.88531 9.30234 3.99976 8.57346 3.27031C7.84401 2.54143 6.95846 2.17698 5.91679 2.17698C4.87512 2.17698 3.98957 2.54143 3.26012 3.27031C2.53123 3.99976 2.16679 4.88531 2.16679 5.92698C2.16679 6.96865 2.53123 7.8542 3.26012 8.58365C3.98957 9.31254 4.87512 9.67698 5.91679 9.67698Z","fill","#92929D"],["type","search","formControlName","searchKey","placeholder","Search course","id","InputPassword",1,"form-control","mt-2"],[1,"col"],["class","col-sm-6 col-md-6 col-lg-4  pt-16 pr-16 pl-0",4,"ngFor","ngForOf"],[1,"row","text-center"],["class","view-course",3,"click",4,"ngIf"],[1,"col-sm-6","col-md-6","col-lg-4","pt-16","pr-16","pl-0"],[1,"card","p-3"],["alt","...",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],["class","lesson",4,"ngIf"],[1,"card-text"],[1,"d-flex"],["class","badge badge-pill badge-success",4,"ngIf"],["class","badge badge-pill badge-danger",4,"ngIf"],["class","badge badge-pill badge-light",4,"ngIf"],[1,"view-course",3,"click"],[1,"lesson"],[1,"badge","badge-pill","badge-success"],[1,"badge","badge-pill","badge-danger"],[1,"badge","badge-pill","badge-light"]],template:function(T,X){1&T&&(t.TgZ(0,"main")(1,"div",0)(2,"div",1)(3,"div",2)(4,"h2"),t._uU(5,"All Courses"),t.qZA(),t.TgZ(6,"span"),t._uU(7),t.qZA()(),t.TgZ(8,"div",3)(9,"form",4)(10,"div",5)(11,"select",6)(12,"option",7),t._uU(13,"All"),t.qZA(),t.TgZ(14,"option",8),t._uU(15,"Free"),t.qZA(),t.TgZ(16,"option",9),t._uU(17,"Private"),t.qZA(),t.TgZ(18,"option",10),t._uU(19,"Paid"),t.qZA()()(),t.TgZ(20,"div",11)(21,"span",12),t.O4$(),t.TgZ(22,"svg",13),t._UZ(23,"path",14),t.qZA()(),t.kcU(),t._UZ(24,"input",15),t.qZA()()()(),t.TgZ(25,"div",1)(26,"div",16),t._UZ(27,"hr"),t.qZA()(),t.TgZ(28,"div",1),t.YNc(29,u,17,10,"div",17),t.qZA(),t.TgZ(30,"div",18),t.YNc(31,x,2,0,"a",19),t.qZA()()()),2&T&&(t.xp6(7),t.hij("",X.totalCourses," courses"),t.xp6(2),t.Q6J("formGroup",X.searchForm),t.xp6(20),t.Q6J("ngForOf",X.courses),t.xp6(2),t.Q6J("ngIf",X.pagination.totalPages&&X.pagination.totalPages!=X.pagination.currentPage))},dependencies:[p.sg,p.O5,P._Y,P.YN,P.Kr,P.Fj,P.EJ,P.JJ,P.JL,P.sg,P.u,p.rS],styles:[".card-img-top[_ngcontent-%COMP%]{height:213px!important}"]}),$})();var f=te(7071);function n($,ge){if(1&$&&(t.TgZ(0,"span",29),t._uU(1),t.qZA()),2&$){const T=t.oxw().$implicit;t.xp6(1),t.hij("",T.progress,"% Slides Completed")}}function r($,ge){1&$&&(t.TgZ(0,"span",29),t._uU(1,"Not started yet"),t.qZA())}function y($,ge){1&$&&(t.TgZ(0,"span",29),t._uU(1,"All Slides Completed"),t.qZA())}function A($,ge){if(1&$){const T=t.EpF();t.TgZ(0,"div",20),t.NdJ("click",function(){const xe=t.CHM(T).$implicit,Me=t.oxw();return t.KtG(Me.viewDetails(xe))}),t.TgZ(1,"div",21)(2,"div",1)(3,"div",22),t._UZ(4,"img",23),t.qZA(),t.TgZ(5,"div",16)(6,"div",24)(7,"h5",25),t._uU(8),t.ALo(9,"titlecase"),t.qZA(),t.TgZ(10,"div",26),t._UZ(11,"div",27),t.qZA(),t.YNc(12,n,2,1,"span",28),t.YNc(13,r,2,0,"span",28),t.YNc(14,y,2,0,"span",28),t.qZA()()()()()}if(2&$){const T=ge.$implicit,X=t.oxw();t.xp6(4),t.Q6J("src",null!=T&&null!=T.course&&null!=T.course.cover&&T.course.cover.path?X.baseUrl+(null==T||null==T.course||null==T.course.cover?null:T.course.cover.path):"../assets/jillyAcadey.png",t.LSH),t.xp6(4),t.Oqu(t.lcZ(9,7,null==T||null==T.course?null:T.course.name)),t.xp6(3),t.Udp("width",T.progress+"%"),t.xp6(1),t.Q6J("ngIf",T.progress&&100!=T.progress),t.xp6(1),t.Q6J("ngIf",!T.progress),t.xp6(1),t.Q6J("ngIf",T.progress&&100==T.progress)}}function v($,ge){if(1&$){const T=t.EpF();t.TgZ(0,"a",30),t.NdJ("click",function(){t.CHM(T);const he=t.oxw();return t.KtG(he.getCourses())}),t._uU(1,"Load more"),t.qZA()}}let L=(()=>{class ${constructor(T,X,he,xe){this.router=T,this.apiService=X,this.formBuilder=he,this.errorHandlingService=xe,this.baseUrl=K.N.baseUrl,this.apiCallActive=!1,this.courses=[],this.totalCourses=0,this.pagination={page:1,limit:6},this.getCourses(),this.searchForm=this.formBuilder.group({type:[""],searchKey:[""]}),this.searchForm.valueChanges.pipe((0,ue.b)(500)).subscribe({next:Me=>{this.courses=[],this.pagination={page:1,limit:6},this.getCourses()}})}toQueryString(T){let X="";return Object.keys(T).map((he,xe)=>{T[he]&&(X+=0===xe?"?":"&",X+=he+"="+T[he])}),X}ngOnInit(){}viewDetails(T){this.router.navigate([f.g.Pages.MY_COURSE_DETAILS.replace(":id",T.course._id)])}getCourses(){this.apiCallActive=!0;let{page:T,limit:X}=this.pagination;this.apiService.get(ie.d.myCourses+this.toQueryString({page:T,limit:X,...this.searchForm?.value})).subscribe({next:({courses:he,pagination:xe,totalCourses:Me})=>{this.apiCallActive=!1,this.courses=[...this.courses,...he],this.pagination.page++,this.pagination={...this.pagination,...xe},this.totalCourses=Me},error:he=>{this.apiCallActive=!1,this.errorHandlingService.handle(he)}})}}return $.\u0275fac=function(T){return new(T||$)(t.Y36(I.F0),t.Y36(h.a),t.Y36(P.qu),t.Y36(m.r))},$.\u0275cmp=t.Xpm({type:$,selectors:[["app-my-courses"]],decls:32,vars:5,consts:[[1,"container"],[1,"row"],[1,"col","py-32"],[1,"col","py-32","form-style","ml-auto"],[1,"form-inline","justify-content-end","align-items-baseline",3,"formGroup"],[1,"form-group"],["formControlName","type",1,"form-control","all-courses"],["value",""],["value","public"],["value","private"],["value","paid"],[1,"form-group","has-search"],[1,"form-control-feedback"],["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12.0835 13.2603L9.08346 10.2603C8.66679 10.5936 8.18762 10.8575 7.64596 11.052C7.10429 11.2464 6.5279 11.3436 5.91679 11.3436C4.4029 11.3436 3.12179 10.8195 2.07346 9.77115C1.02457 8.72226 0.500122 7.44087 0.500122 5.92698C0.500122 4.41309 1.02457 3.1317 2.07346 2.08281C3.12179 1.03448 4.4029 0.510315 5.91679 0.510315C7.43068 0.510315 8.71207 1.03448 9.76096 2.08281C10.8093 3.1317 11.3335 4.41309 11.3335 5.92698C11.3335 6.53809 11.2362 7.11448 11.0418 7.65615C10.8473 8.19781 10.5835 8.67698 10.2501 9.09365L13.271 12.1145C13.4237 12.2673 13.5001 12.4548 13.5001 12.677C13.5001 12.8992 13.4168 13.0936 13.2501 13.2603C13.0973 13.4131 12.9029 13.4895 12.6668 13.4895C12.4307 13.4895 12.2362 13.4131 12.0835 13.2603ZM5.91679 9.67698C6.95846 9.67698 7.84401 9.31254 8.57346 8.58365C9.30234 7.8542 9.66679 6.96865 9.66679 5.92698C9.66679 4.88531 9.30234 3.99976 8.57346 3.27031C7.84401 2.54143 6.95846 2.17698 5.91679 2.17698C4.87512 2.17698 3.98957 2.54143 3.26012 3.27031C2.53123 3.99976 2.16679 4.88531 2.16679 5.92698C2.16679 6.96865 2.53123 7.8542 3.26012 8.58365C3.98957 9.31254 4.87512 9.67698 5.91679 9.67698Z","fill","#92929D"],["type","search","formControlName","searchKey","placeholder","Search course","id","InputPassword",1,"form-control","mt-2"],[1,"col"],["class","col-sm-6 col-md-6 col-lg-4 mb-3 cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"row","text-center"],["class","view-course",3,"click",4,"ngIf"],[1,"col-sm-6","col-md-6","col-lg-4","mb-3","cursor-pointer",3,"click"],[1,"card","p-3","my-courses"],[1,"col-4"],["alt","...",1,"card-img-top",3,"src"],[1,"course-in-progress"],[1,"card-title"],[1,"progress"],["role","progressbar","aria-valuenow","45","aria-valuemin","0","aria-valuemax","100",1,"progress-bar"],["class","lesson",4,"ngIf"],[1,"lesson"],[1,"view-course",3,"click"]],template:function(T,X){1&T&&(t.TgZ(0,"main")(1,"div",0)(2,"div",1)(3,"div",2)(4,"h2"),t._uU(5,"My Courses"),t.qZA(),t.TgZ(6,"span"),t._uU(7),t.qZA()(),t.TgZ(8,"div",3)(9,"form",4)(10,"div",5)(11,"select",6)(12,"option",7),t._uU(13,"All"),t.qZA(),t.TgZ(14,"option",8),t._uU(15,"Free"),t.qZA(),t.TgZ(16,"option",9),t._uU(17,"Private"),t.qZA(),t.TgZ(18,"option",10),t._uU(19,"Paid"),t.qZA()()(),t.TgZ(20,"div",11)(21,"span",12),t.O4$(),t.TgZ(22,"svg",13),t._UZ(23,"path",14),t.qZA()(),t.kcU(),t._UZ(24,"input",15),t.qZA()()()(),t.TgZ(25,"div",1)(26,"div",16),t._UZ(27,"hr"),t.qZA()(),t.TgZ(28,"div",1),t.YNc(29,A,15,9,"div",17),t.qZA(),t.TgZ(30,"div",18),t.YNc(31,v,2,0,"a",19),t.qZA()()()),2&T&&(t.xp6(7),t.AsE("",X.totalCourses||0," ",X.totalCourses<2?"course":"courses",""),t.xp6(2),t.Q6J("formGroup",X.searchForm),t.xp6(20),t.Q6J("ngForOf",X.courses),t.xp6(2),t.Q6J("ngIf",X.pagination.totalPages&&X.pagination.totalPages!=X.pagination.currentPage))},dependencies:[p.sg,p.O5,P._Y,P.YN,P.Kr,P.Fj,P.EJ,P.JJ,P.JL,P.sg,P.u,p.rS],styles:[".card-img-top[_ngcontent-%COMP%]{height:76px!important}"]}),$})();function R($,ge){1&$&&(t.TgZ(0,"span",21),t._uU(1,"Free"),t.qZA())}function F($,ge){1&$&&(t.TgZ(0,"span",22),t._uU(1,"Paid"),t.qZA())}function B($,ge){1&$&&(t.TgZ(0,"span",23),t._uU(1,"Private"),t.qZA())}function H($,ge){if(1&$){const T=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){t.CHM(T);const he=t.oxw();return t.KtG(he.requestEnrollment())}),t._uU(1," Enroll Me "),t.qZA()}}function Y($,ge){if(1&$){const T=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){t.CHM(T);const he=t.oxw();return t.KtG(he.enrollCourse())}),t._uU(1,"Start Course"),t.qZA()}}function ee($,ge){1&$&&(t.TgZ(0,"i",25),t._uU(1,"Requested."),t.qZA())}function U($,ge){1&$&&(t.TgZ(0,"i",25),t._uU(1,"Sorry, unfortunately your enollment request have been declined by the Administrator."),t.qZA())}function Z($,ge){if(1&$){const T=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){t.CHM(T);const he=t.oxw();return t.KtG(he.resumeCourse())}),t._uU(1,"Resume"),t.qZA()}}let J=(()=>{class ${constructor(T,X,he,xe){this.router=T,this.activeRoute=X,this.apiService=he,this.errorHandlingService=xe,this.baseUrl=K.N.baseUrl,this.apiCallActive=!1,this.activeRoute.params.subscribe({next:Me=>{this.selectedCourseId=Me.id,this.getCourseDetails()}})}ngOnInit(){}back(){this.router.navigate(["/dashboard/courses/all-courses"])}getCourseDetails(){this.apiCallActive=!0,this.apiService.get(ie.d.getCourseDetails.replace(":id",this.selectedCourseId)).subscribe({next:T=>{this.apiCallActive=!1,this.courseDetails=T.course},error:T=>{this.apiCallActive=!1,this.errorHandlingService.handle(T)}})}requestEnrollment(){"pending"!=this.courseDetails.enrollemtStatus&&(this.apiCallActive=!0,this.apiService.post(ie.d.requestEnrollment.replace(":id",this.selectedCourseId),{}).subscribe({next:T=>{this.apiCallActive=!1,this.getCourseDetails()},error:T=>{this.apiCallActive=!1,this.errorHandlingService.handle(T)}}))}resumeCourse(){this.router.navigate([f.g.Pages.MY_COURSE_DETAILS.replace(":id",this.selectedCourseId)])}enrollCourse(){this.apiCallActive=!0,this.apiService.post(ie.d.enrollCourse.replace(":id",this.selectedCourseId),{}).subscribe({next:T=>{this.apiCallActive=!1,this.router.navigate([f.g.Pages.MY_COURSE_DETAILS.replace(":id",T.enrollment.course)])},error:T=>{this.apiCallActive=!1,this.errorHandlingService.handle(T)}})}}return $.\u0275fac=function(T){return new(T||$)(t.Y36(I.F0),t.Y36(I.gz),t.Y36(h.a),t.Y36(m.r))},$.\u0275cmp=t.Xpm({type:$,selectors:[["app-course-detail"]],decls:37,vars:16,consts:[[1,"container"],[1,"row"],[1,"col"],["aria-label","breadcrumb"],[1,"back-button",3,"click"],["width","7","height","12","viewBox","0 0 7 15","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M5.38247 10.9393L0.723485 6.37992C0.668185 6.32564 0.629107 6.26684 0.60625 6.20352C0.583024 6.14019 0.571411 6.07234 0.571411 5.99997C0.571411 5.9276 0.583024 5.85976 0.60625 5.79643C0.629107 5.73311 0.668185 5.6743 0.723485 5.62003L5.38247 1.04709C5.5115 0.920441 5.67279 0.857117 5.86634 0.857117C6.05989 0.857117 6.22579 0.924964 6.36404 1.06066C6.50229 1.19636 6.57141 1.35467 6.57141 1.53559C6.57141 1.71652 6.50229 1.87483 6.36404 2.01053L2.29952 5.99997L6.36404 9.98942C6.49307 10.1161 6.55759 10.272 6.55759 10.4573C6.55759 10.6429 6.48846 10.8036 6.35021 10.9393C6.21196 11.075 6.05067 11.1428 5.86634 11.1428C5.68201 11.1428 5.52072 11.075 5.38247 10.9393Z","fill","#3F3F3F"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"click"],["aria-current","page",1,"breadcrumb-item","active"],[1,"card-body"],[1,"card-title"],[1,"lesson"],[1,"d-flex"],["class","badge badge-pill badge-success",4,"ngIf"],["class","badge badge-pill badge-danger",4,"ngIf"],["class","badge badge-pill badge-light",4,"ngIf"],["class","btn enroll-btn",3,"click",4,"ngIf"],["class","badge-danger",4,"ngIf"],["alt","...",1,"card-img-top",3,"src"],[1,"badge","badge-pill","badge-success"],[1,"badge","badge-pill","badge-danger"],[1,"badge","badge-pill","badge-light"],[1,"btn","enroll-btn",3,"click"],[1,"badge-danger"]],template:function(T,X){1&T&&(t.TgZ(0,"main")(1,"div",0)(2,"div",1)(3,"div",2)(4,"nav",3)(5,"a",4),t.NdJ("click",function(){return X.back()}),t.O4$(),t.TgZ(6,"svg",5),t._UZ(7,"path",6),t.qZA(),t._uU(8,"\xa0 Back "),t.qZA(),t.kcU(),t.TgZ(9,"ol",7)(10,"li",8)(11,"a",9),t.NdJ("click",function(){return X.back()}),t._uU(12,"All Courses"),t.qZA()(),t.TgZ(13,"li",10),t._uU(14),t.ALo(15,"titlecase"),t.qZA()()()()(),t.TgZ(16,"section")(17,"div",1)(18,"div",2)(19,"div",11)(20,"h3",12),t._uU(21),t.ALo(22,"titlecase"),t.qZA(),t._UZ(23,"span",13),t.TgZ(24,"div",14),t.YNc(25,R,2,0,"span",15),t.YNc(26,F,2,0,"span",16),t.YNc(27,B,2,0,"span",17),t.qZA(),t.TgZ(28,"p"),t._uU(29),t.qZA(),t.YNc(30,H,2,0,"button",18),t.YNc(31,Y,2,0,"button",18),t.YNc(32,ee,2,0,"i",19),t.YNc(33,U,2,0,"i",19),t.YNc(34,Z,2,0,"button",18),t.qZA()(),t.TgZ(35,"div",2),t._UZ(36,"img",20),t.qZA()()()()()),2&T&&(t.xp6(14),t.Oqu(t.lcZ(15,12,X.courseDetails.name)),t.xp6(7),t.Oqu(t.lcZ(22,14,X.courseDetails.name)),t.xp6(4),t.Q6J("ngIf","public"==X.courseDetails.type),t.xp6(1),t.Q6J("ngIf","paid"==X.courseDetails.type),t.xp6(1),t.Q6J("ngIf","private"==X.courseDetails.type),t.xp6(2),t.Oqu(X.courseDetails.description||"No description added"),t.xp6(1),t.Q6J("ngIf","paid"==X.courseDetails.type&&"not_enrolled"==X.courseDetails.enrollmentStatus),t.xp6(1),t.Q6J("ngIf",!X.courseDetails.hasAlreadyStarted&&"public"==X.courseDetails.type),t.xp6(1),t.Q6J("ngIf","paid"==X.courseDetails.type&&"pending"==X.courseDetails.enrollmentStatus),t.xp6(1),t.Q6J("ngIf","paid"==X.courseDetails.type&&"declined"==X.courseDetails.enrollmentStatus),t.xp6(1),t.Q6J("ngIf",X.courseDetails.hasAlreadyStarted||"private"==X.courseDetails.type||"paid"==X.courseDetails.type&&"accepted"==X.courseDetails.enrollmentStatus),t.xp6(2),t.Q6J("src",null!=X.courseDetails&&null!=X.courseDetails.cover&&X.courseDetails.cover.path?X.baseUrl+(null==X.courseDetails||null==X.courseDetails.cover?null:X.courseDetails.cover.path):"../assets/jillyAcadey.png",t.LSH))},dependencies:[p.O5,p.rS]}),$})();var re=te(8421),le=te(9751),M=te(5577),o=te(1144),c=te(576),e=te(3268);const l=["addListener","removeListener"],d=["addEventListener","removeEventListener"],w=["on","off"];function C($,ge,T,X){if((0,c.m)(T)&&(X=T,T=void 0),X)return C($,ge,T).pipe((0,e.Z)(X));const[he,xe]=function j($){return(0,c.m)($.addEventListener)&&(0,c.m)($.removeEventListener)}($)?d.map(Me=>Oe=>$[Me](ge,Oe,T)):function V($){return(0,c.m)($.addListener)&&(0,c.m)($.removeListener)}($)?l.map(E($,ge)):function W($){return(0,c.m)($.on)&&(0,c.m)($.off)}($)?w.map(E($,ge)):[];if(!he&&(0,o.z)($))return(0,M.z)(Me=>C(Me,ge,T))((0,re.Xf)($));if(!he)throw new TypeError("Invalid event target");return new le.y(Me=>{const Oe=(...Ve)=>Me.next(1<Ve.length?Ve:Ve[0]);return he(Oe),()=>xe(Oe)})}function E($,ge){return T=>X=>$[T](ge,X)}var z=te(7579),Q=te(2076),se=te(4482),fe=te(5403),Se=te(5032);function G($){return(0,se.e)((ge,T)=>{(0,re.Xf)($).subscribe((0,fe.x)(T,()=>T.complete(),Se.Z)),!T.closed&&ge.subscribe(T)})}var oe=te(9300),ae=te(6036),S=te.t(ae,2),N=te(2813),q=te.t(N,2);const Ae=["pdfViewerContainer"];function Ce($,ge,T){$[ge]=T}function ye(){return typeof window>"u"}ye()||Ce(S,"verbosity",ae.VerbosityLevel.INFOS);var Te=(()=>{return($=Te||(Te={}))[$.DISABLED=0]="DISABLED",$[$.ENABLED=1]="ENABLED",$[$.ENHANCED=2]="ENHANCED",Te;var $})();let Le=(()=>{class ${constructor(T,X){if(this.element=T,this.ngZone=X,this.isVisible=!1,this._cMapsUrl=typeof S<"u"?`https://unpkg.com/pdfjs-dist@${ae.version}/cmaps/`:null,this._imageResourcesPath=typeof S<"u"?`https://unpkg.com/pdfjs-dist@${ae.version}/web/images/`:null,this._renderText=!0,this._renderTextMode=Te.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new z.x,this.afterLoadComplete=new t.vpe,this.pageRendered=new t.vpe,this.pageInitialized=new t.vpe,this.textLayerRendered=new t.vpe,this.onError=new t.vpe,this.onProgress=new t.vpe,this.pageChange=new t.vpe(!0),ye())return;let he;const xe=ae.version;he=window[`pdfWorkerSrc${xe}`]||(window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${xe}/legacy/build/pdf.worker.min.js`),Ce(ae.GlobalWorkerOptions,"workerSrc",he)}set cMapsUrl(T){this._cMapsUrl=T}set page(T){const X=T=parseInt(T,10)||1;this._pdf&&(T=this.getValidPageNumber(T)),this._page=T,X!==T&&this.pageChange.emit(T)}set renderText(T){this._renderText=T}set renderTextMode(T){this._renderTextMode=T}set originalSize(T){this._originalSize=T}set showAll(T){this._showAll=T}set stickToPage(T){this._stickToPage=T}set zoom(T){T<=0||(this._zoom=T)}get zoom(){return this._zoom}set zoomScale(T){this._zoomScale=T}get zoomScale(){return this._zoomScale}set rotation(T){"number"==typeof T&&T%90==0?this._rotation=T:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(T){this._externalLinkTarget=T}set autoresize(T){this._canAutoResize=Boolean(T)}set fitToPage(T){this._fitToPage=Boolean(T)}set showBorders(T){this._showBorders=Boolean(T)}static getLinkTarget(T){switch(T){case"blank":return N.LinkTarget.BLANK;case"none":return N.LinkTarget.NONE;case"self":return N.LinkTarget.SELF;case"parent":return N.LinkTarget.PARENT;case"top":return N.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const T=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=T?!1===this.isVisible&&null!=T&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(T){if(!ye()&&this.isVisible)if("src"in T)this.loadPDF();else if(this._pdf){if("renderText"in T?(this.pdfViewer.textLayerMode=this._renderText?this._renderTextMode:Te.DISABLED,this.resetPdfDocument()):"showAll"in T&&(this.setupViewer(),this.resetPdfDocument()),"page"in T){const{page:X}=T;if(X.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){(0,Q.D)(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe(G(this.destroy$)).subscribe({next:T=>{const X=this._rotation+T.rotate,he=T.getViewport({scale:this._zoom,rotation:X}).width*$.CSS_UNITS;let xe=this._zoom,Me=!0;if(!this._originalSize||this._fitToPage&&he>this.pdfViewerContainer.nativeElement.clientWidth){const Oe=T.getViewport({scale:1,rotation:X});xe=this.getScale(Oe.width,Oe.height),Me=!this._stickToPage}this.pdfViewer._setScale(xe,Me)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._latestScrolledPage=0,this._pdf.destroy(),this._pdf=null,this.pdfViewer.setDocument(null),this.pdfLinkService.setDocument(null,null),this.pdfFindController.setDocument(null))}getPDFLinkServiceConfig(){const T=$.getLinkTarget(this._externalLinkTarget);return T?{externalLinkTarget:T}:{}}initEventBus(){this.eventBus=function me($,ge){const T=new $.EventBus;return function pe($,ge){C($,"documentload").pipe(G(ge)).subscribe(()=>{const T=document.createEvent("CustomEvent");T.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(T)}),C($,"pagerendered").pipe(G(ge)).subscribe(({pageNumber:T,cssTransform:X,source:he})=>{const xe=document.createEvent("CustomEvent");xe.initCustomEvent("pagerendered",!0,!0,{pageNumber:T,cssTransform:X}),he.div.dispatchEvent(xe)}),C($,"textlayerrendered").pipe(G(ge)).subscribe(({pageNumber:T,source:X})=>{const he=document.createEvent("CustomEvent");he.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:T}),X.textLayerDiv.dispatchEvent(he)}),C($,"pagechanging").pipe(G(ge)).subscribe(({pageNumber:T,source:X})=>{const he=document.createEvent("UIEvents");he.initEvent("pagechanging",!0,!0),he.pageNumber=T,X.container.dispatchEvent(he)}),C($,"pagesinit").pipe(G(ge)).subscribe(({source:T})=>{const X=document.createEvent("CustomEvent");X.initCustomEvent("pagesinit",!0,!0,null),T.container.dispatchEvent(X)}),C($,"pagesloaded").pipe(G(ge)).subscribe(({pagesCount:T,source:X})=>{const he=document.createEvent("CustomEvent");he.initCustomEvent("pagesloaded",!0,!0,{pagesCount:T}),X.container.dispatchEvent(he)}),C($,"scalechange").pipe(G(ge)).subscribe(({scale:T,presetValue:X,source:he})=>{const xe=document.createEvent("UIEvents");xe.initEvent("scalechange",!0,!0),xe.scale=T,xe.presetValue=X,he.container.dispatchEvent(xe)}),C($,"updateviewarea").pipe(G(ge)).subscribe(({location:T,source:X})=>{const he=document.createEvent("UIEvents");he.initEvent("updateviewarea",!0,!0),he.location=T,X.container.dispatchEvent(he)}),C($,"find").pipe(G(ge)).subscribe(({source:T,type:X,query:he,phraseSearch:xe,caseSensitive:Me,highlightAll:Oe,findPrevious:Ve})=>{if(T===window)return;const je=document.createEvent("CustomEvent");je.initCustomEvent("find"+X,!0,!0,{query:he,phraseSearch:xe,caseSensitive:Me,highlightAll:Oe,findPrevious:Ve}),window.dispatchEvent(je)}),C($,"attachmentsloaded").pipe(G(ge)).subscribe(({attachmentsCount:T,source:X})=>{const he=document.createEvent("CustomEvent");he.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:T}),X.container.dispatchEvent(he)}),C($,"sidebarviewchanged").pipe(G(ge)).subscribe(({view:T,source:X})=>{const he=document.createEvent("CustomEvent");he.initCustomEvent("sidebarviewchanged",!0,!0,{view:T}),X.outerContainer.dispatchEvent(he)}),C($,"pagemode").pipe(G(ge)).subscribe(({mode:T,source:X})=>{const he=document.createEvent("CustomEvent");he.initCustomEvent("pagemode",!0,!0,{mode:T}),X.pdfViewer.container.dispatchEvent(he)}),C($,"namedaction").pipe(G(ge)).subscribe(({action:T,source:X})=>{const he=document.createEvent("CustomEvent");he.initCustomEvent("namedaction",!0,!0,{action:T}),X.pdfViewer.container.dispatchEvent(he)}),C($,"presentationmodechanged").pipe(G(ge)).subscribe(({active:T,switchInProgress:X})=>{const he=document.createEvent("CustomEvent");he.initCustomEvent("presentationmodechanged",!0,!0,{active:T,switchInProgress:X}),window.dispatchEvent(he)}),C($,"outlineloaded").pipe(G(ge)).subscribe(({outlineCount:T,source:X})=>{const he=document.createEvent("CustomEvent");he.initCustomEvent("outlineloaded",!0,!0,{outlineCount:T}),X.container.dispatchEvent(he)})}(T,ge),T}(q,this.destroy$),C(this.eventBus,"pagerendered").pipe(G(this.destroy$)).subscribe(T=>{this.pageRendered.emit(T)}),C(this.eventBus,"pagesinit").pipe(G(this.destroy$)).subscribe(T=>{this.pageInitialized.emit(T)}),C(this.eventBus,"pagechanging").pipe(G(this.destroy$)).subscribe(({pageNumber:T})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=T,this.pageChange.emit(T)},100)}),C(this.eventBus,"textlayerrendered").pipe(G(this.destroy$)).subscribe(T=>{this.textLayerRendered.emit(T)})}initPDFServices(){this.pdfLinkService=new N.PDFLinkService({eventBus:this.eventBus,...this.getPDFLinkServiceConfig()}),this.pdfFindController=new N.PDFFindController({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:Te.DISABLED,findController:this.pdfFindController,renderer:"canvas",l10n:void 0,imageResourcesPath:this._imageResourcesPath}}setupViewer(){Ce(S,"disableTextLayer",!this._renderText),this.initPDFServices(),this.pdfViewer=this._showAll?new N.PDFViewer(this.getPDFOptions()):new N.PDFSinglePageViewer(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(T){return T<1?1:T>this._pdf.numPages?this._pdf.numPages:T}getDocumentParams(){const T=typeof this.src;if(!this._cMapsUrl)return this.src;const X={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0};return"string"===T?X.url=this.src:"object"===T&&(void 0!==this.src.byteLength?X.data=this.src:Object.assign(X,this.src)),X}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.setupViewer(),this.loadingTask=ae.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=X=>{this.onProgress.emit(X)};const T=this.src;(0,Q.D)(this.loadingTask.promise).pipe(G(this.destroy$)).subscribe({next:X=>{this._pdf=X,this.lastLoaded=T,this.afterLoadComplete.emit(X),this.resetPdfDocument(),this.update()},error:X=>{this.lastLoaded=null,this.onError.emit(X)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page),(0!==this._rotation||this.pdfViewer.pagesRotation!==this._rotation)&&setTimeout(()=>{this.pdfViewer.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.updateSize()}getScale(T,X){const he=this._showBorders?2*$.BORDER_WIDTH:0,xe=this.pdfViewerContainer.nativeElement.clientWidth-he,Me=this.pdfViewerContainer.nativeElement.clientHeight-he;if(0===Me||0===X||0===xe||0===T)return 1;let Oe=1;switch(this._zoomScale){case"page-fit":Oe=Math.min(Me/X,xe/T);break;case"page-height":Oe=Me/X;break;default:Oe=xe/T}return this._zoom*Oe/$.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){ye()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){ye()||this.ngZone.runOutsideAngular(()=>{C(window,"resize").pipe((0,ue.b)(100),(0,oe.h)(()=>this._canAutoResize&&!!this._pdf),G(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return $.CSS_UNITS=96/72,$.BORDER_WIDTH=9,$.\u0275fac=function(T){return new(T||$)(t.Y36(t.SBq),t.Y36(t.R0b))},$.\u0275cmp=t.Xpm({type:$,selectors:[["pdf-viewer"]],viewQuery:function(T,X){if(1&T&&t.Gf(Ae,5),2&T){let he;t.iGM(he=t.CRH())&&(X.pdfViewerContainer=he.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[t.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(T,X){1&T&&(t.TgZ(0,"div",0,1),t._UZ(2,"div",2),t.qZA())},styles:[".ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--zoom-factor: 1;--viewport-scale-factor: 1;--shadow: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=);--viewer-container-height: 0;--annotation-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\");--xfa-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\")}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 9px auto 0;--page-border: none;--spreadHorizontalWrapped-margin-LR: 4.5px}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:blue}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{position:relative;top:0;left:0;z-index:-1}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:yellow;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:\"\";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid #333333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:blue}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-feature-settings:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-feature-settings:\"kern\" off;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:1px;text-overflow:\"\"}}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);background-clip:content-box;border-image:var(--shadow) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}"]}),$})(),De=(()=>{class ${}return $.\u0275fac=function(T){return new(T||$)},$.\u0275mod=t.oAB({type:$}),$.\u0275inj=t.cJS({}),$})();function ne($,ge){if(1&$){const T=t.EpF();t.TgZ(0,"a",24),t.NdJ("click",function(){t.CHM(T);const he=t.oxw();return t.KtG(he.nextSlide())}),t._uU(1,"Next \xa0 "),t.O4$(),t.TgZ(2,"svg",25),t._UZ(3,"path",26),t.qZA()()}}function O($,ge){if(1&$){const T=t.EpF();t.TgZ(0,"a",4),t.NdJ("click",function(){t.CHM(T);const he=t.oxw();return t.KtG(he.finishCourse())}),t._uU(1,"Finish"),t.qZA()}if(2&$){const T=t.oxw();t.ekj("ml-auto",100==T.percentComplete&&T.slideDetails.position==T.slides.length)}}function D($,ge){1&$&&(t.O4$(),t.TgZ(0,"svg",14),t._UZ(1,"path",33),t.qZA())}function ce($,ge){1&$&&(t.O4$(),t.TgZ(0,"svg",14),t._UZ(1,"circle",34),t.qZA())}function de($,ge){1&$&&t._UZ(0,"div",35)}function be($,ge){if(1&$){const T=t.EpF();t.TgZ(0,"div",27)(1,"div",28)(2,"div",29),t.YNc(3,D,2,0,"svg",30),t.YNc(4,ce,2,0,"svg",30),t._uU(5," \xa0 "),t.qZA(),t.YNc(6,de,1,0,"div",31),t.qZA(),t.TgZ(7,"div",32),t.NdJ("click",function(){const xe=t.CHM(T).$implicit,Me=t.oxw();return t.KtG(Me.getSlideDetails(xe))}),t._uU(8),t.ALo(9,"titlecase"),t.qZA()()}if(2&$){const T=ge.$implicit,X=ge.index,he=t.oxw();t.xp6(3),t.Q6J("ngIf",T.isCompleted),t.xp6(1),t.Q6J("ngIf",!T.isCompleted),t.xp6(2),t.Q6J("ngIf",X+1<he.slides.length),t.xp6(1),t.ekj("active",he.selectedSlideId==T._id),t.xp6(1),t.hij(" ",t.lcZ(9,6,null==T?null:T.name)," ")}}function ve($,ge){if(1&$&&(t.TgZ(0,"video",36),t._UZ(1,"source",37),t._uU(2," Your browser does not support the video tag. "),t.qZA()),2&$){const T=t.oxw();t.xp6(1),t.Q6J("src",T.baseUrl+(null==T.slideDetails||null==T.slideDetails.file?null:T.slideDetails.file.path),t.LSH)}}function ke($,ge){if(1&$&&(t.TgZ(0,"audio",38),t._UZ(1,"source",39),t._uU(2," Sorry, your browser does not support the audio element. "),t.qZA()),2&$){const T=t.oxw();t.xp6(1),t.Q6J("src",T.baseUrl+(null==T.slideDetails||null==T.slideDetails.file?null:T.slideDetails.file.path),t.LSH)}}function Re($,ge){if(1&$&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&$){const T=t.oxw();t.xp6(1),t.Oqu(null==T.slideDetails?null:T.slideDetails.text)}}function Ie($,ge){if(1&$&&t._UZ(0,"pdf-viewer",40),2&$){const T=t.oxw();t.Q6J("src",T.baseUrl+(null==T.slideDetails||null==T.slideDetails.file?null:T.slideDetails.file.path))("render-text",!0)("original-size",!1)}}let Fe=(()=>{class ${constructor(T,X,he,xe,Me){this.router=T,this.activeRoute=X,this.apiService=he,this.errorHandlingService=xe,this._location=Me,this.baseUrl=K.N.baseUrl,this.pdfSrc="https://vadimdez.github.io/ng2-pdf-viewer/assets/pdf-test.pdf",this.apiCallActive=!1,this.slides=[],this.slideDetails={},this.percentComplete=0,this.activeRoute.params.subscribe({next:Oe=>{this.selectedCourseId=Oe.id,this.getCourseDetails()}})}ngOnInit(){}back(){this.router.navigate(["/dashboard/courses/my-courses"])}getCourseDetails(){this.apiCallActive=!0,this.apiService.get(ie.d.getMyCourseDetails.replace(":id",this.selectedCourseId)).subscribe({next:T=>{this.apiCallActive=!1,this.courseDetails=T.courseDetails,this.getProgress(),this.slides=T.slides},error:T=>{this.apiCallActive=!1,this.errorHandlingService.handle(T)}})}getSlideDetails(T){this.slideDetails?._id&&(this.slideDetails.isCompleted||this.markProgress(this.slideDetails,!0)),this.apiCallActive=!0,this.apiService.get(ie.d.getSlideDetails.replace(":id",this.selectedCourseId).replace(":slideid",T._id)).subscribe({next:X=>{this.apiCallActive=!1,this.slideDetails=X.slide,console.log(this.slideDetails),this.selectedSlideId=this.slideDetails._id,this._location.go(f.g.Pages.SLIDE_DETAILS.replace(":id",this.selectedCourseId).replace(":slideid",this.selectedSlideId)),console.log(this.slideDetails.name," = getSlideDetails:isCompleted = ",this.slideDetails.isCompleted),this.slideDetails.isCompleted||this.markProgress(this.slideDetails)},error:X=>{this.apiCallActive=!1,this.errorHandlingService.handle(X)}})}markProgress(T,X=!1){this.apiService.post(ie.d.markProgress.replace(":id",this.selectedCourseId).replace(":slideid",T._id),{isCompleted:X}).subscribe({next:he=>{this.slides[T.position-1].isCompleted=he.progress.isCompleted,this.getProgress()},error:he=>{this.errorHandlingService.handle(he)}})}getProgress(){this.apiService.get(ie.d.getProgress.replace(":id",this.selectedCourseId)).subscribe({next:({progress:T,percentComplete:X})=>{if(this.progress=T,this.percentComplete=X,!this.slideDetails._id){let he=T[0]?T[0].slide:this.slides[0];this.getSlideDetails(he),this.selectedSlideId=he._id,this._location.go(f.g.Pages.SLIDE_DETAILS.replace(":id",this.selectedCourseId).replace(":slideid",this.selectedSlideId))}},error:T=>{this.errorHandlingService.handle(T)}})}nextSlide(){let T=this.slides.filter(X=>this.slideDetails.position+1==X.position)[0];T&&(this.markProgress(this.slideDetails,!0),this.getSlideDetails(T))}finishCourse(){this.back()}}return $.\u0275fac=function(T){return new(T||$)(t.Y36(I.F0),t.Y36(I.gz),t.Y36(h.a),t.Y36(m.r),t.Y36(p.Ye))},$.\u0275cmp=t.Xpm({type:$,selectors:[["app-my-courses-details"]],decls:37,vars:13,consts:[[1,"container"],[1,"row"],[1,"col"],["aria-label","breadcrumb"],[1,"back-button",3,"click"],["width","7","height","12","viewBox","0 0 7 15","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M5.38247 10.9393L0.723485 6.37992C0.668185 6.32564 0.629107 6.26684 0.60625 6.20352C0.583024 6.14019 0.571411 6.07234 0.571411 5.99997C0.571411 5.9276 0.583024 5.85976 0.60625 5.79643C0.629107 5.73311 0.668185 5.6743 0.723485 5.62003L5.38247 1.04709C5.5115 0.920441 5.67279 0.857117 5.86634 0.857117C6.05989 0.857117 6.22579 0.924964 6.36404 1.06066C6.50229 1.19636 6.57141 1.35467 6.57141 1.53559C6.57141 1.71652 6.50229 1.87483 6.36404 2.01053L2.29952 5.99997L6.36404 9.98942C6.49307 10.1161 6.55759 10.272 6.55759 10.4573C6.55759 10.6429 6.48846 10.8036 6.35021 10.9393C6.21196 11.075 6.05067 11.1428 5.86634 11.1428C5.68201 11.1428 5.52072 11.075 5.38247 10.9393Z","fill","#3F3F3F"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"click"],["aria-current","page",1,"breadcrumb-item","active"],["class","back-button ml-auto",3,"click",4,"ngIf"],["class","back-button",3,"ml-auto","click",4,"ngIf"],[1,"download"],["width","16","height","16","viewBox","0 0 16 16","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8 11.575C7.86667 11.575 7.74167 11.554 7.625 11.512C7.50833 11.4707 7.4 11.4 7.3 11.3L3.7 7.7C3.51667 7.51667 3.425 7.28333 3.425 7C3.425 6.71667 3.51667 6.48333 3.7 6.3C3.88333 6.11667 4.12067 6.02067 4.412 6.012C4.704 6.004 4.94167 6.09167 5.125 6.275L7 8.15V1C7 0.716667 7.096 0.479 7.288 0.287C7.47933 0.0956668 7.71667 0 8 0C8.28333 0 8.521 0.0956668 8.713 0.287C8.90433 0.479 9 0.716667 9 1V8.15L10.875 6.275C11.0583 6.09167 11.296 6.004 11.588 6.012C11.8793 6.02067 12.1167 6.11667 12.3 6.3C12.4833 6.48333 12.575 6.71667 12.575 7C12.575 7.28333 12.4833 7.51667 12.3 7.7L8.7 11.3C8.6 11.4 8.49167 11.4707 8.375 11.512C8.25833 11.554 8.13333 11.575 8 11.575ZM2 16C1.45 16 0.979333 15.8043 0.588 15.413C0.196 15.021 0 14.55 0 14V12C0 11.7167 0.0956668 11.479 0.287 11.287C0.479 11.0957 0.716667 11 1 11C1.28333 11 1.521 11.0957 1.713 11.287C1.90433 11.479 2 11.7167 2 12V14H14V12C14 11.7167 14.096 11.479 14.288 11.287C14.4793 11.0957 14.7167 11 15 11C15.2833 11 15.5207 11.0957 15.712 11.287C15.904 11.479 16 11.7167 16 12V14C16 14.55 15.8043 15.021 15.413 15.413C15.021 15.8043 14.55 16 14 16H2Z","fill","#3F3F3F"],[1,"p-0","bg-gray","mt-2"],[1,"col-3"],[1,"stepper","d-flex","flex-column","ml-2"],["class","align-items-baseline d-flex mt-n5",4,"ngFor","ngForOf"],["width","100%","height","340","controls","","autoplay","",4,"ngIf"],["controls","","width","100%","height","340","autoplay","",4,"ngIf"],[4,"ngIf"],["style","width: 100%; height: 555px",3,"src","render-text","original-size",4,"ngIf"],[1,"back-button","ml-auto",3,"click"],["width","7","height","12","viewBox","0 0 7 12","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M1.6175 1.06068L6.27648 5.62005C6.33178 5.67433 6.37086 5.73313 6.39372 5.79645C6.41695 5.85978 6.42856 5.92763 6.42856 6C6.42856 6.07237 6.41695 6.14021 6.39372 6.20354C6.37086 6.26686 6.33178 6.32567 6.27648 6.37994L1.6175 10.9529C1.48847 11.0795 1.32718 11.1429 1.13363 11.1429C0.940079 11.1429 0.77418 11.075 0.635931 10.9393C0.497683 10.8036 0.428558 10.6453 0.428558 10.4644C0.428558 10.2834 0.497683 10.1251 0.635931 9.98944L4.70045 6L0.635931 2.01055C0.506899 1.8839 0.442383 1.72794 0.442383 1.54267C0.442383 1.35704 0.511507 1.19638 0.649756 1.06068C0.788005 0.924987 0.949295 0.857139 1.13363 0.857139C1.31796 0.857139 1.47925 0.924987 1.6175 1.06068Z","fill","#3F3F3F"],[1,"align-items-baseline","d-flex","mt-n5"],[1,"d-flex","flex-column","pr-4","align-items-center"],[1,"mentor-detail"],["width","16","height","16","viewBox","0 0 16 16","fill","none","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["class","line h-100",4,"ngIf"],[1,"mt-2px","cursor-pointer","slide-name",3,"click"],["fill-rule","evenodd","clip-rule","evenodd","d","M16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8ZM11.2243 5.57574C11.4586 5.81005 11.4586 6.18995 11.2243 6.42426L7.22426 10.4243C6.98995 10.6586 6.61005 10.6586 6.37574 10.4243L4.77574 8.82426C4.54142 8.58995 4.54142 8.21005 4.77574 7.97574C5.01005 7.74142 5.38995 7.74142 5.62426 7.97574L6.8 9.15147L8.58787 7.3636L10.3757 5.57574C10.6101 5.34142 10.9899 5.34142 11.2243 5.57574Z","fill","#00CD83"],["cx","8","cy","8","r","7.25","fill","white","stroke","#7B8392","stroke-width","1.5"],[1,"line","h-100"],["width","100%","height","340","controls","","autoplay",""],["type","video/mp4",3,"src"],["controls","","width","100%","height","340","autoplay",""],[3,"src"],[2,"width","100%","height","555px",3,"src","render-text","original-size"]],template:function(T,X){1&T&&(t.TgZ(0,"main")(1,"div",0)(2,"div",1)(3,"div",2)(4,"nav",3)(5,"a",4),t.NdJ("click",function(){return X.back()}),t.O4$(),t.TgZ(6,"svg",5),t._UZ(7,"path",6),t.qZA(),t._uU(8," \xa0 Back"),t.qZA(),t.kcU(),t.TgZ(9,"ol",7)(10,"li",8)(11,"a",9),t.NdJ("click",function(){return X.back()}),t._uU(12,"My Courses"),t.qZA()(),t.TgZ(13,"li",10),t._uU(14),t.ALo(15,"titlecase"),t.qZA()(),t.YNc(16,ne,4,0,"a",11),t.YNc(17,O,2,2,"a",12),t.TgZ(18,"a",13),t.O4$(),t.TgZ(19,"svg",14),t._UZ(20,"path",15),t.qZA()()()()(),t.kcU(),t._UZ(21,"hr"),t.TgZ(22,"section",16)(23,"div",1)(24,"div",17)(25,"article")(26,"div",18),t.YNc(27,be,10,8,"div",19),t.qZA()()(),t.TgZ(28,"div",2)(29,"section")(30,"h3"),t._uU(31),t.ALo(32,"titlecase"),t.qZA(),t.YNc(33,ve,3,1,"video",20),t.YNc(34,ke,3,1,"audio",21),t.YNc(35,Re,2,1,"p",22),t.YNc(36,Ie,1,3,"pdf-viewer",23),t.qZA()()()()()()),2&T&&(t.xp6(14),t.Oqu(t.lcZ(15,9,null==X.courseDetails?null:X.courseDetails.name)),t.xp6(2),t.Q6J("ngIf",X.slideDetails.position!=X.slides.length),t.xp6(1),t.Q6J("ngIf",100==X.percentComplete),t.xp6(10),t.Q6J("ngForOf",X.slides),t.xp6(4),t.Oqu(t.lcZ(32,11,null==X.slideDetails?null:X.slideDetails.name)),t.xp6(2),t.Q6J("ngIf","video"==(null==X.slideDetails?null:X.slideDetails.type)),t.xp6(1),t.Q6J("ngIf","audio"==(null==X.slideDetails?null:X.slideDetails.type)),t.xp6(1),t.Q6J("ngIf","text"==(null==X.slideDetails?null:X.slideDetails.type)),t.xp6(1),t.Q6J("ngIf","pdf"==(null==X.slideDetails?null:X.slideDetails.type)))},dependencies:[p.sg,p.O5,Le,p.rS],styles:[".slide-name.active[_ngcontent-%COMP%]{font-size:18px}"]}),$})();const Ue=[{path:"all",component:_},{path:"course/:id/details",component:J},{path:"my-courses",component:L},{path:"my-course/:id/details",component:Fe},{path:"my-course/:id/slide/:slideid",component:Fe},{path:"**",redirectTo:"all"}];let Be=(()=>{class ${}return $.\u0275fac=function(T){return new(T||$)},$.\u0275mod=t.oAB({type:$}),$.\u0275inj=t.cJS({imports:[I.Bz,I.Bz.forChild(Ue),p.ez,P.UX,P.u5,De]}),$})()},6036:function(module,__unused_webpack_exports,__webpack_require__){var _asyncToGenerator=__webpack_require__(7156).default,te;te=()=>(()=>{"use strict";var __webpack_modules__=[,(_e,k,te)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.VerbosityLevel=k.Util=k.UnknownErrorException=k.UnexpectedResponseException=k.UNSUPPORTED_FEATURES=k.TextRenderingMode=k.StreamType=k.RenderingIntentFlag=k.PermissionFlag=k.PasswordResponses=k.PasswordException=k.PageActionEventType=k.OPS=k.MissingPDFException=k.InvalidPDFException=k.ImageKind=k.IDENTITY_MATRIX=k.FormatError=k.FontType=k.FeatureTest=k.FONT_IDENTITY_MATRIX=k.DocumentActionEventType=k.CMapCompressionType=k.BaseException=k.AnnotationType=k.AnnotationStateModelType=k.AnnotationReviewState=k.AnnotationReplyType=k.AnnotationMode=k.AnnotationMarkedState=k.AnnotationFlag=k.AnnotationFieldFlag=k.AnnotationBorderStyleType=k.AnnotationActionEventType=k.AbortException=void 0,k.arrayByteLength=W,k.arraysToBytes=function j(ne){const O=ne.length;if(1===O&&ne[0]instanceof Uint8Array)return ne[0];let D=0;for(let be=0;be<O;be++)D+=W(ne[be]);let ce=0;const de=new Uint8Array(D);for(let be=0;be<O;be++){let ve=ne[be];ve instanceof Uint8Array||(ve="string"==typeof ve?V(ve):new Uint8Array(ve));const ke=ve.byteLength;de.set(ve,ce),ce+=ke}return de},k.assert=function Z(ne,O){ne||U(O)},k.bytesToString=function E(ne){("object"!=typeof ne||null===ne||void 0===ne.length)&&U("Invalid argument for bytesToString");const O=ne.length,D=8192;if(O<D)return String.fromCharCode.apply(null,ne);const ce=[];for(let de=0;de<O;de+=D){const be=Math.min(de+D,O),ve=ne.subarray(de,be);ce.push(String.fromCharCode.apply(null,ve))}return ce.join("")},k.createPromiseCapability=function De(){const ne=Object.create(null);let O=!1;return Object.defineProperty(ne,"settled",{get:()=>O}),ne.promise=new Promise(function(D,ce){ne.resolve=function(de){O=!0,D(de)},ne.reject=function(de){O=!0,ce(de)}}),ne},k.createValidAbsoluteUrl=function re(ne,O=null,D=null){if(!ne)return null;try{if(D&&"string"==typeof ne){if(D.addDefaultProtocol&&ne.startsWith("www.")){const de=ne.match(/\./g);de&&de.length>=2&&(ne=`http://${ne}`)}if(D.tryConvertEncoding)try{ne=pe(ne)}catch{}}const ce=O?new URL(ne,O):new URL(ne);if(function J(ne){if(!ne)return!1;switch(ne.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(ce))return ce}catch{}return null},k.escapeString=function q(ne){return ne.replace(/([()\\\n\r])/g,O=>"\n"===O?"\\n":"\r"===O?"\\r":`\\${O}`)},k.getModificationDate=function Le(ne=new Date){return[ne.getUTCFullYear().toString(),(ne.getUTCMonth()+1).toString().padStart(2,"0"),ne.getUTCDate().toString().padStart(2,"0"),ne.getUTCHours().toString().padStart(2,"0"),ne.getUTCMinutes().toString().padStart(2,"0"),ne.getUTCSeconds().toString().padStart(2,"0")].join("")},k.getVerbosityLevel=function H(){return F},k.info=function Y(ne){F>=y.INFOS&&console.log(`Info: ${ne}`)},k.isArrayBuffer=function ye(ne){return"object"==typeof ne&&null!==ne&&void 0!==ne.byteLength},k.isArrayEqual=function Te(ne,O){if(ne.length!==O.length)return!1;for(let D=0,ce=ne.length;D<ce;D++)if(ne[D]!==O[D])return!1;return!0},k.isAscii=function Ae(ne){return/^[\x00-\x7F]*$/.test(ne)},k.objectFromMap=function se(ne){const O=Object.create(null);for(const[D,ce]of ne)O[D]=ce;return O},k.objectSize=function Q(ne){return Object.keys(ne).length},k.setVerbosityLevel=function B(ne){Number.isInteger(ne)&&(F=ne)},k.shadow=le,k.string32=function z(ne){return String.fromCharCode(ne>>24&255,ne>>16&255,ne>>8&255,255&ne)},k.stringToBytes=V,k.stringToPDFString=function N(ne){if(ne[0]>="\xef"){let D;if("\xfe"===ne[0]&&"\xff"===ne[1]?D="utf-16be":"\xff"===ne[0]&&"\xfe"===ne[1]?D="utf-16le":"\xef"===ne[0]&&"\xbb"===ne[1]&&"\xbf"===ne[2]&&(D="utf-8"),D)try{const ce=new TextDecoder(D,{fatal:!0}),de=V(ne);return ce.decode(de)}catch(ce){ee(`stringToPDFString: "${ce}".`)}}const O=[];for(let D=0,ce=ne.length;D<ce;D++){const de=S[ne.charCodeAt(D)];O.push(de?String.fromCharCode(de):ne.charAt(D))}return O.join("")},k.stringToUTF16BEString=function me(ne){const O=["\xfe\xff"];for(let D=0,ce=ne.length;D<ce;D++){const de=ne.charCodeAt(D);O.push(String.fromCharCode(de>>8&255),String.fromCharCode(255&de))}return O.join("")},k.stringToUTF8String=pe,k.unreachable=U,k.utf8StringToString=function Ce(ne){return unescape(encodeURIComponent(ne))},k.warn=ee,te(2),k.IDENTITY_MATRIX=[1,0,0,1,0,0],k.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],k.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},k.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},k.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},k.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},k.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},k.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},k.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},k.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},k.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},k.AnnotationReplyType={GROUP:"Group",REPLY:"R"},k.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},k.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},k.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},k.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},k.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},k.PageActionEventType={O:"PageOpen",C:"PageClose"},k.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},k.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const y={ERRORS:0,WARNINGS:1,INFOS:5};k.VerbosityLevel=y,k.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},k.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},k.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},k.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let F=y.WARNINGS;function ee(ne){F>=y.WARNINGS&&console.log(`Warning: ${ne}`)}function U(ne){throw new Error(ne)}function le(ne,O,D){return Object.defineProperty(ne,O,{value:D,enumerable:!0,configurable:!0,writable:!1}),D}const M=function(){function O(D,ce){this.constructor===O&&U("Cannot initialize BaseException."),this.message=D,this.name=ce}return O.prototype=new Error,O.constructor=O,O}();function V(ne){"string"!=typeof ne&&U("Invalid argument for stringToBytes");const O=ne.length,D=new Uint8Array(O);for(let ce=0;ce<O;++ce)D[ce]=255&ne.charCodeAt(ce);return D}function W(ne){return void 0!==ne.length?ne.length:void 0!==ne.byteLength?ne.byteLength:void U("Invalid argument for arrayByteLength")}k.BaseException=M,k.PasswordException=class o extends M{constructor(O,D){super(O,"PasswordException"),this.code=D}},k.UnknownErrorException=class c extends M{constructor(O,D){super(O,"UnknownErrorException"),this.details=D}},k.InvalidPDFException=class e extends M{constructor(O){super(O,"InvalidPDFException")}},k.MissingPDFException=class l extends M{constructor(O){super(O,"MissingPDFException")}},k.UnexpectedResponseException=class d extends M{constructor(O,D){super(O,"UnexpectedResponseException"),this.status=D}},k.FormatError=class w extends M{constructor(O){super(O,"FormatError")}},k.AbortException=class C extends M{constructor(O){super(O,"AbortException")}},k.FeatureTest=class G{static get isLittleEndian(){return le(this,"isLittleEndian",function fe(){const ne=new Uint8Array(4);return ne[0]=1,1===new Uint32Array(ne.buffer,0,1)[0]}())}static get isEvalSupported(){return le(this,"isEvalSupported",function Se(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return le(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}};const oe=[...Array(256).keys()].map(ne=>ne.toString(16).padStart(2,"0"));class ae{static makeHexColor(O,D,ce){return`#${oe[O]}${oe[D]}${oe[ce]}`}static scaleMinMax(O,D){let ce;O[0]?(O[0]<0&&(ce=D[0],D[0]=D[1],D[1]=ce),D[0]*=O[0],D[1]*=O[0],O[3]<0&&(ce=D[2],D[2]=D[3],D[3]=ce),D[2]*=O[3],D[3]*=O[3]):(ce=D[0],D[0]=D[2],D[2]=ce,ce=D[1],D[1]=D[3],D[3]=ce,O[1]<0&&(ce=D[2],D[2]=D[3],D[3]=ce),D[2]*=O[1],D[3]*=O[1],O[2]<0&&(ce=D[0],D[0]=D[1],D[1]=ce),D[0]*=O[2],D[1]*=O[2]),D[0]+=O[4],D[1]+=O[4],D[2]+=O[5],D[3]+=O[5]}static transform(O,D){return[O[0]*D[0]+O[2]*D[1],O[1]*D[0]+O[3]*D[1],O[0]*D[2]+O[2]*D[3],O[1]*D[2]+O[3]*D[3],O[0]*D[4]+O[2]*D[5]+O[4],O[1]*D[4]+O[3]*D[5]+O[5]]}static applyTransform(O,D){return[O[0]*D[0]+O[1]*D[2]+D[4],O[0]*D[1]+O[1]*D[3]+D[5]]}static applyInverseTransform(O,D){const ce=D[0]*D[3]-D[1]*D[2];return[(O[0]*D[3]-O[1]*D[2]+D[2]*D[5]-D[4]*D[3])/ce,(-O[0]*D[1]+O[1]*D[0]+D[4]*D[1]-D[5]*D[0])/ce]}static getAxialAlignedBoundingBox(O,D){const ce=ae.applyTransform(O,D),de=ae.applyTransform(O.slice(2,4),D),be=ae.applyTransform([O[0],O[3]],D),ve=ae.applyTransform([O[2],O[1]],D);return[Math.min(ce[0],de[0],be[0],ve[0]),Math.min(ce[1],de[1],be[1],ve[1]),Math.max(ce[0],de[0],be[0],ve[0]),Math.max(ce[1],de[1],be[1],ve[1])]}static inverseTransform(O){const D=O[0]*O[3]-O[1]*O[2];return[O[3]/D,-O[1]/D,-O[2]/D,O[0]/D,(O[2]*O[5]-O[4]*O[3])/D,(O[4]*O[1]-O[5]*O[0])/D]}static apply3dTransform(O,D){return[O[0]*D[0]+O[1]*D[1]+O[2]*D[2],O[3]*D[0]+O[4]*D[1]+O[5]*D[2],O[6]*D[0]+O[7]*D[1]+O[8]*D[2]]}static singularValueDecompose2dScale(O){const D=[O[0],O[2],O[1],O[3]],ce=O[0]*D[0]+O[1]*D[2],ve=O[2]*D[1]+O[3]*D[3],ke=(ce+ve)/2,Re=Math.sqrt((ce+ve)**2-4*(ce*ve-(O[2]*D[0]+O[3]*D[2])*(O[0]*D[1]+O[1]*D[3])))/2,Fe=ke-Re||1;return[Math.sqrt(ke+Re||1),Math.sqrt(Fe)]}static normalizeRect(O){const D=O.slice(0);return O[0]>O[2]&&(D[0]=O[2],D[2]=O[0]),O[1]>O[3]&&(D[1]=O[3],D[3]=O[1]),D}static intersect(O,D){const ce=Math.max(Math.min(O[0],O[2]),Math.min(D[0],D[2])),de=Math.min(Math.max(O[0],O[2]),Math.max(D[0],D[2]));if(ce>de)return null;const be=Math.max(Math.min(O[1],O[3]),Math.min(D[1],D[3])),ve=Math.min(Math.max(O[1],O[3]),Math.max(D[1],D[3]));return be>ve?null:[ce,be,de,ve]}static bezierBoundingBox(O,D,ce,de,be,ve,ke,Re){const Ie=[],Fe=[[],[]];let Ue,Be,$,ge,T,X,he,xe;for(let je=0;je<2;++je)if(0===je?(Be=6*O-12*ce+6*be,Ue=-3*O+9*ce-9*be+3*ke,$=3*ce-3*O):(Be=6*D-12*de+6*ve,Ue=-3*D+9*de-9*ve+3*Re,$=3*de-3*D),Math.abs(Ue)<1e-12){if(Math.abs(Be)<1e-12)continue;ge=-$/Be,0<ge&&ge<1&&Ie.push(ge)}else he=Be*Be-4*$*Ue,xe=Math.sqrt(he),!(he<0)&&(T=(-Be+xe)/(2*Ue),0<T&&T<1&&Ie.push(T),X=(-Be-xe)/(2*Ue),0<X&&X<1&&Ie.push(X));let Oe,Me=Ie.length;const Ve=Me;for(;Me--;)ge=Ie[Me],Oe=1-ge,Fe[0][Me]=Oe*Oe*Oe*O+3*Oe*Oe*ge*ce+3*Oe*ge*ge*be+ge*ge*ge*ke,Fe[1][Me]=Oe*Oe*Oe*D+3*Oe*Oe*ge*de+3*Oe*ge*ge*ve+ge*ge*ge*Re;return Fe[0][Ve]=O,Fe[1][Ve]=D,Fe[0][Ve+1]=ke,Fe[1][Ve+1]=Re,Fe[0].length=Fe[1].length=Ve+2,[Math.min(...Fe[0]),Math.min(...Fe[1]),Math.max(...Fe[0]),Math.max(...Fe[1])]}}k.Util=ae;const S=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function pe(ne){return decodeURIComponent(escape(ne))}},(_e,k,te)=>{te(3)},(_e,k)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.isNodeJS=void 0;const te=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);k.isNodeJS=te},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var _e,te,p,ue,ie,K,t,I,Qe,P;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_annotation_storage=__w_pdfjs_require__(8),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(13),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(14),_metadata=__w_pdfjs_require__(15),_optional_content_config=__w_pdfjs_require__(16),_transport_stream=__w_pdfjs_require__(17),_xfa_text=__w_pdfjs_require__(18);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:g,NodeCMapReaderFactory:a,NodeStandardFontDataFactory:b}=__w_pdfjs_require__(19);exports.DefaultCanvasFactory=DefaultCanvasFactory=g,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=a,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=b}function setPDFNetworkStreamFactory(g){createPDFNetworkStream=g}function getDocument(g){const a=new PDFDocumentLoadingTask;let b;if("string"==typeof g||g instanceof URL)b={url:g};else if((0,_util.isArrayBuffer)(g))b={data:g};else if(g instanceof PDFDataRangeTransport)b={range:g};else{if("object"!=typeof g)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!g.url&&!g.data&&!g.range)throw new Error("Invalid parameter object: need either .data, .range or .url");b=g}const i=Object.create(null);let s=null,u=null;for(const _ in b){const f=b[_];switch(_){case"url":if(typeof window<"u")try{i[_]=new URL(f,window.location).href;continue}catch(n){(0,_util.warn)(`Cannot create valid URL: "${n}".`)}else if("string"==typeof f||f instanceof URL){i[_]=f.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":s=f;continue;case"worker":u=f;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&f instanceof Buffer)i[_]=new Uint8Array(f);else{if(f instanceof Uint8Array)break;if("string"==typeof f)i[_]=(0,_util.stringToBytes)(f);else if("object"!=typeof f||null===f||isNaN(f.length)){if(!(0,_util.isArrayBuffer)(f))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");i[_]=new Uint8Array(f)}else i[_]=new Uint8Array(f)}continue}i[_]=f}if(i.CMapReaderFactory=i.CMapReaderFactory||DefaultCMapReaderFactory,i.StandardFontDataFactory=i.StandardFontDataFactory||DefaultStandardFontDataFactory,i.ignoreErrors=!0!==i.stopAtErrors,i.fontExtraProperties=!0===i.fontExtraProperties,i.pdfBug=!0===i.pdfBug,i.enableXfa=!0===i.enableXfa,(!Number.isInteger(i.rangeChunkSize)||i.rangeChunkSize<1)&&(i.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof i.docBaseUrl||(0,_display_utils.isDataScheme)(i.docBaseUrl))&&(i.docBaseUrl=null),(!Number.isInteger(i.maxImageSize)||i.maxImageSize<-1)&&(i.maxImageSize=-1),"string"!=typeof i.cMapUrl&&(i.cMapUrl=null),"string"!=typeof i.standardFontDataUrl&&(i.standardFontDataUrl=null),"boolean"!=typeof i.useWorkerFetch&&(i.useWorkerFetch=i.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&i.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof i.isEvalSupported&&(i.isEvalSupported=!0),"boolean"!=typeof i.disableFontFace&&(i.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof i.useSystemFonts&&(i.useSystemFonts=!_is_node.isNodeJS&&!i.disableFontFace),("object"!=typeof i.ownerDocument||null===i.ownerDocument)&&(i.ownerDocument=globalThis.document),"boolean"!=typeof i.disableRange&&(i.disableRange=!1),"boolean"!=typeof i.disableStream&&(i.disableStream=!1),"boolean"!=typeof i.disableAutoFetch&&(i.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(i.verbosity),!u){const _={verbosity:i.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};u=_.port?PDFWorker.fromPort(_):new PDFWorker(_),a._worker=u}const x=a.docId;return u.promise.then(function(){if(a.destroyed)throw new Error("Loading aborted");const _=_fetchDocument(u,i,s,x),f=new Promise(function(n){let r;s?r=new _transport_stream.PDFDataTransportStream({length:i.length,initialData:i.initialData,progressiveDone:i.progressiveDone,contentDispositionFilename:i.contentDispositionFilename,disableRange:i.disableRange,disableStream:i.disableStream},s):i.data||(r=createPDFNetworkStream({url:i.url,length:i.length,httpHeaders:i.httpHeaders,withCredentials:i.withCredentials,rangeChunkSize:i.rangeChunkSize,disableRange:i.disableRange,disableStream:i.disableStream})),n(r)});return Promise.all([_,f]).then(function([n,r]){if(a.destroyed)throw new Error("Loading aborted");const y=new _message_handler.MessageHandler(x,n,u.port),A=new WorkerTransport(y,a,r,i);a._transport=A,y.send("Ready",null)})}).catch(a._capability.reject),a}function _fetchDocument(g,a,b,i){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(g,a,b,i){if(g.destroyed)throw new Error("Worker was destroyed");b&&(a.length=b.length,a.initialData=b.initialData,a.progressiveDone=b.progressiveDone,a.contentDispositionFilename=b.contentDispositionFilename);const s=yield g.messageHandler.sendWithPromise("GetDocRequest",{docId:i,apiVersion:"2.14.305",source:{data:a.data,url:a.url,password:a.password,disableAutoFetch:a.disableAutoFetch,rangeChunkSize:a.rangeChunkSize,length:a.length},maxImageSize:a.maxImageSize,disableFontFace:a.disableFontFace,docBaseUrl:a.docBaseUrl,ignoreErrors:a.ignoreErrors,isEvalSupported:a.isEvalSupported,fontExtraProperties:a.fontExtraProperties,enableXfa:a.enableXfa,useSystemFonts:a.useSystemFonts,cMapUrl:a.useWorkerFetch?a.cMapUrl:null,standardFontDataUrl:a.useWorkerFetch?a.standardFontDataUrl:null});if(g.destroyed)throw new Error("Worker was destroyed");return s})).apply(this,arguments)}const k=class{constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+lt(k,_e)._++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var a=this;return _asyncToGenerator(function*(){a.destroyed=!0,yield a._transport?.destroy(),a._transport=null,a._worker&&(a._worker.destroy(),a._worker=null)})()}};let PDFDocumentLoadingTask=k;_e=new WeakMap,Ee(PDFDocumentLoadingTask,_e,0),exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(a,b,i=!1,s=null){this.length=a,this.initialData=b,this.progressiveDone=i,this.contentDispositionFilename=s,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(a){this._rangeListeners.push(a)}addProgressListener(a){this._progressListeners.push(a)}addProgressiveReadListener(a){this._progressiveReadListeners.push(a)}addProgressiveDoneListener(a){this._progressiveDoneListeners.push(a)}onDataRange(a,b){for(const i of this._rangeListeners)i(a,b)}onDataProgress(a,b){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(a,b)})}onDataProgressiveRead(a){this._readyCapability.promise.then(()=>{for(const b of this._progressiveReadListeners)b(a)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const a of this._progressiveDoneListeners)a()})}transportReady(){this._readyCapability.resolve()}requestDataRange(a,b){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(a,b){var s,i=this;this._pdfInfo=a,this._transport=b,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(s=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),i.stats||{streamTypes:{},fontTypes:{}}}),function(){return s.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(a){return this._transport.getPage(a)}getPageIndex(a){return this._transport.getPageIndex(a)}getDestinations(){return this._transport.getDestinations()}getDestination(a){return this._transport.getDestination(a)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(a=!1){return this._transport.startCleanup(a||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(a,b,i,s,u=!1){this._pageIndex=a,this._pageInfo=b,this._ownerDocument=s,this._transport=i,this._stats=u?new _display_utils.StatTimer:null,this._pdfBug=u,this.commonObjs=i.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:a,rotation:b=this.rotate,offsetX:i=0,offsetY:s=0,dontFlip:u=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:a,rotation:b,offsetX:i,offsetY:s,dontFlip:u})}getAnnotations({intent:a="display"}={}){const b=this._transport.getRenderingIntent(a);let i=this._annotationPromises.get(b.cacheKey);return i||(i=this._transport.getAnnotations(this._pageIndex,b.renderingIntent),this._annotationPromises.set(b.cacheKey,i),i=i.then(s=>{for(const u of s)void 0!==u.titleObj&&Object.defineProperty(u,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),u.titleObj.str)}),void 0!==u.contentsObj&&Object.defineProperty(u,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),u.contentsObj.str)});return s})),i}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}getXfa(){var a=this;return _asyncToGenerator(function*(){return a._transport._htmlForXfa?.children[a._pageIndex]||null})()}render({canvasContext:a,viewport:b,intent:i="display",annotationMode:s=_util.AnnotationMode.ENABLE,transform:u=null,imageLayer:x=null,canvasFactory:_=null,background:f=null,optionalContentConfigPromise:n=null,annotationCanvasMap:r=null,pageColors:y=null}){void 0!==arguments[0]?.renderInteractiveForms&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&s===_util.AnnotationMode.ENABLE&&(s=_util.AnnotationMode.ENABLE_FORMS)),void 0!==arguments[0]?.includeAnnotationStorage&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&s===_util.AnnotationMode.ENABLE&&(s=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const A=this._transport.getRenderingIntent(i,s);this.pendingCleanup=!1,n||(n=this._transport.getOptionalContentConfig());let v=this._intentStates.get(A.cacheKey);v||(v=Object.create(null),this._intentStates.set(A.cacheKey,v)),v.streamReaderCancelTimeout&&(clearTimeout(v.streamReaderCancelTimeout),v.streamReaderCancelTimeout=null);const L=_||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),R=!!(A.renderingIntent&_util.RenderingIntentFlag.PRINT);v.displayReadyCapability||(v.displayReadyCapability=(0,_util.createPromiseCapability)(),v.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(A));const F=Y=>{v.renderTasks.delete(B),(this.cleanupAfterRender||R)&&(this.pendingCleanup=!0),this._tryCleanup(),Y?(B.capability.reject(Y),this._abortOperatorList({intentState:v,reason:Y instanceof Error?Y:new Error(Y)})):B.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},B=new InternalRenderTask({callback:F,params:{canvasContext:a,viewport:b,transform:u,imageLayer:x,background:f},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:r,operatorList:v.operatorList,pageIndex:this._pageIndex,canvasFactory:L,useRequestAnimationFrame:!R,pdfBug:this._pdfBug,pageColors:y});(v.renderTasks||(v.renderTasks=new Set)).add(B);const H=B.task;return Promise.all([v.displayReadyCapability.promise,n]).then(([Y,ee])=>{this.pendingCleanup?F():(this._stats&&this._stats.time("Rendering"),B.initializeGraphics({transparency:Y,optionalContentConfig:ee}),B.operatorListChanged())}).catch(F),H}getOperatorList({intent:a="display",annotationMode:b=_util.AnnotationMode.ENABLE}={}){const s=this._transport.getRenderingIntent(a,b,!0);let x,u=this._intentStates.get(s.cacheKey);return u||(u=Object.create(null),this._intentStates.set(s.cacheKey,u)),u.opListReadCapability||(x=Object.create(null),x.operatorListChanged=function i(){u.operatorList.lastChunk&&(u.opListReadCapability.resolve(u.operatorList),u.renderTasks.delete(x))},u.opListReadCapability=(0,_util.createPromiseCapability)(),(u.renderTasks||(u.renderTasks=new Set)).add(x),u.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(s)),u.opListReadCapability.promise}streamTextContent({disableCombineTextItems:a=!1,includeMarkedContent:b=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==a,includeMarkedContent:!0===b},{highWaterMark:100,size:s=>s.items.length})}getTextContent(a={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>_xfa_text.XfaText.textContent(i));const b=this.streamTextContent(a);return new Promise(function(i,s){const x=b.getReader(),_={items:[],styles:Object.create(null)};!function u(){x.read().then(function({value:f,done:n}){n?i(_):(Object.assign(_.styles,f.styles),_.items.push(...f.items),u())},s)}()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const a=[];for(const b of this._intentStates.values())if(this._abortOperatorList({intentState:b,reason:new Error("Page was destroyed."),force:!0}),!b.opListReadCapability)for(const i of b.renderTasks)a.push(i.completed),i.cancel();this.objs.clear();for(const b of this._bitmaps)b.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(a)}cleanup(a=!1){return this.pendingCleanup=!0,this._tryCleanup(a)}_tryCleanup(a=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:b,operatorList:i}of this._intentStates.values())if(b.size>0||!i.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,a&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const b of this._bitmaps)b.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(a,b){const i=this._intentStates.get(b);!i||(this._stats&&this._stats.timeEnd("Page Request"),i.displayReadyCapability&&i.displayReadyCapability.resolve(a))}_renderPageChunk(a,b){for(let i=0,s=a.length;i<s;i++)b.operatorList.fnArray.push(a.fnArray[i]),b.operatorList.argsArray.push(a.argsArray[i]);b.operatorList.lastChunk=a.lastChunk;for(const i of b.renderTasks)i.operatorListChanged();a.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:a,cacheKey:b}){const s=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:a,cacheKey:b,annotationStorage:a&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),u=this._intentStates.get(b);u.streamReader=s;const x=()=>{s.read().then(({value:_,done:f})=>{f?u.streamReader=null:this._transport.destroyed||(this._renderPageChunk(_,u),x())},_=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const f of u.renderTasks)f.operatorListChanged();this._tryCleanup()}if(u.displayReadyCapability)u.displayReadyCapability.reject(_);else{if(!u.opListReadCapability)throw _;u.opListReadCapability.reject(_)}}})};x()}_abortOperatorList({intentState:a,reason:b,force:i=!1}){if(a.streamReader){if(!i){if(a.renderTasks.size>0)return;if(b instanceof _display_utils.RenderingCancelledException)return void(a.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:a,reason:b,force:!0}),a.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(a.streamReader.cancel(new _util.AbortException(b.message)).catch(()=>{}),a.streamReader=null,!this._transport.destroyed){for(const[s,u]of this._intentStates)if(u===a){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(a,b){const i={data:structuredClone(a,b)};this._deferred.then(()=>{for(const s of this._listeners)s.call(this,i)})}addEventListener(a,b){this._listeners.push(b)}removeEventListener(a,b){const i=this._listeners.indexOf(b);this._listeners.splice(i,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const g=document?.currentScript?.src;g&&(PDFWorkerUtil.fallbackWorkerSrc=g.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(g,a){let b;try{if(b=new URL(g),!b.origin||"null"===b.origin)return!1}catch{return!1}const i=new URL(a,b);return b.origin===i.origin},PDFWorkerUtil.createCDNWrapper=function(g){return URL.createObjectURL(new Blob([`importScripts("${g}");`]))};const _PDFWorker=class{constructor({name:g=null,port:a=null,verbosity:b=(0,_util.getVerbosityLevel)()}={}){if(a&&Pe(_PDFWorker,te).has(a))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=g,this.destroyed=!1,this.verbosity=b,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,a)return Pe(_PDFWorker,te).set(a,this),void this._initializeFromPort(a);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(g){this._port=g,this._messageHandler=new _message_handler.MessageHandler("main","worker",g),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(typeof Worker<"u"&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let g=_PDFWorker.workerSrc;try{PDFWorkerUtil.isSameOrigin(window.location.href,g)||(g=PDFWorkerUtil.createCDNWrapper(new URL(g,window.location).href));const a=new Worker(g),b=new _message_handler.MessageHandler("main","worker",a),i=()=>{a.removeEventListener("error",s),b.destroy(),a.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=()=>{this._webWorker||i()};a.addEventListener("error",s),b.on("test",x=>{a.removeEventListener("error",s),this.destroyed?i():x?(this._messageHandler=b,this._port=a,this._webWorker=a,this._readyCapability.resolve(),b.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),b.destroy(),a.terminate())}),b.on("ready",x=>{if(a.removeEventListener("error",s),this.destroyed)i();else try{u()}catch{this._setupFakeWorker()}});const u=()=>{const x=new Uint8Array;b.send("test",x,[x.buffer])};return void u()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(g=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const a=new LoopbackPort;this._port=a;const b="fake"+PDFWorkerUtil.fakeWorkerId++,i=new _message_handler.MessageHandler(b+"_worker",b,a);g.setup(i,a);const s=new _message_handler.MessageHandler(b,b+"_worker",a);this._messageHandler=s,this._readyCapability.resolve(),s.send("configure",{verbosity:this.verbosity})}).catch(g=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${g.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),Pe(_PDFWorker,te).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(g){if(!g?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return Pe(this,te).has(g.port)?Pe(this,te).get(g.port):new _PDFWorker(g)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function g(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};let PDFWorker=_PDFWorker;te=new WeakMap,Ee(PDFWorker,te,new WeakMap),exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{constructor(a,b,i,s){Ee(this,p,null),Ee(this,ue,new Map),Ee(this,ie,new Map),Ee(this,K,null),this.messageHandler=a,this.loadingTask=b,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:b.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this._params=s,s.useWorkerFetch||(this.CMapReaderFactory=new s.CMapReaderFactory({baseUrl:s.cMapUrl,isCompressed:s.cMapPacked}),this.StandardFontDataFactory=new s.StandardFontDataFactory({baseUrl:s.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return Pe(this,p)}getRenderingIntent(a,b=_util.AnnotationMode.ENABLE,i=!1){let s=_util.RenderingIntentFlag.DISPLAY,u="";switch(a){case"any":s=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":s=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${a}`)}switch(b){case _util.AnnotationMode.DISABLE:s+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:s+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:s+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,u=this.annotationStorage.hash;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${b}`)}return i&&(s+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:s,cacheKey:`${s}_${u}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const a=[];for(const i of Pe(this,ue).values())a.push(i._destroy());Pe(this,ue).clear(),Pe(this,ie).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const b=this.messageHandler.sendWithPromise("Terminate",null);return a.push(b),Promise.all(a).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),Ne(this,K,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:a,loadingTask:b}=this;a.on("GetReader",(i,s)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=u=>{this._lastProgress={loaded:u.loaded,total:u.total}},s.onPull=()=>{this._fullReader.read().then(function({value:u,done:x}){x?s.close():((0,_util.assert)((0,_util.isArrayBuffer)(u),"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(u),1,[u]))}).catch(u=>{s.error(u)})},s.onCancel=u=>{this._fullReader.cancel(u),s.ready.catch(x=>{if(!this.destroyed)throw x})}}),a.on("ReaderHeadersReady",i=>{const s=(0,_util.createPromiseCapability)(),u=this._fullReader;return u.headersReady.then(()=>{(!u.isStreamingSupported||!u.isRangeSupported)&&(this._lastProgress&&b.onProgress?.(this._lastProgress),u.onProgress=x=>{b.onProgress?.({loaded:x.loaded,total:x.total})}),s.resolve({isStreamingSupported:u.isStreamingSupported,isRangeSupported:u.isRangeSupported,contentLength:u.contentLength})},s.reject),s.promise}),a.on("GetRangeReader",(i,s)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const u=this._networkStream.getRangeReader(i.begin,i.end);u?(s.onPull=()=>{u.read().then(function({value:x,done:_}){_?s.close():((0,_util.assert)((0,_util.isArrayBuffer)(x),"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(x),1,[x]))}).catch(x=>{s.error(x)})},s.onCancel=x=>{u.cancel(x),s.ready.catch(_=>{if(!this.destroyed)throw _})}):s.close()}),a.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,b._capability.resolve(new PDFDocumentProxy(i,this))}),a.on("DocException",function(i){let s;switch(i.name){case"PasswordException":s=new _util.PasswordException(i.message,i.code);break;case"InvalidPDFException":s=new _util.InvalidPDFException(i.message);break;case"MissingPDFException":s=new _util.MissingPDFException(i.message);break;case"UnexpectedResponseException":s=new _util.UnexpectedResponseException(i.message,i.status);break;case"UnknownErrorException":s=new _util.UnknownErrorException(i.message,i.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}b._capability.reject(s)}),a.on("PasswordRequest",i=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),b.onPassword){const s=u=>{u instanceof Error?this._passwordCapability.reject(u):this._passwordCapability.resolve({password:u})};try{b.onPassword(s,i.code)}catch(u){this._passwordCapability.reject(u)}}else this._passwordCapability.reject(new _util.PasswordException(i.message,i.code));return this._passwordCapability.promise}),a.on("DataLoaded",i=>{b.onProgress?.({loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),a.on("StartRenderPage",i=>{this.destroyed||Pe(this,ue).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),a.on("commonobj",([i,s,u])=>{if(!this.destroyed&&!this.commonObjs.has(i))switch(s){case"Font":const x=this._params;if("error"in u){const n=u.error;(0,_util.warn)(`Error during font loading: ${n}`),this.commonObjs.resolve(i,n);break}let _=null;x.pdfBug&&globalThis.FontInspector?.enabled&&(_={registerFont(n,r){globalThis.FontInspector.fontAdded(n,r)}});const f=new _font_loader.FontFaceObject(u,{isEvalSupported:x.isEvalSupported,disableFontFace:x.disableFontFace,ignoreErrors:x.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:_});this.fontLoader.bind(f).catch(n=>a.sendWithPromise("FontFallback",{id:i})).finally(()=>{!x.fontExtraProperties&&f.data&&(f.data=null),this.commonObjs.resolve(i,f)});break;case"FontPath":case"Image":this.commonObjs.resolve(i,u);break;default:throw new Error(`Got unknown common object type ${s}`)}}),a.on("obj",([i,s,u,x])=>{if(this.destroyed)return;const _=Pe(this,ue).get(s);if(!_.objs.has(i))switch(u){case"Image":_.objs.resolve(i,x);const f=8e6;if(x){let n;if(x.bitmap){const{bitmap:r,width:y,height:A}=x;n=y*A*4,_._bitmaps.add(r)}else n=x.data?.length||0;n>f&&(_.cleanupAfterRender=!0)}break;case"Pattern":_.objs.resolve(i,x);break;default:throw new Error(`Got unknown object type ${u}`)}}),a.on("DocProgress",i=>{this.destroyed||b.onProgress?.({loaded:i.loaded,total:i.total})}),a.on("DocStats",i=>{this.destroyed||Ne(this,p,Object.freeze({streamTypes:Object.freeze(i.streamTypes),fontTypes:Object.freeze(i.fontTypes)}))}),a.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),a.on("FetchBuiltInCMap",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(i):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),a.on("FetchStandardFontData",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(i):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:a}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(a)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(a){if(!Number.isInteger(a)||a<=0||a>this._numPages)return Promise.reject(new Error("Invalid page request."));const b=a-1,i=Pe(this,ie).get(b);if(i)return i;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:b}).then(u=>{if(this.destroyed)throw new Error("Transport destroyed");const x=new PDFPageProxy(b,u,this,this._params.ownerDocument,this._params.pdfBug);return Pe(this,ue).set(b,x),x});return Pe(this,ie).set(b,s),s}getPageIndex(a){return"object"!=typeof a||null===a||!Number.isInteger(a.num)||a.num<0||!Number.isInteger(a.gen)||a.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:a.num,gen:a.gen})}getAnnotations(a,b){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:a,intent:b})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(a){return"string"!=typeof a?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:a})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(a){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:a})}getStructTree(a){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:a})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(a=>new _optional_content_config.OptionalContentConfig(a))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return Pe(this,K)||Ne(this,K,this.messageHandler.sendWithPromise("GetMetadata",null).then(a=>({info:a[0],metadata:a[1]?new _metadata.Metadata(a[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(a=!1){var b=this;return _asyncToGenerator(function*(){if(yield b.messageHandler.sendWithPromise("Cleanup",null),!b.destroyed){for(const i of Pe(b,ue).values())if(!i.cleanup())throw new Error(`startCleanup: Page ${i.pageNumber} is currently rendering.`);b.commonObjs.clear(),a||b.fontLoader.clear(),Ne(b,K,null),b._getFieldObjectsPromise=null,b._hasJSActionsPromise=null}})()}get loadingParams(){const a=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:a.disableAutoFetch,enableXfa:a.enableXfa})}}p=new WeakMap,ue=new WeakMap,ie=new WeakMap,K=new WeakMap;class PDFObjects{constructor(){Ee(this,I),Ee(this,t,Object.create(null))}get(a,b=null){if(b){const s=we(this,I,Qe).call(this,a);return s.capability.promise.then(()=>b(s.data)),null}const i=Pe(this,t)[a];if(!i?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${a}.`);return i.data}has(a){return Pe(this,t)[a]?.capability.settled||!1}resolve(a,b=null){const i=we(this,I,Qe).call(this,a);i.data=b,i.capability.resolve()}clear(){Ne(this,t,Object.create(null))}}t=new WeakMap,I=new WeakSet,Qe=function(a){return Pe(this,t)[a]||(Pe(this,t)[a]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(a){this._internalRenderTask=a,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;const m=class{constructor({callback:a,params:b,objs:i,commonObjs:s,annotationCanvasMap:u,operatorList:x,pageIndex:_,canvasFactory:f,useRequestAnimationFrame:n=!1,pdfBug:r=!1,pageColors:y=null}){this.callback=a,this.params=b,this.objs=i,this.commonObjs=s,this.annotationCanvasMap=u,this.operatorListIdx=null,this.operatorList=x,this._pageIndex=_,this.canvasFactory=f,this._pdfBug=r,this.pageColors=y,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===n&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=b.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:a=!1,optionalContentConfig:b}){if(this.cancelled)return;if(this._canvas){if(Pe(m,P).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Pe(m,P).add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:s,transform:u,imageLayer:x,background:_}=this.params;this.gfx=new _canvas.CanvasGraphics(i,this.commonObjs,this.objs,this.canvasFactory,x,b,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:u,viewport:s,transparency:a,background:_}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(a=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&Pe(m,P).delete(this._canvas),this.callback(a||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var a=this;return _asyncToGenerator(function*(){a.cancelled||(a.operatorListIdx=a.gfx.executeOperatorList(a.operatorList,a.operatorListIdx,a._continueBound,a.stepper),a.operatorListIdx===a.operatorList.argsArray.length&&(a.running=!1,a.operatorList.lastChunk&&(a.gfx.endDrawing(),a._canvas&&Pe(m,P).delete(a._canvas),a.callback())))})()}};let InternalRenderTask=m;P=new WeakMap,Ee(InternalRenderTask,P,new WeakSet);const version="2.14.305";exports.version=version;const build="eaaa8b4ad";exports.build=build},(_e,k,te)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.StatTimer=k.RenderingCancelledException=k.PixelsPerInch=k.PageViewport=k.PDFDateString=k.DOMStandardFontDataFactory=k.DOMSVGFactory=k.DOMCanvasFactory=k.DOMCMapReaderFactory=void 0,k.deprecated=function r(R){console.log("Deprecated API usage: "+R)},k.getFilenameFromUrl=function u(R){const F=R.indexOf("#"),B=R.indexOf("?"),H=Math.min(F>0?F:R.length,B>0?B:R.length);return R.substring(R.lastIndexOf("/",H)+1,H)},k.getPdfFilenameFromUrl=function x(R,F="document.pdf"){if("string"!=typeof R)return F;if(i(R))return(0,ue.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),F;const H=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Y=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(R);let ee=H.exec(Y[1])||H.exec(Y[2])||H.exec(Y[3]);if(ee&&(ee=ee[0],ee.includes("%")))try{ee=H.exec(decodeURIComponent(ee))[0]}catch{}return ee||F},k.getXfaPageViewport=function v(R,{scale:F=1,rotation:B=0}){const{width:H,height:Y}=R.attributes.style,ee=[0,0,parseInt(H),parseInt(Y)];return new a({viewBox:ee,scale:F,rotation:B})},k.isDataScheme=i,k.isPdfFile=function s(R){return"string"==typeof R&&/\.pdf$/i.test(R)},k.isValidFetchUrl=f,k.loadScript=function n(R,F=!1){return new Promise((B,H)=>{const Y=document.createElement("script");Y.src=R,Y.onload=function(ee){F&&Y.remove(),B(ee)},Y.onerror=function(){H(new Error(`Cannot load script at: ${Y.src}`))},(document.head||document.documentElement).appendChild(Y)})};var p=te(6),ue=te(1);const L=class{};let y,K=L;function I(R){return h.apply(this,arguments)}function h(){return(h=_asyncToGenerator(function*(R,F=!1){if(f(R,document.baseURI)){const B=yield fetch(R);if(!B.ok)throw new Error(B.statusText);return F?new Uint8Array(yield B.arrayBuffer()):(0,ue.stringToBytes)(yield B.text())}return new Promise((B,H)=>{const Y=new XMLHttpRequest;Y.open("GET",R,!0),F&&(Y.responseType="arraybuffer"),Y.onreadystatechange=()=>{if(Y.readyState===XMLHttpRequest.DONE){if(200===Y.status||0===Y.status){let ee;if(F&&Y.response?ee=new Uint8Array(Y.response):!F&&Y.responseText&&(ee=(0,ue.stringToBytes)(Y.responseText)),ee)return void B(ee)}H(new Error(Y.statusText))}},Y.send(null)})})).apply(this,arguments)}qe(K,"CSS",96),qe(K,"PDF",72),qe(K,"PDF_TO_CSS_UNITS",L.CSS/L.PDF),k.PixelsPerInch=K,k.DOMCanvasFactory=class t extends p.BaseCanvasFactory{constructor({ownerDocument:F=globalThis.document}={}){super(),this._document=F}_createCanvas(F,B){const H=this._document.createElement("canvas");return H.width=F,H.height=B,H}},k.DOMCMapReaderFactory=class P extends p.BaseCMapReaderFactory{_fetchData(F,B){return I(F,this.isCompressed).then(H=>({cMapData:H,compressionType:B}))}},k.DOMStandardFontDataFactory=class m extends p.BaseStandardFontDataFactory{_fetchData(F){return I(F,!0)}},k.DOMSVGFactory=class g extends p.BaseSVGFactory{_createSVG(F){return document.createElementNS("http://www.w3.org/2000/svg",F)}};class a{constructor({viewBox:F,scale:B,rotation:H,offsetX:Y=0,offsetY:ee=0,dontFlip:U=!1}){this.viewBox=F,this.scale=B,this.rotation=H,this.offsetX=Y,this.offsetY=ee;const Z=(F[2]+F[0])/2,J=(F[3]+F[1])/2;let re,le,M,o,c,e,l,d;switch((H%=360)<0&&(H+=360),H){case 180:re=-1,le=0,M=0,o=1;break;case 90:re=0,le=1,M=1,o=0;break;case 270:re=0,le=-1,M=-1,o=0;break;case 0:re=1,le=0,M=0,o=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}U&&(M=-M,o=-o),0===re?(c=Math.abs(J-F[1])*B+Y,e=Math.abs(Z-F[0])*B+ee,l=Math.abs(F[3]-F[1])*B,d=Math.abs(F[2]-F[0])*B):(c=Math.abs(Z-F[0])*B+Y,e=Math.abs(J-F[1])*B+ee,l=Math.abs(F[2]-F[0])*B,d=Math.abs(F[3]-F[1])*B),this.transform=[re*B,le*B,M*B,o*B,c-re*B*Z-M*B*J,e-le*B*Z-o*B*J],this.width=l,this.height=d}clone({scale:F=this.scale,rotation:B=this.rotation,offsetX:H=this.offsetX,offsetY:Y=this.offsetY,dontFlip:ee=!1}={}){return new a({viewBox:this.viewBox.slice(),scale:F,rotation:B,offsetX:H,offsetY:Y,dontFlip:ee})}convertToViewportPoint(F,B){return ue.Util.applyTransform([F,B],this.transform)}convertToViewportRectangle(F){const B=ue.Util.applyTransform([F[0],F[1]],this.transform),H=ue.Util.applyTransform([F[2],F[3]],this.transform);return[B[0],B[1],H[0],H[1]]}convertToPdfPoint(F,B){return ue.Util.applyInverseTransform([F,B],this.transform)}}function i(R){const F=R.length;let B=0;for(;B<F&&""===R[B].trim();)B++;return"data:"===R.substring(B,B+5).toLowerCase()}function f(R,F){try{const{protocol:B}=F?new URL(R,F):new URL(R);return"http:"===B||"https:"===B}catch{return!1}}k.PageViewport=a,k.RenderingCancelledException=class b extends ue.BaseException{constructor(F,B){super(F,"RenderingCancelledException"),this.type=B}},k.StatTimer=class _{constructor(){this.started=Object.create(null),this.times=[]}time(F){F in this.started&&(0,ue.warn)(`Timer is already running for ${F}`),this.started[F]=Date.now()}timeEnd(F){F in this.started||(0,ue.warn)(`Timer has not been started for ${F}`),this.times.push({name:F,start:this.started[F],end:Date.now()}),delete this.started[F]}toString(){const F=[];let B=0;for(const H of this.times){const Y=H.name;Y.length>B&&(B=Y.length)}for(const H of this.times){const Y=H.end-H.start;F.push(`${H.name.padEnd(B)} ${Y}ms\n`)}return F.join("")}},k.PDFDateString=class A{static toDateObject(F){if(!F||"string"!=typeof F)return null;y||(y=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const B=y.exec(F);if(!B)return null;const H=parseInt(B[1],10);let Y=parseInt(B[2],10);Y=Y>=1&&Y<=12?Y-1:0;let ee=parseInt(B[3],10);ee=ee>=1&&ee<=31?ee:1;let U=parseInt(B[4],10);U=U>=0&&U<=23?U:0;let Z=parseInt(B[5],10);Z=Z>=0&&Z<=59?Z:0;let J=parseInt(B[6],10);J=J>=0&&J<=59?J:0;const re=B[7]||"Z";let le=parseInt(B[8],10);le=le>=0&&le<=23?le:0;let M=parseInt(B[9],10)||0;return M=M>=0&&M<=59?M:0,"-"===re?(U+=le,Z+=M):"+"===re&&(U-=le,Z-=M),new Date(Date.UTC(H,Y,ee,U,Z,J))}}},(_e,k,te)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.BaseStandardFontDataFactory=k.BaseSVGFactory=k.BaseCanvasFactory=k.BaseCMapReaderFactory=void 0;var p=te(1);class ue{constructor(){this.constructor===ue&&(0,p.unreachable)("Cannot initialize BaseCanvasFactory.")}create(h,P){if(h<=0||P<=0)throw new Error("Invalid canvas size");const m=this._createCanvas(h,P);return{canvas:m,context:m.getContext("2d")}}reset(h,P,m){if(!h.canvas)throw new Error("Canvas is not specified");if(P<=0||m<=0)throw new Error("Invalid canvas size");h.canvas.width=P,h.canvas.height=m}destroy(h){if(!h.canvas)throw new Error("Canvas is not specified");h.canvas.width=0,h.canvas.height=0,h.canvas=null,h.context=null}_createCanvas(h,P){(0,p.unreachable)("Abstract method `_createCanvas` called.")}}k.BaseCanvasFactory=ue;class ie{constructor({baseUrl:h=null,isCompressed:P=!1}){this.constructor===ie&&(0,p.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=h,this.isCompressed=P}fetch({name:h}){var P=this;return _asyncToGenerator(function*(){if(!P.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!h)throw new Error("CMap name must be specified.");const m=P.baseUrl+h+(P.isCompressed?".bcmap":"");return P._fetchData(m,P.isCompressed?p.CMapCompressionType.BINARY:p.CMapCompressionType.NONE).catch(a=>{throw new Error(`Unable to load ${P.isCompressed?"binary ":""}CMap at: ${m}`)})})()}_fetchData(h,P){(0,p.unreachable)("Abstract method `_fetchData` called.")}}k.BaseCMapReaderFactory=ie;class K{constructor({baseUrl:h=null}){this.constructor===K&&(0,p.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=h}fetch({filename:h}){var P=this;return _asyncToGenerator(function*(){if(!P.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!h)throw new Error("Font filename must be specified.");const m=`${P.baseUrl}${h}`;return P._fetchData(m).catch(g=>{throw new Error(`Unable to load font data at: ${m}`)})})()}_fetchData(h){(0,p.unreachable)("Abstract method `_fetchData` called.")}}k.BaseStandardFontDataFactory=K;class t{constructor(){this.constructor===t&&(0,p.unreachable)("Cannot initialize BaseSVGFactory.")}create(h,P){if(h<=0||P<=0)throw new Error("Invalid SVG dimensions");const m=this._createSVG("svg:svg");return m.setAttribute("version","1.1"),m.setAttribute("width",`${h}px`),m.setAttribute("height",`${P}px`),m.setAttribute("preserveAspectRatio","none"),m.setAttribute("viewBox",`0 0 ${h} ${P}`),m}createElement(h){if("string"!=typeof h)throw new Error("Invalid SVG element type");return this._createSVG(h)}_createSVG(h){(0,p.unreachable)("Abstract method `_createSVG` called.")}}k.BaseSVGFactory=t},(_e,k,te)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.FontLoader=k.FontFaceObject=void 0;var p=te(1);class ue{constructor({docId:I,onUnsupportedFeature:h,ownerDocument:P=globalThis.document,styleElement:m=null}){this.constructor===ue&&(0,p.unreachable)("Cannot initialize BaseFontLoader."),this.docId=I,this._onUnsupportedFeature=h,this._document=P,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(I){this.nativeFontFaces.push(I),this._document.fonts.add(I)}insertRule(I){let h=this.styleElement;h||(h=this.styleElement=this._document.createElement("style"),h.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(h));const P=h.sheet;P.insertRule(I,P.cssRules.length)}clear(){for(const I of this.nativeFontFaces)this._document.fonts.delete(I);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(I){var h=this;return _asyncToGenerator(function*(){if(I.attached||I.missingFile)return;if(I.attached=!0,h.isFontLoadingAPISupported){const m=I.createNativeFontFace();if(m){h.addNativeFontFace(m);try{yield m.loaded}catch(g){throw h._onUnsupportedFeature({featureId:p.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,p.warn)(`Failed to load font '${m.family}': '${g}'.`),I.disableFontFace=!0,g}}return}const P=I.createFontFaceRule();if(P){if(h.insertRule(P),h.isSyncFontLoadingSupported)return;yield new Promise(m=>{const g=h._queueLoadingCallback(m);h._prepareFontLoadEvent([P],[I],g)})}})()}_queueLoadingCallback(I){(0,p.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){return(0,p.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){(0,p.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,p.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(I,h,P){(0,p.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let ie;k.FontLoader=ie,k.FontLoader=ie=class extends ue{constructor(I){super(I),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let I=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(I=!0),(0,p.shadow)(this,"isSyncFontLoadingSupported",I)}_queueLoadingCallback(I){const P=this.loadingContext,m={id:"pdfjs-font-loading-"+P.nextRequestId++,done:!1,complete:function h(){for((0,p.assert)(!m.done,"completeRequest() cannot be called twice."),m.done=!0;P.requests.length>0&&P.requests[0].done;){const g=P.requests.shift();setTimeout(g.callback,0)}},callback:I};return P.requests.push(m),m}get _loadTestFont(){return(0,p.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(I,h,P){function m(B,H){return B.charCodeAt(H)<<24|B.charCodeAt(H+1)<<16|B.charCodeAt(H+2)<<8|255&B.charCodeAt(H+3)}function g(B,H,Y,ee){return B.substring(0,H)+ee+B.substring(H+Y)}let a,b;const i=this._document.createElement("canvas");i.width=1,i.height=1;const s=i.getContext("2d");let u=0;const _=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=g(f,976,_.length,_);const y=1482184792;let A=m(f,16);for(a=0,b=_.length-3;a<b;a+=4)A=A-y+m(_,a)|0;a<_.length&&(A=A-y+m(_+"XXX",a)|0),f=g(f,16,4,(0,p.string32)(A));const v=`url(data:font/opentype;base64,${btoa(f)});`;this.insertRule(`@font-face {font-family:"${_}";src:${v}}`);const R=[];for(const B of h)R.push(B.loadedName);R.push(_);const F=this._document.createElement("div");F.style.visibility="hidden",F.style.width=F.style.height="10px",F.style.position="absolute",F.style.top=F.style.left="0px";for(const B of R){const H=this._document.createElement("span");H.textContent="Hi",H.style.fontFamily=B,F.appendChild(H)}this._document.body.appendChild(F),function x(B,H){if(u++,u>30)return(0,p.warn)("Load test font never loaded."),void H();s.font="30px "+B,s.fillText(".",0,20),s.getImageData(0,0,1,1).data[3]>0?H():setTimeout(x.bind(null,B,H))}(_,()=>{F.remove(),P.complete()})}},k.FontFaceObject=class K{constructor(I,{isEvalSupported:h=!0,disableFontFace:P=!1,ignoreErrors:m=!1,onUnsupportedFeature:g,fontRegistry:a=null}){this.compiledGlyphs=Object.create(null);for(const b in I)this[b]=I[b];this.isEvalSupported=!1!==h,this.disableFontFace=!0===P,this.ignoreErrors=!0===m,this._onUnsupportedFeature=g,this.fontRegistry=a}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let I;if(this.cssFontInfo){const h={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(h.style=`oblique ${this.cssFontInfo.italicAngle}deg`),I=new FontFace(this.cssFontInfo.fontFamily,this.data,h)}else I=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),I}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const I=(0,p.bytesToString)(this.data),h=`url(data:${this.mimetype};base64,${btoa(I)});`;let P;if(this.cssFontInfo){let m=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(m+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),P=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${m}src:${h}}`}else P=`@font-face {font-family:"${this.loadedName}";src:${h}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,h),P}getPathGenerator(I,h){if(void 0!==this.compiledGlyphs[h])return this.compiledGlyphs[h];let P;try{P=I.get(this.loadedName+"_path_"+h)}catch(m){if(!this.ignoreErrors)throw m;return this._onUnsupportedFeature({featureId:p.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,p.warn)(`getPathGenerator - ignoring character: "${m}".`),this.compiledGlyphs[h]=function(g,a){}}if(this.isEvalSupported&&p.FeatureTest.isEvalSupported){const m=[];for(const g of P){const a=void 0!==g.args?g.args.join(","):"";m.push("c.",g.cmd,"(",a,");\n")}return this.compiledGlyphs[h]=new Function("c","size",m.join(""))}return this.compiledGlyphs[h]=function(m,g){for(const a of P)"scale"===a.cmd&&(a.args=[g,-g]),m[a.cmd].apply(m,a.args)}}}},(_e,k,te)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.AnnotationStorage=void 0;var p=te(9),ue=te(1);k.AnnotationStorage=class ie{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(t,I){const h=this._storage.get(t);return void 0===h?I:Object.assign(I,h)}getRawValue(t){return this._storage.get(t)}setValue(t,I){const h=this._storage.get(t);let P=!1;if(void 0!==h)for(const[m,g]of Object.entries(I))h[m]!==g&&(P=!0,h[m]=g);else P=!0,this._storage.set(t,I);P&&this._setModified()}getAll(){return this._storage.size>0?(0,ue.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get hash(){const t=new p.MurmurHash3_64;for(const[I,h]of this._storage)t.update(`${I}:${JSON.stringify(h)}`);return t.hexdigest()}}},(_e,k,te)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.MurmurHash3_64=void 0;var p=te(1);const ue=3285377520,ie=4294901760,K=65535;k.MurmurHash3_64=class t{constructor(h){this.h1=h?4294967295&h:ue,this.h2=h?4294967295&h:ue}update(h){let P,m;if("string"==typeof h){P=new Uint8Array(2*h.length),m=0;for(let y=0,A=h.length;y<A;y++){const v=h.charCodeAt(y);v<=255?P[m++]=v:(P[m++]=v>>>8,P[m++]=255&v)}}else{if(!(0,p.isArrayBuffer)(h))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");P=h.slice(),m=P.byteLength}const g=m>>2,a=m-4*g,b=new Uint32Array(P.buffer,0,g);let i=0,s=0,u=this.h1,x=this.h2;const _=3432918353,f=461845907,n=_&K,r=f&K;for(let y=0;y<g;y++)1&y?(i=b[y],i=i*_&ie|i*n&K,i=i<<15|i>>>17,i=i*f&ie|i*r&K,u^=i,u=u<<13|u>>>19,u=5*u+3864292196):(s=b[y],s=s*_&ie|s*n&K,s=s<<15|s>>>17,s=s*f&ie|s*r&K,x^=s,x=x<<13|x>>>19,x=5*x+3864292196);switch(i=0,a){case 3:i^=P[4*g+2]<<16;case 2:i^=P[4*g+1]<<8;case 1:i^=P[4*g],i=i*_&ie|i*n&K,i=i<<15|i>>>17,i=i*f&ie|i*r&K,1&g?u^=i:x^=i}this.h1=u,this.h2=x}hexdigest(){let h=this.h1,P=this.h2;h^=P>>>1,h=3981806797*h&ie|36045*h&K,P=4283543511*P&ie|(2950163797*(P<<16|h>>>16)&ie)>>>16,h^=P>>>1,h=444984403*h&ie|60499*h&K,P=3301882366*P&ie|(3120437893*(P<<16|h>>>16)&ie)>>>16,h^=P>>>1;const m=(h>>>0).toString(16),g=(P>>>0).toString(16);return m.padStart(8,"0")+g.padStart(8,"0")}}},(_e,k,te)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.CanvasGraphics=void 0;var p=te(1),ue=te(11),ie=te(12),K=te(3),t=te(5);const P=4096,i=16;function x(M){if(M._transformStack&&(M._transformStack=[]),!M.mozCurrentTransform){M._originalSave=M.save,M._originalRestore=M.restore,M._originalRotate=M.rotate,M._originalScale=M.scale,M._originalTranslate=M.translate,M._originalTransform=M.transform,M._originalSetTransform=M.setTransform,M._originalResetTransform=M.resetTransform,M._transformMatrix=M._transformMatrix||[1,0,0,1,0,0],M._transformStack=[];try{const o=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(M),"lineWidth");M._setLineWidth=o.set,M._getLineWidth=o.get,Object.defineProperty(M,"lineWidth",{set:function(e){this._setLineWidth(1.000001*e)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(M,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(M,"mozCurrentTransformInverse",{get:function(){const[c,e,l,d,w,C]=this._transformMatrix,E=c*d-e*l,V=e*l-c*d;return[d/E,e/V,l/V,c/E,(d*w-l*C)/V,(e*w-c*C)/E]}}),M.save=function(){const c=this._transformMatrix;this._transformStack.push(c),this._transformMatrix=c.slice(0,6),this._originalSave()},M.restore=function(){0===this._transformStack.length&&(0,p.warn)("Tried to restore a ctx when the stack was already empty.");const c=this._transformStack.pop();c&&(this._transformMatrix=c,this._originalRestore())},M.translate=function(c,e){const l=this._transformMatrix;l[4]=l[0]*c+l[2]*e+l[4],l[5]=l[1]*c+l[3]*e+l[5],this._originalTranslate(c,e)},M.scale=function(c,e){const l=this._transformMatrix;l[0]*=c,l[1]*=c,l[2]*=e,l[3]*=e,this._originalScale(c,e)},M.transform=function(c,e,l,d,w,C){const E=this._transformMatrix;this._transformMatrix=[E[0]*c+E[2]*e,E[1]*c+E[3]*e,E[0]*l+E[2]*d,E[1]*l+E[3]*d,E[0]*w+E[2]*C+E[4],E[1]*w+E[3]*C+E[5]],M._originalTransform(c,e,l,d,w,C)},M.setTransform=function(c,e,l,d,w,C){this._transformMatrix=[c,e,l,d,w,C],M._originalSetTransform(c,e,l,d,w,C)},M.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],M._originalResetTransform()},M.rotate=function(c){const e=Math.cos(c),l=Math.sin(c),d=this._transformMatrix;this._transformMatrix=[d[0]*e+d[2]*l,d[1]*e+d[3]*l,d[0]*-l+d[2]*e,d[1]*-l+d[3]*e,d[4],d[5]],this._originalRotate(c)}}}class _{constructor(o){this.canvasFactory=o,this.cache=Object.create(null)}getCanvas(o,c,e,l){let d;return void 0!==this.cache[o]?(d=this.cache[o],this.canvasFactory.reset(d,c,e),d.context.setTransform(1,0,0,1,0,0)):(d=this.canvasFactory.create(c,e),this.cache[o]=d),l&&x(d.context),d}delete(o){delete this.cache[o]}clear(){for(const o in this.cache)this.canvasFactory.destroy(this.cache[o]),delete this.cache[o]}}function f(M,o,c,e,l,d,w,C,E,V){const[W,j,z,Q,se,fe]=M.mozCurrentTransform;if(0===j&&0===z){const ae=Math.round(w*W+se),N=Math.round(C*Q+fe),Ae=Math.abs(Math.round((w+E)*W+se)-ae)||1,pe=Math.abs(Math.round((C+V)*Q+fe)-N)||1;return M.setTransform(Math.sign(W),0,0,Math.sign(Q),ae,N),M.drawImage(o,c,e,l,d,0,0,Ae,pe),M.setTransform(W,j,z,Q,se,fe),[Ae,pe]}if(0===W&&0===Q){const ae=Math.round(C*z+se),N=Math.round(w*j+fe),Ae=Math.abs(Math.round((C+V)*z+se)-ae)||1,pe=Math.abs(Math.round((w+E)*j+fe)-N)||1;return M.setTransform(0,Math.sign(j),Math.sign(z),0,ae,N),M.drawImage(o,c,e,l,d,0,0,pe,Ae),M.setTransform(W,j,z,Q,se,fe),[pe,Ae]}return M.drawImage(o,c,e,l,d,w,C,E,V),[Math.hypot(W,j)*E,Math.hypot(z,Q)*V]}class r{constructor(o,c){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=p.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=p.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=p.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,o,c])}clone(){const o=Object.create(this);return o.clipBox=this.clipBox.slice(),o}setCurrentPoint(o,c){this.x=o,this.y=c}updatePathMinMax(o,c,e){[c,e]=p.Util.applyTransform([c,e],o),this.minX=Math.min(this.minX,c),this.minY=Math.min(this.minY,e),this.maxX=Math.max(this.maxX,c),this.maxY=Math.max(this.maxY,e)}updateRectMinMax(o,c){const e=p.Util.applyTransform(c,o),l=p.Util.applyTransform(c.slice(2),o);this.minX=Math.min(this.minX,e[0],l[0]),this.minY=Math.min(this.minY,e[1],l[1]),this.maxX=Math.max(this.maxX,e[0],l[0]),this.maxY=Math.max(this.maxY,e[1],l[1])}updateScalingPathMinMax(o,c){p.Util.scaleMinMax(o,c),this.minX=Math.min(this.minX,c[0]),this.maxX=Math.max(this.maxX,c[1]),this.minY=Math.min(this.minY,c[2]),this.maxY=Math.max(this.maxY,c[3])}updateCurvePathMinMax(o,c,e,l,d,w,C,E,V,W){const j=p.Util.bezierBoundingBox(c,e,l,d,w,C,E,V);if(W)return W[0]=Math.min(W[0],j[0],j[2]),W[1]=Math.max(W[1],j[0],j[2]),W[2]=Math.min(W[2],j[1],j[3]),void(W[3]=Math.max(W[3],j[1],j[3]));this.updateRectMinMax(o,j)}getPathBoundingBox(o=ue.PathType.FILL,c=null){const e=[this.minX,this.minY,this.maxX,this.maxY];if(o===ue.PathType.STROKE){c||(0,p.unreachable)("Stroke bounding box must include transform.");const l=p.Util.singularValueDecompose2dScale(c),d=l[0]*this.lineWidth/2,w=l[1]*this.lineWidth/2;e[0]-=d,e[1]-=w,e[2]+=d,e[3]+=w}return e}updateClipFromPath(){const o=p.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(o||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(o){this.clipBox=o,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(o=ue.PathType.FILL,c=null){return p.Util.intersect(this.clipBox,this.getPathBoundingBox(o,c))}}function y(M,o,c=null){if(typeof ImageData<"u"&&o instanceof ImageData)return void M.putImageData(o,0,0);const e=o.height,l=o.width,d=e%i,w=(e-d)/i,C=0===d?w:w+1,E=M.createImageData(l,i);let W,V=0;const j=o.data,z=E.data;let Q,se,fe,Se,G,oe,ae,S;if(c)switch(c.length){case 1:G=c[0],oe=c[0],ae=c[0],S=c[0];break;case 4:G=c[0],oe=c[1],ae=c[2],S=c[3]}if(o.kind===p.ImageKind.GRAYSCALE_1BPP){const N=j.byteLength,q=new Uint32Array(z.buffer,0,z.byteLength>>2),Ae=q.length,me=l+7>>3;let pe=4294967295,Ce=p.FeatureTest.isLittleEndian?4278190080:255;for(S&&255===S[0]&&0===S[255]&&([pe,Ce]=[Ce,pe]),Q=0;Q<C;Q++){for(fe=Q<w?i:d,W=0,se=0;se<fe;se++){const ye=N-V;let Te=0;const Le=ye>me?l:8*ye-7,De=-8&Le;let ne=0,O=0;for(;Te<De;Te+=8)O=j[V++],q[W++]=128&O?pe:Ce,q[W++]=64&O?pe:Ce,q[W++]=32&O?pe:Ce,q[W++]=16&O?pe:Ce,q[W++]=8&O?pe:Ce,q[W++]=4&O?pe:Ce,q[W++]=2&O?pe:Ce,q[W++]=1&O?pe:Ce;for(;Te<Le;Te++)0===ne&&(O=j[V++],ne=128),q[W++]=O&ne?pe:Ce,ne>>=1}for(;W<Ae;)q[W++]=0;M.putImageData(E,0,Q*i)}}else if(o.kind===p.ImageKind.RGBA_32BPP){const N=!!(G||oe||ae);for(se=0,Se=l*i*4,Q=0;Q<w;Q++){if(z.set(j.subarray(V,V+Se)),V+=Se,N)for(let q=0;q<Se;q+=4)G&&(z[q+0]=G[z[q+0]]),oe&&(z[q+1]=oe[z[q+1]]),ae&&(z[q+2]=ae[z[q+2]]);M.putImageData(E,0,se),se+=i}if(Q<C){if(Se=l*d*4,z.set(j.subarray(V,V+Se)),N)for(let q=0;q<Se;q+=4)G&&(z[q+0]=G[z[q+0]]),oe&&(z[q+1]=oe[z[q+1]]),ae&&(z[q+2]=ae[z[q+2]]);M.putImageData(E,0,se)}}else{if(o.kind!==p.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${o.kind}`);{const N=!!(G||oe||ae);for(fe=i,Se=l*fe,Q=0;Q<C;Q++){for(Q>=w&&(fe=d,Se=l*fe),W=0,se=Se;se--;)z[W++]=j[V++],z[W++]=j[V++],z[W++]=j[V++],z[W++]=255;if(N)for(let q=0;q<W;q+=4)G&&(z[q+0]=G[z[q+0]]),oe&&(z[q+1]=oe[z[q+1]]),ae&&(z[q+2]=ae[z[q+2]]);M.putImageData(E,0,Q*i)}}}}function A(M,o){if(o.bitmap)return void M.drawImage(o.bitmap,0,0);const c=o.height,e=o.width,l=c%i,d=(c-l)/i,w=0===l?d:d+1,C=M.createImageData(e,i);let E=0;const V=o.data,W=C.data;for(let j=0;j<w;j++){const z=j<d?i:l;({srcPos:E}=(0,ie.applyMaskImageData)({src:V,srcPos:E,dest:W,width:e,height:z})),M.putImageData(C,0,j*i)}}function v(M,o){const c=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let e=0,l=c.length;e<l;e++){const d=c[e];void 0!==M[d]&&(o[d]=M[d])}void 0!==M.setLineDash&&(o.setLineDash(M.getLineDash()),o.lineDashOffset=M.lineDashOffset)}function L(M,o){M.strokeStyle=M.fillStyle=o||"#000000",M.fillRule="nonzero",M.globalAlpha=1,M.lineWidth=1,M.lineCap="butt",M.lineJoin="miter",M.miterLimit=10,M.globalCompositeOperation="source-over",M.font="10px sans-serif",void 0!==M.setLineDash&&(M.setLineDash([]),M.lineDashOffset=0)}function R(M,o,c,e){const l=M.length;for(let d=3;d<l;d+=4){const w=M[d];if(0===w)M[d-3]=o,M[d-2]=c,M[d-1]=e;else if(w<255){const C=255-w;M[d-3]=M[d-3]*w+o*C>>8,M[d-2]=M[d-2]*w+c*C>>8,M[d-1]=M[d-1]*w+e*C>>8}}}function F(M,o,c){const e=M.length;for(let d=3;d<e;d+=4)o[d]=o[d]*(c?c[M[d]]:M[d])*.00392156862745098|0}function B(M,o,c){const e=M.length;for(let l=3;l<e;l+=4){const d=77*M[l-3]+152*M[l-2]+28*M[l-1];o[l]=c?o[l]*c[d>>8]>>8:o[l]*d>>16}}function ee(M,o){const c=p.Util.singularValueDecompose2dScale(M);c[0]=Math.fround(c[0]),c[1]=Math.fround(c[1]);const e=Math.fround((globalThis.devicePixelRatio||1)*t.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==o?o:c[0]<=e||c[1]<=e}const U=["butt","round","square"],Z=["miter","round","bevel"],J={},re={};class le{constructor(o,c,e,l,d,w,C,E){this.ctx=o,this.current=new r(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=c,this.objs=e,this.canvasFactory=l,this.imageLayer=d,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=w,this.cachedCanvases=new _(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=C,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=E?.background||null,this.foregroundColor=E?.foreground||null,o&&x(o),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(o,c=null){return"string"==typeof o?o.startsWith("g_")?this.commonObjs.get(o):this.objs.get(o):c}beginDrawing({transform:o,viewport:c,transparency:e=!1,background:l=null}){const d=this.ctx.canvas.width,w=this.ctx.canvas.height,C=l||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const E=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const V=this.backgroundColor=this.ctx.fillStyle;let W=!0,j=C;if(this.ctx.fillStyle=C,j=this.ctx.fillStyle,W="string"==typeof j&&/^#[0-9A-Fa-f]{6}$/.test(j),"#000000"===E&&"#ffffff"===V||E===V||!W)this.foregroundColor=this.backgroundColor=null;else{const z=parseInt(j.slice(1),16),se=(z&&65280)>>8,fe=z&&255,Se=oe=>(oe/=255)<=.03928?oe/12.92:((oe+.055)/1.055)**2.4,G=Math.round(.2126*Se((z&&16711680)>>16)+.7152*Se(se)+.0722*Se(fe));this.selectColor=(oe,ae,S)=>{const N=.2126*Se(oe)+.7152*Se(ae)+.0722*Se(S);return Math.round(N)===G?V:E}}}if(this.ctx.fillStyle=this.backgroundColor||C,this.ctx.fillRect(0,0,d,w),this.ctx.restore(),e){const E=this.cachedCanvases.getCanvas("transparent",d,w,!0);this.compositeCtx=this.ctx,this.transparentCanvas=E.canvas,this.ctx=E.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),L(this.ctx,this.foregroundColor),o&&(this.ctx.transform.apply(this.ctx,o),this.outputScaleX=o[0],this.outputScaleY=o[0]),this.ctx.transform.apply(this.ctx,c.transform),this.viewportScale=c.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(o,c,e,l){const d=o.argsArray,w=o.fnArray;let C=c||0;const E=d.length;if(E===C)return C;const V=E-C>10&&"function"==typeof e,W=V?Date.now()+15:0;let j=0;const z=this.commonObjs,Q=this.objs;let se;for(;;){if(void 0!==l&&C===l.nextBreakPoint)return l.breakIt(C,e),C;if(se=w[C],se!==p.OPS.dependency)this[se].apply(this,d[C]);else for(const fe of d[C]){const Se=fe.startsWith("g_")?z:Q;if(!Se.has(fe))return Se.get(fe,e),C}if(C++,C===E)return C;if(V&&++j>10){if(Date.now()>W)return e(),C;j=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const o of this._cachedBitmapsMap.values()){for(const c of o.values())typeof HTMLCanvasElement<"u"&&c instanceof HTMLCanvasElement&&(c.width=c.height=0);o.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(o,c){const e=o.width,l=o.height;let W,j,d=Math.max(Math.hypot(c[0],c[1]),1),w=Math.max(Math.hypot(c[2],c[3]),1),C=e,E=l,V="prescale1";for(;d>2&&C>1||w>2&&E>1;){let z=C,Q=E;d>2&&C>1&&(z=Math.ceil(C/2),d/=C/z),w>2&&E>1&&(Q=Math.ceil(E/2),w/=E/Q),W=this.cachedCanvases.getCanvas(V,z,Q,!1),j=W.context,j.clearRect(0,0,z,Q),j.drawImage(o,0,0,C,E,0,0,z,Q),o=W.canvas,C=z,E=Q,V="prescale1"===V?"prescale2":"prescale1"}return{img:o,paintWidth:C,paintHeight:E}}_createMaskCanvas(o){const c=this.ctx,{width:e,height:l}=o,d=this.current.fillColor,w=this.current.patternFill,C=c.mozCurrentTransform;let E,V,W,j;if((o.bitmap||o.data)&&o.count>1){const Ae=o.bitmap||o.data.buffer,me=C.slice(0,4);V=JSON.stringify(w?me:[me,d]),E=this._cachedBitmapsMap.get(Ae),E||(E=new Map,this._cachedBitmapsMap.set(Ae,E));const pe=E.get(V);if(pe&&!w)return{canvas:pe,offsetX:Math.round(Math.min(C[0],C[2])+C[4]),offsetY:Math.round(Math.min(C[1],C[3])+C[5])};W=pe}W||(j=this.cachedCanvases.getCanvas("maskCanvas",e,l,!1),A(j.context,o));let z=p.Util.transform(C,[1/e,0,0,-1/l,0,0]);z=p.Util.transform(z,[1,0,0,1,0,-l]);const Q=p.Util.applyTransform([0,0],z),se=p.Util.applyTransform([e,l],z),fe=p.Util.normalizeRect([Q[0],Q[1],se[0],se[1]]),Se=Math.round(fe[2]-fe[0])||1,G=Math.round(fe[3]-fe[1])||1,oe=this.cachedCanvases.getCanvas("fillCanvas",Se,G,!0),ae=oe.context,S=Math.min(Q[0],se[0]),N=Math.min(Q[1],se[1]);ae.translate(-S,-N),ae.transform.apply(ae,z),W||(W=this._scaleImage(j.canvas,ae.mozCurrentTransformInverse),W=W.img,E&&w&&E.set(V,W)),ae.imageSmoothingEnabled=ee(ae.mozCurrentTransform,o.interpolate),f(ae,W,0,0,W.width,W.height,0,0,e,l),ae.globalCompositeOperation="source-in";const q=p.Util.transform(ae.mozCurrentTransformInverse,[1,0,0,1,-S,-N]);return ae.fillStyle=w?d.getPattern(c,this,q,ue.PathType.FILL):d,ae.fillRect(0,0,e,l),E&&!w&&(this.cachedCanvases.delete("fillCanvas"),E.set(V,oe.canvas)),{canvas:oe.canvas,offsetX:Math.round(S),offsetY:Math.round(N)}}setLineWidth(o){o!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=o,this.ctx.lineWidth=o}setLineCap(o){this.ctx.lineCap=U[o]}setLineJoin(o){this.ctx.lineJoin=Z[o]}setMiterLimit(o){this.ctx.miterLimit=o}setDash(o,c){const e=this.ctx;void 0!==e.setLineDash&&(e.setLineDash(o),e.lineDashOffset=c)}setRenderingIntent(o){}setFlatness(o){}setGState(o){for(let c=0,e=o.length;c<e;c++){const l=o[c],w=l[1];switch(l[0]){case"LW":this.setLineWidth(w);break;case"LC":this.setLineCap(w);break;case"LJ":this.setLineJoin(w);break;case"ML":this.setMiterLimit(w);break;case"D":this.setDash(w[0],w[1]);break;case"RI":this.setRenderingIntent(w);break;case"FL":this.setFlatness(w);break;case"Font":this.setFont(w[0],w[1]);break;case"CA":this.current.strokeAlpha=l[1];break;case"ca":this.current.fillAlpha=l[1],this.ctx.globalAlpha=l[1];break;case"BM":this.ctx.globalCompositeOperation=w;break;case"SMask":this.current.activeSMask=w?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=w}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const o=this.inSMaskMode;this.current.activeSMask&&!o?this.beginSMaskMode():!this.current.activeSMask&&o&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const l=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=l.context;const d=this.ctx;d.setTransform.apply(d,this.suspendedCtx.mozCurrentTransform),v(this.suspendedCtx,d),function u(M,o){if(M._removeMirroring)throw new Error("Context is already forwarding operations.");M.__originalSave=M.save,M.__originalRestore=M.restore,M.__originalRotate=M.rotate,M.__originalScale=M.scale,M.__originalTranslate=M.translate,M.__originalTransform=M.transform,M.__originalSetTransform=M.setTransform,M.__originalResetTransform=M.resetTransform,M.__originalClip=M.clip,M.__originalMoveTo=M.moveTo,M.__originalLineTo=M.lineTo,M.__originalBezierCurveTo=M.bezierCurveTo,M.__originalRect=M.rect,M.__originalClosePath=M.closePath,M.__originalBeginPath=M.beginPath,M._removeMirroring=()=>{M.save=M.__originalSave,M.restore=M.__originalRestore,M.rotate=M.__originalRotate,M.scale=M.__originalScale,M.translate=M.__originalTranslate,M.transform=M.__originalTransform,M.setTransform=M.__originalSetTransform,M.resetTransform=M.__originalResetTransform,M.clip=M.__originalClip,M.moveTo=M.__originalMoveTo,M.lineTo=M.__originalLineTo,M.bezierCurveTo=M.__originalBezierCurveTo,M.rect=M.__originalRect,M.closePath=M.__originalClosePath,M.beginPath=M.__originalBeginPath,delete M._removeMirroring},M.save=function(){o.save(),this.__originalSave()},M.restore=function(){o.restore(),this.__originalRestore()},M.translate=function(e,l){o.translate(e,l),this.__originalTranslate(e,l)},M.scale=function(e,l){o.scale(e,l),this.__originalScale(e,l)},M.transform=function(e,l,d,w,C,E){o.transform(e,l,d,w,C,E),this.__originalTransform(e,l,d,w,C,E)},M.setTransform=function(e,l,d,w,C,E){o.setTransform(e,l,d,w,C,E),this.__originalSetTransform(e,l,d,w,C,E)},M.resetTransform=function(){o.resetTransform(),this.__originalResetTransform()},M.rotate=function(e){o.rotate(e),this.__originalRotate(e)},M.clip=function(e){o.clip(e),this.__originalClip(e)},M.moveTo=function(c,e){o.moveTo(c,e),this.__originalMoveTo(c,e)},M.lineTo=function(c,e){o.lineTo(c,e),this.__originalLineTo(c,e)},M.bezierCurveTo=function(c,e,l,d,w,C){o.bezierCurveTo(c,e,l,d,w,C),this.__originalBezierCurveTo(c,e,l,d,w,C)},M.rect=function(c,e,l,d){o.rect(c,e,l,d),this.__originalRect(c,e,l,d)},M.closePath=function(){o.closePath(),this.__originalClosePath()},M.beginPath=function(){o.beginPath(),this.__originalBeginPath()}}(d,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),v(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(o){this.current.activeSMask&&(o?(o[0]=Math.floor(o[0]),o[1]=Math.floor(o[1]),o[2]=Math.ceil(o[2]),o[3]=Math.ceil(o[3])):o=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function Y(M,o,c,e){const l=e[0],d=e[1],w=e[2]-l,C=e[3]-d;0===w||0===C||(function H(M,o,c,e,l,d,w,C,E,V,W){const j=!!d,z=j?d[0]:0,Q=j?d[1]:0,se=j?d[2]:0;let fe;fe="Luminosity"===l?B:F;const G=Math.min(e,Math.ceil(1048576/c));for(let oe=0;oe<e;oe+=G){const ae=Math.min(G,e-oe),S=M.getImageData(C-V,oe+(E-W),c,ae),N=o.getImageData(C,oe+E,c,ae);j&&R(S.data,z,Q,se),fe(S.data,N.data,w),o.putImageData(N,C,oe+E)}}(o.context,c,w,C,o.subtype,o.backdrop,o.transferMap,l,d,o.offsetX,o.offsetY),M.save(),M.globalAlpha=1,M.globalCompositeOperation="source-over",M.setTransform(1,0,0,1,0,0),M.drawImage(c.canvas,0,0),M.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,o),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(v(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const o=this.current;this.stateStack.push(o),this.current=o.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),v(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(o,c,e,l,d,w){this.ctx.transform(o,c,e,l,d,w),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(o,c,e){const l=this.ctx,d=this.current;let E,V,w=d.x,C=d.y;const W=l.mozCurrentTransform,j=0===W[0]&&0===W[3]||0===W[1]&&0===W[2],z=j?e.slice(0):null;for(let Q=0,se=0,fe=o.length;Q<fe;Q++)switch(0|o[Q]){case p.OPS.rectangle:w=c[se++],C=c[se++];const Se=c[se++],G=c[se++],oe=w+Se,ae=C+G;l.moveTo(w,C),0===Se||0===G?l.lineTo(oe,ae):(l.lineTo(oe,C),l.lineTo(oe,ae),l.lineTo(w,ae)),j||d.updateRectMinMax(W,[w,C,oe,ae]),l.closePath();break;case p.OPS.moveTo:w=c[se++],C=c[se++],l.moveTo(w,C),j||d.updatePathMinMax(W,w,C);break;case p.OPS.lineTo:w=c[se++],C=c[se++],l.lineTo(w,C),j||d.updatePathMinMax(W,w,C);break;case p.OPS.curveTo:E=w,V=C,w=c[se+4],C=c[se+5],l.bezierCurveTo(c[se],c[se+1],c[se+2],c[se+3],w,C),d.updateCurvePathMinMax(W,E,V,c[se],c[se+1],c[se+2],c[se+3],w,C,z),se+=6;break;case p.OPS.curveTo2:E=w,V=C,l.bezierCurveTo(w,C,c[se],c[se+1],c[se+2],c[se+3]),d.updateCurvePathMinMax(W,E,V,w,C,c[se],c[se+1],c[se+2],c[se+3],z),w=c[se+2],C=c[se+3],se+=4;break;case p.OPS.curveTo3:E=w,V=C,w=c[se+2],C=c[se+3],l.bezierCurveTo(c[se],c[se+1],w,C,w,C),d.updateCurvePathMinMax(W,E,V,c[se],c[se+1],w,C,w,C,z),se+=4;break;case p.OPS.closePath:l.closePath()}j&&d.updateScalingPathMinMax(W,z),d.setCurrentPoint(w,C)}closePath(){this.ctx.closePath()}stroke(o){o=!(typeof o<"u")||o;const c=this.ctx,e=this.current.strokeColor;c.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof e&&e?.getPattern?(c.save(),c.strokeStyle=e.getPattern(c,this,c.mozCurrentTransformInverse,ue.PathType.STROKE),this.rescaleAndStroke(!1),c.restore()):this.rescaleAndStroke(!0)),o&&this.consumePath(this.current.getClippedPathBoundingBox()),c.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(o){o=!(typeof o<"u")||o;const c=this.ctx,e=this.current.fillColor;let d=!1;this.current.patternFill&&(c.save(),c.fillStyle=e.getPattern(c,this,c.mozCurrentTransformInverse,ue.PathType.FILL),d=!0);const w=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==w&&(this.pendingEOFill?(c.fill("evenodd"),this.pendingEOFill=!1):c.fill()),d&&c.restore(),o&&this.consumePath(w)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=J}eoClip(){this.pendingClip=re}beginText(){this.current.textMatrix=p.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const o=this.pendingTextPaths,c=this.ctx;if(void 0!==o){c.save(),c.beginPath();for(let e=0;e<o.length;e++){const l=o[e];c.setTransform.apply(c,l.transform),c.translate(l.x,l.y),l.addToPath(c,l.fontSize)}c.restore(),c.clip(),c.beginPath(),delete this.pendingTextPaths}else c.beginPath()}setCharSpacing(o){this.current.charSpacing=o}setWordSpacing(o){this.current.wordSpacing=o}setHScale(o){this.current.textHScale=o/100}setLeading(o){this.current.leading=-o}setFont(o,c){const e=this.commonObjs.get(o),l=this.current;if(!e)throw new Error(`Can't find font for ${o}`);if(l.fontMatrix=e.fontMatrix||p.FONT_IDENTITY_MATRIX,(0===l.fontMatrix[0]||0===l.fontMatrix[3])&&(0,p.warn)("Invalid font matrix for font "+o),c<0?(c=-c,l.fontDirection=-1):l.fontDirection=1,this.current.font=e,this.current.fontSize=c,e.isType3Font)return;let w="normal";e.black?w="900":e.bold&&(w="bold");const C=e.italic?"italic":"normal",E=`"${e.loadedName||"sans-serif"}", ${e.fallbackName}`;let V=c;c<16?V=16:c>100&&(V=100),this.current.fontSizeScale=c/V,this.ctx.font=`${C} ${w} ${V}px ${E}`}setTextRenderingMode(o){this.current.textRenderingMode=o}setTextRise(o){this.current.textRise=o}moveText(o,c){this.current.x=this.current.lineX+=o,this.current.y=this.current.lineY+=c}setLeadingMoveText(o,c){this.setLeading(-c),this.moveText(o,c)}setTextMatrix(o,c,e,l,d,w){this.current.textMatrix=[o,c,e,l,d,w],this.current.textMatrixScale=Math.hypot(o,c),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(o,c,e,l){const d=this.ctx,w=this.current,C=w.font,E=w.textRenderingMode,V=w.fontSize/w.fontSizeScale,W=E&p.TextRenderingMode.FILL_STROKE_MASK,j=!!(E&p.TextRenderingMode.ADD_TO_PATH_FLAG),z=w.patternFill&&!C.missingFile;let Q;(C.disableFontFace||j||z)&&(Q=C.getPathGenerator(this.commonObjs,o)),C.disableFontFace||z?(d.save(),d.translate(c,e),d.beginPath(),Q(d,V),l&&d.setTransform.apply(d,l),(W===p.TextRenderingMode.FILL||W===p.TextRenderingMode.FILL_STROKE)&&d.fill(),(W===p.TextRenderingMode.STROKE||W===p.TextRenderingMode.FILL_STROKE)&&d.stroke(),d.restore()):((W===p.TextRenderingMode.FILL||W===p.TextRenderingMode.FILL_STROKE)&&d.fillText(o,c,e),(W===p.TextRenderingMode.STROKE||W===p.TextRenderingMode.FILL_STROKE)&&d.strokeText(o,c,e)),j&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:d.mozCurrentTransform,x:c,y:e,fontSize:V,addToPath:Q})}get isFontSubpixelAAEnabled(){const{context:o}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10,!1);o.scale(1.5,1),o.fillText("I",0,10);const c=o.getImageData(0,0,10,10).data;let e=!1;for(let l=3;l<c.length;l+=4)if(c[l]>0&&c[l]<255){e=!0;break}return(0,p.shadow)(this,"isFontSubpixelAAEnabled",e)}showText(o){const c=this.current,e=c.font;if(e.isType3Font)return this.showType3Text(o);const l=c.fontSize;if(0===l)return;const d=this.ctx,w=c.fontSizeScale,C=c.charSpacing,E=c.wordSpacing,V=c.fontDirection,W=c.textHScale*V,j=o.length,z=e.vertical,Q=z?1:-1,se=e.defaultVMetrics,fe=l*c.fontMatrix[0],Se=c.textRenderingMode===p.TextRenderingMode.FILL&&!e.disableFontFace&&!c.patternFill;let G;if(d.save(),d.transform.apply(d,c.textMatrix),d.translate(c.x,c.y+c.textRise),d.scale(W,V>0?-1:1),c.patternFill){d.save();const q=c.fillColor.getPattern(d,this,d.mozCurrentTransformInverse,ue.PathType.FILL);G=d.mozCurrentTransform,d.restore(),d.fillStyle=q}let oe=c.lineWidth;const ae=c.textMatrixScale;if(0===ae||0===oe){const q=c.textRenderingMode&p.TextRenderingMode.FILL_STROKE_MASK;(q===p.TextRenderingMode.STROKE||q===p.TextRenderingMode.FILL_STROKE)&&(oe=this.getSinglePixelWidth())}else oe/=ae;1!==w&&(d.scale(w,w),oe/=w),d.lineWidth=oe;let N,S=0;for(N=0;N<j;++N){const q=o[N];if("number"==typeof q){S+=Q*q*l/1e3;continue}let Ae=!1;const me=(q.isSpace?E:0)+C,pe=q.fontChar,Ce=q.accent;let ye,Te,De,Le=q.width;if(z){const ne=q.vmetric||se,O=-(q.vmetric?ne[1]:.5*Le)*fe;Le=ne?-ne[0]:Le,ye=O/w,Te=(S+ne[2]*fe)/w}else ye=S/w,Te=0;if(e.remeasure&&Le>0){const ne=1e3*d.measureText(pe).width/l*w;if(Le<ne&&this.isFontSubpixelAAEnabled){const O=Le/ne;Ae=!0,d.save(),d.scale(O,1),ye/=O}else Le!==ne&&(ye+=(Le-ne)/2e3*l/w)}this.contentVisible&&(q.isInFont||e.missingFile)&&(Se&&!Ce?d.fillText(pe,ye,Te):(this.paintChar(pe,ye,Te,G),Ce&&this.paintChar(Ce.fontChar,ye+l*Ce.offset.x/w,Te-l*Ce.offset.y/w,G))),De=z?Le*fe-me*V:Le*fe+me*V,S+=De,Ae&&d.restore()}z?c.y-=S:c.x+=S*W,d.restore(),this.compose()}showType3Text(o){const c=this.ctx,e=this.current,l=e.font,d=e.fontSize,w=e.fontDirection,C=l.vertical?1:-1,E=e.charSpacing,V=e.wordSpacing,W=e.textHScale*w,j=e.fontMatrix||p.FONT_IDENTITY_MATRIX,z=o.length;let se,fe,Se,G;if(e.textRenderingMode!==p.TextRenderingMode.INVISIBLE&&0!==d){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,c.save(),c.transform.apply(c,e.textMatrix),c.translate(e.x,e.y),c.scale(W,w),se=0;se<z;++se){if(fe=o[se],"number"==typeof fe){G=C*fe*d/1e3,this.ctx.translate(G,0),e.x+=G*W;continue}const oe=(fe.isSpace?V:0)+E,ae=l.charProcOperatorList[fe.operatorListId];ae?(this.contentVisible&&(this.processingType3=fe,this.save(),c.scale(d,d),c.transform.apply(c,j),this.executeOperatorList(ae),this.restore()),Se=p.Util.applyTransform([fe.width,0],j)[0]*d+oe,c.translate(Se,0),e.x+=Se*W):(0,p.warn)(`Type3 character "${fe.operatorListId}" is not available.`)}c.restore(),this.processingType3=null}}setCharWidth(o,c){}setCharWidthAndBounds(o,c,e,l,d,w){this.ctx.rect(e,l,d-e,w-l),this.ctx.clip(),this.endPath()}getColorN_Pattern(o){let c;if("TilingPattern"===o[0]){const e=o[1],l=this.baseTransform||this.ctx.mozCurrentTransform.slice();c=new ue.TilingPattern(o,e,this.ctx,{createCanvasGraphics:w=>new le(w,this.commonObjs,this.objs,this.canvasFactory)},l)}else c=this._getPattern(o[1],o[2]);return c}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(o,c,e){const l=this.selectColor?.(o,c,e)||p.Util.makeHexColor(o,c,e);this.ctx.strokeStyle=l,this.current.strokeColor=l}setFillRGBColor(o,c,e){const l=this.selectColor?.(o,c,e)||p.Util.makeHexColor(o,c,e);this.ctx.fillStyle=l,this.current.fillColor=l,this.current.patternFill=!1}_getPattern(o,c=null){let e;return this.cachedPatterns.has(o)?e=this.cachedPatterns.get(o):(e=(0,ue.getShadingPattern)(this.objs.get(o)),this.cachedPatterns.set(o,e)),c&&(e.matrix=c),e}shadingFill(o){if(!this.contentVisible)return;const c=this.ctx;this.save();const e=this._getPattern(o);c.fillStyle=e.getPattern(c,this,c.mozCurrentTransformInverse,ue.PathType.SHADING);const l=c.mozCurrentTransformInverse;if(l){const d=c.canvas,w=d.width,C=d.height,E=p.Util.applyTransform([0,0],l),V=p.Util.applyTransform([0,C],l),W=p.Util.applyTransform([w,0],l),j=p.Util.applyTransform([w,C],l),z=Math.min(E[0],V[0],W[0],j[0]),Q=Math.min(E[1],V[1],W[1],j[1]),se=Math.max(E[0],V[0],W[0],j[0]),fe=Math.max(E[1],V[1],W[1],j[1]);this.ctx.fillRect(z,Q,se-z,fe-Q)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,p.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,p.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(o,c){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(o)&&6===o.length&&this.transform.apply(this,o),this.baseTransform=this.ctx.mozCurrentTransform,c)&&(this.ctx.rect(c[0],c[1],c[2]-c[0],c[3]-c[1]),this.current.updateRectMinMax(this.ctx.mozCurrentTransform,c),this.clip(),this.endPath())}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(o){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const c=this.ctx;o.isolated||(0,p.info)("TODO: Support non-isolated groups."),o.knockout&&(0,p.warn)("Knockout groups not supported.");const e=c.mozCurrentTransform;if(o.matrix&&c.transform.apply(c,o.matrix),!o.bbox)throw new Error("Bounding box is required.");let l=p.Util.getAxialAlignedBoundingBox(o.bbox,c.mozCurrentTransform);l=p.Util.intersect(l,[0,0,c.canvas.width,c.canvas.height])||[0,0,0,0];const w=Math.floor(l[0]),C=Math.floor(l[1]);let E=Math.max(Math.ceil(l[2])-w,1),V=Math.max(Math.ceil(l[3])-C,1),W=1,j=1;E>P&&(W=E/P,E=P),V>P&&(j=V/P,V=P),this.current.startNewPathAndClipBox([0,0,E,V]);let z="groupAt"+this.groupLevel;o.smask&&(z+="_smask_"+this.smaskCounter++%2);const Q=this.cachedCanvases.getCanvas(z,E,V,!0),se=Q.context;se.scale(1/W,1/j),se.translate(-w,-C),se.transform.apply(se,e),o.smask?this.smaskStack.push({canvas:Q.canvas,context:se,offsetX:w,offsetY:C,scaleX:W,scaleY:j,subtype:o.smask.subtype,backdrop:o.smask.backdrop,transferMap:o.smask.transferMap||null,startTransformInverse:null}):(c.setTransform(1,0,0,1,0,0),c.translate(w,C),c.scale(W,j),c.save()),v(c,se),this.ctx=se,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(c),this.groupLevel++}endGroup(o){if(!this.contentVisible)return;this.groupLevel--;const c=this.ctx,e=this.groupStack.pop();if(this.ctx=e,this.ctx.imageSmoothingEnabled=!1,o.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const l=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,l);const d=p.Util.getAxialAlignedBoundingBox([0,0,c.canvas.width,c.canvas.height],l);this.ctx.drawImage(c.canvas,0,0),this.ctx.restore(),this.compose(d)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(o,c,e,l,d){if(this.save(),Array.isArray(c)&&4===c.length){const w=c[2]-c[0],C=c[3]-c[1];if(d&&this.annotationCanvasMap){(e=e.slice())[4]-=c[0],e[5]-=c[1],(c=c.slice())[0]=c[1]=0,c[2]=w,c[3]=C;const[E,V]=p.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:W}=this,j=Math.ceil(w*this.outputScaleX*W),z=Math.ceil(C*this.outputScaleY*W);this.annotationCanvas=this.canvasFactory.create(j,z);const{canvas:Q,context:se}=this.annotationCanvas,fe=`var(--zoom-factor) * ${t.PixelsPerInch.PDF_TO_CSS_UNITS}`;Q.style.width=`calc(${w}px * ${fe})`,Q.style.height=`calc(${C}px * ${fe})`,this.annotationCanvasMap.set(o,Q),this.annotationCanvas.savedCtx=this.ctx,this.ctx=se,this.ctx.setTransform(E,0,0,-V,0,C*V),x(this.ctx),L(this.ctx,this.foregroundColor)}else L(this.ctx,this.foregroundColor),this.ctx.rect(c[0],c[1],w,C),this.ctx.clip(),this.endPath()}this.current=new r(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,e),this.transform.apply(this,l)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(o){if(!this.contentVisible)return;const c=o.count;(o=this.getObject(o.data,o)).count=c;const e=this.ctx,l=this.processingType3;if(l&&(void 0===l.compiled&&(l.compiled=function n(M){const{width:o,height:c}=M;if(o>1e3||c>1e3)return null;const l=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),d=o+1;let C,E,V,w=new Uint8Array(d*(c+1));const W=o+7&-8;let j=new Uint8Array(W*c),z=0;for(const ae of M.data){let S=128;for(;S>0;)j[z++]=ae&S?0:255,S>>=1}let Q=0;for(z=0,0!==j[z]&&(w[0]=1,++Q),E=1;E<o;E++)j[z]!==j[z+1]&&(w[E]=j[z]?2:1,++Q),z++;for(0!==j[z]&&(w[E]=2,++Q),C=1;C<c;C++){z=C*W,V=C*d,j[z-W]!==j[z]&&(w[V]=j[z]?1:8,++Q);let ae=(j[z]?4:0)+(j[z-W]?8:0);for(E=1;E<o;E++)ae=(ae>>2)+(j[z+1]?4:0)+(j[z-W+1]?8:0),l[ae]&&(w[V+E]=l[ae],++Q),z++;if(j[z-W]!==j[z]&&(w[V+E]=j[z]?2:4,++Q),Q>1e3)return null}for(z=W*(c-1),V=C*d,0!==j[z]&&(w[V]=8,++Q),E=1;E<o;E++)j[z]!==j[z+1]&&(w[V+E]=j[z]?4:8,++Q),z++;if(0!==j[z]&&(w[V+E]=4,++Q),Q>1e3)return null;const se=new Int32Array([0,d,-1,0,-d,0,0,0,1]);let fe,Se,G;for(K.isNodeJS?Se=[]:fe=new Path2D,C=0;Q&&C<=c;C++){let ae=C*d;const S=ae+o;for(;ae<S&&!w[ae];)ae++;if(ae===S)continue;fe?fe.moveTo(ae%d,C):G=[ae%d,C];const N=ae;let q=w[ae];do{const Ae=se[q];do{ae+=Ae}while(!w[ae]);const me=w[ae];5!==me&&10!==me?(q=me,w[ae]=0):(q=me&51*q>>4,w[ae]&=q>>2|q<<2),fe?fe.lineTo(ae%d,ae/d|0):G.push(ae%d,ae/d|0),w[ae]||--Q}while(N!==ae);fe||Se.push(G),--C}return j=null,w=null,function(ae){if(ae.save(),ae.scale(1/o,-1/c),ae.translate(0,-c),fe)ae.fill(fe);else{ae.beginPath();for(const S of Se){ae.moveTo(S[0],S[1]);for(let N=2,q=S.length;N<q;N+=2)ae.lineTo(S[N],S[N+1])}ae.fill()}ae.beginPath(),ae.restore()}}(o)),l.compiled))return void l.compiled(e);const d=this._createMaskCanvas(o),w=d.canvas;e.save(),e.setTransform(1,0,0,1,0,0),e.drawImage(w,d.offsetX,d.offsetY),e.restore(),this.compose()}paintImageMaskXObjectRepeat(o,c,e=0,l=0,d,w){if(!this.contentVisible)return;o=this.getObject(o.data,o);const C=this.ctx;C.save();const E=C.mozCurrentTransform;C.transform(c,e,l,d,0,0);const V=this._createMaskCanvas(o);C.setTransform(1,0,0,1,0,0);for(let W=0,j=w.length;W<j;W+=2){const z=p.Util.transform(E,[c,e,l,d,w[W],w[W+1]]),[Q,se]=p.Util.applyTransform([0,0],z);C.drawImage(V.canvas,Q,se)}C.restore(),this.compose()}paintImageMaskXObjectGroup(o){if(!this.contentVisible)return;const c=this.ctx,e=this.current.fillColor,l=this.current.patternFill;for(let d=0,w=o.length;d<w;d++){const C=o[d],E=C.width,V=C.height,W=this.cachedCanvases.getCanvas("maskCanvas",E,V,!1),j=W.context;j.save(),A(j,C),j.globalCompositeOperation="source-in",j.fillStyle=l?e.getPattern(j,this,c.mozCurrentTransformInverse,ue.PathType.FILL):e,j.fillRect(0,0,E,V),j.restore(),c.save(),c.transform.apply(c,C.transform),c.scale(1,-1),f(c,W.canvas,0,0,E,V,0,-1,1,1),c.restore()}this.compose()}paintImageXObject(o){if(!this.contentVisible)return;const c=this.getObject(o);c?this.paintInlineImageXObject(c):(0,p.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(o,c,e,l){if(!this.contentVisible)return;const d=this.getObject(o);if(!d)return void(0,p.warn)("Dependent image isn't ready yet");const w=d.width,C=d.height,E=[];for(let V=0,W=l.length;V<W;V+=2)E.push({transform:[c,0,0,e,l[V],l[V+1]],x:0,y:0,w,h:C});this.paintInlineImageXObjectGroup(d,E)}paintInlineImageXObject(o){if(!this.contentVisible)return;const c=o.width,e=o.height,l=this.ctx;let d;if(this.save(),l.scale(1/c,-1/e),"function"==typeof HTMLElement&&o instanceof HTMLElement||!o.data)d=o;else{const V=this.cachedCanvases.getCanvas("inlineImage",c,e,!1);y(V.context,o,this.current.transferMaps),d=V.canvas}const w=this._scaleImage(d,l.mozCurrentTransformInverse);l.imageSmoothingEnabled=ee(l.mozCurrentTransform,o.interpolate);const[C,E]=f(l,w.img,0,0,w.paintWidth,w.paintHeight,0,-e,c,e);if(this.imageLayer){const V=this.getCanvasPosition(0,-e);this.imageLayer.appendImage({imgData:o,left:V[0],top:V[1],width:C,height:E})}this.compose(),this.restore()}paintInlineImageXObjectGroup(o,c){if(!this.contentVisible)return;const e=this.ctx,l=o.width,d=o.height,w=this.cachedCanvases.getCanvas("inlineImage",l,d,!1);y(w.context,o,this.current.transferMaps);for(let E=0,V=c.length;E<V;E++){const W=c[E];if(e.save(),e.transform.apply(e,W.transform),e.scale(1,-1),f(e,w.canvas,W.x,W.y,W.w,W.h,0,-1,1,1),this.imageLayer){const j=this.getCanvasPosition(W.x,W.y);this.imageLayer.appendImage({imgData:o,left:j[0],top:j[1],width:l,height:d})}e.restore()}this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(o){}markPointProps(o,c){}beginMarkedContent(o){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(o,c){this.markedContentStack.push("OC"===o?{visible:this.optionalContentConfig.isVisible(c)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(o){const c=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(o);const e=this.ctx;this.pendingClip&&(c||(this.pendingClip===re?e.clip("evenodd"):e.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),e.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const o=this.ctx.mozCurrentTransform;if(0===o[1]&&0===o[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(o[0]),Math.abs(o[3]));else{const c=Math.abs(o[0]*o[3]-o[2]*o[1]),e=Math.hypot(o[0],o[2]),l=Math.hypot(o[1],o[3]);this._cachedGetSinglePixelWidth=Math.max(e,l)/c}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:o}=this.current,c=this.ctx.mozCurrentTransform;let e,l;if(0===c[1]&&0===c[2]){const d=Math.abs(c[0]),w=Math.abs(c[3]);if(0===o)e=1/d,l=1/w;else{const C=d*o,E=w*o;e=C<1?1/C:1,l=E<1?1/E:1}}else{const d=Math.abs(c[0]*c[3]-c[2]*c[1]),w=Math.hypot(c[0],c[1]),C=Math.hypot(c[2],c[3]);if(0===o)e=C/d,l=w/d;else{const E=o*d;e=C>E?C/E:1,l=w>E?w/E:1}}this._cachedScaleForStroking=[e,l]}return this._cachedScaleForStroking}rescaleAndStroke(o){const{ctx:c}=this,{lineWidth:e}=this.current,[l,d]=this.getScaleForStroking();if(c.lineWidth=e||1,1===l&&1===d)return void c.stroke();let w,C,E;o&&(w=c.mozCurrentTransform.slice(),C=c.getLineDash().slice(),E=c.lineDashOffset),c.scale(l,d);const V=Math.max(l,d);c.setLineDash(c.getLineDash().map(W=>W/V)),c.lineDashOffset/=V,c.stroke(),o&&(c.setTransform(...w),c.setLineDash(C),c.lineDashOffset=E)}getCanvasPosition(o,c){const e=this.ctx.mozCurrentTransform;return[e[0]*o+e[2]*c+e[4],e[1]*o+e[3]*c+e[5]]}isContentVisible(){for(let o=this.markedContentStack.length-1;o>=0;o--)if(!this.markedContentStack[o].visible)return!1;return!0}}k.CanvasGraphics=le;for(const M in p.OPS)void 0!==le.prototype[M]&&(le.prototype[p.OPS[M]]=le.prototype[M])},(_e,k,te)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.TilingPattern=k.PathType=void 0,k.getShadingPattern=function a(s){switch(s[0]){case"RadialAxial":return new I(s);case"Mesh":return new m(s);case"Dummy":return new g}throw new Error(`Unknown IR type: ${s[0]}`)};var p=te(1),ue=te(3);const ie={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function K(s,u){if(!u||ue.isNodeJS)return;const x=u[2]-u[0],_=u[3]-u[1],f=new Path2D;f.rect(u[0],u[1],x,_),s.clip(f)}k.PathType=ie;class t{constructor(){this.constructor===t&&(0,p.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,p.unreachable)("Abstract method `getPattern` called.")}}class I extends t{constructor(u){super(),this._type=u[1],this._bbox=u[2],this._colorStops=u[3],this._p0=u[4],this._p1=u[5],this._r0=u[6],this._r1=u[7],this.matrix=null}_createGradient(u){let x;"axial"===this._type?x=u.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(x=u.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const _ of this._colorStops)x.addColorStop(_[0],_[1]);return x}getPattern(u,x,_,f){let n;if(f===ie.STROKE||f===ie.FILL){const r=x.current.getClippedPathBoundingBox(f,u.mozCurrentTransform)||[0,0,0,0],y=Math.ceil(r[2]-r[0])||1,A=Math.ceil(r[3]-r[1])||1,v=x.cachedCanvases.getCanvas("pattern",y,A,!0),L=v.context;L.clearRect(0,0,L.canvas.width,L.canvas.height),L.beginPath(),L.rect(0,0,L.canvas.width,L.canvas.height),L.translate(-r[0],-r[1]),_=p.Util.transform(_,[1,0,0,1,r[0],r[1]]),L.transform.apply(L,x.baseTransform),this.matrix&&L.transform.apply(L,this.matrix),K(L,this._bbox),L.fillStyle=this._createGradient(L),L.fill(),n=u.createPattern(v.canvas,"no-repeat");const R=new DOMMatrix(_);try{n.setTransform(R)}catch(F){(0,p.warn)(`RadialAxialShadingPattern.getPattern: "${F?.message}".`)}}else K(u,this._bbox),n=this._createGradient(u);return n}}function h(s,u,x,_,f,n,r,y){const A=u.coords,v=u.colors,L=s.data,R=4*s.width;let F;A[x+1]>A[_+1]&&(F=x,x=_,_=F,F=n,n=r,r=F),A[_+1]>A[f+1]&&(F=_,_=f,f=F,F=r,r=y,y=F),A[x+1]>A[_+1]&&(F=x,x=_,_=F,F=n,n=r,r=F);const B=(A[x]+u.offsetX)*u.scaleX,H=(A[x+1]+u.offsetY)*u.scaleY,Y=(A[_]+u.offsetX)*u.scaleX,ee=(A[_+1]+u.offsetY)*u.scaleY,U=(A[f]+u.offsetX)*u.scaleX,Z=(A[f+1]+u.offsetY)*u.scaleY;if(H>=Z)return;const J=v[n],re=v[n+1],le=v[n+2],M=v[r],o=v[r+1],c=v[r+2],e=v[y],l=v[y+1],d=v[y+2],w=Math.round(H),C=Math.round(Z);let E,V,W,j,z,Q,se,fe;for(let Se=w;Se<=C;Se++){if(Se<ee){let N;N=Se<H?0:(H-Se)/(H-ee),E=B-(B-Y)*N,V=J-(J-M)*N,W=re-(re-o)*N,j=le-(le-c)*N}else{let N;N=Se>Z?1:ee===Z?0:(ee-Se)/(ee-Z),E=Y-(Y-U)*N,V=M-(M-e)*N,W=o-(o-l)*N,j=c-(c-d)*N}let G;G=Se<H?0:Se>Z?1:(H-Se)/(H-Z),z=B-(B-U)*G,Q=J-(J-e)*G,se=re-(re-l)*G,fe=le-(le-d)*G;const oe=Math.round(Math.min(E,z)),ae=Math.round(Math.max(E,z));let S=R*Se+4*oe;for(let N=oe;N<=ae;N++)G=(E-N)/(E-z),G<0?G=0:G>1&&(G=1),L[S++]=V-(V-Q)*G|0,L[S++]=W-(W-se)*G|0,L[S++]=j-(j-fe)*G|0,L[S++]=255}}function P(s,u,x){const _=u.coords,f=u.colors;let n,r;switch(u.type){case"lattice":const y=u.verticesPerRow,A=Math.floor(_.length/y)-1,v=y-1;for(n=0;n<A;n++){let L=n*y;for(let R=0;R<v;R++,L++)h(s,x,_[L],_[L+1],_[L+y],f[L],f[L+1],f[L+y]),h(s,x,_[L+y+1],_[L+1],_[L+y],f[L+y+1],f[L+1],f[L+y])}break;case"triangles":for(n=0,r=_.length;n<r;n+=3)h(s,x,_[n],_[n+1],_[n+2],f[n],f[n+1],f[n+2]);break;default:throw new Error("illegal figure")}}class m extends t{constructor(u){super(),this._coords=u[2],this._colors=u[3],this._figures=u[4],this._bounds=u[5],this._bbox=u[7],this._background=u[8],this.matrix=null}_createMeshCanvas(u,x,_){const y=Math.floor(this._bounds[0]),A=Math.floor(this._bounds[1]),v=Math.ceil(this._bounds[2])-y,L=Math.ceil(this._bounds[3])-A,R=Math.min(Math.ceil(Math.abs(v*u[0]*1.1)),3e3),F=Math.min(Math.ceil(Math.abs(L*u[1]*1.1)),3e3),B=v/R,H=L/F,Y={coords:this._coords,colors:this._colors,offsetX:-y,offsetY:-A,scaleX:1/B,scaleY:1/H},Z=_.getCanvas("mesh",R+4,F+4,!1),J=Z.context,re=J.createImageData(R,F);if(x){const M=re.data;for(let o=0,c=M.length;o<c;o+=4)M[o]=x[0],M[o+1]=x[1],M[o+2]=x[2],M[o+3]=255}for(const M of this._figures)P(re,M,Y);return J.putImageData(re,2,2),{canvas:Z.canvas,offsetX:y-2*B,offsetY:A-2*H,scaleX:B,scaleY:H}}getPattern(u,x,_,f){let n;if(K(u,this._bbox),f===ie.SHADING)n=p.Util.singularValueDecompose2dScale(u.mozCurrentTransform);else if(n=p.Util.singularValueDecompose2dScale(x.baseTransform),this.matrix){const y=p.Util.singularValueDecompose2dScale(this.matrix);n=[n[0]*y[0],n[1]*y[1]]}const r=this._createMeshCanvas(n,f===ie.SHADING?null:this._background,x.cachedCanvases);return f!==ie.SHADING&&(u.setTransform.apply(u,x.baseTransform),this.matrix&&u.transform.apply(u,this.matrix)),u.translate(r.offsetX,r.offsetY),u.scale(r.scaleX,r.scaleY),u.createPattern(r.canvas,"no-repeat")}}class g extends t{getPattern(){return"hotpink"}}class i{static get MAX_PATTERN_SIZE(){return(0,p.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(u,x,_,f,n){this.operatorList=u[2],this.matrix=u[3]||[1,0,0,1,0,0],this.bbox=u[4],this.xstep=u[5],this.ystep=u[6],this.paintType=u[7],this.tilingType=u[8],this.color=x,this.ctx=_,this.canvasGraphicsFactory=f,this.baseTransform=n}createPatternCanvas(u){const x=this.operatorList,_=this.bbox,f=this.xstep,n=this.ystep,r=this.paintType,A=this.color,v=this.canvasGraphicsFactory;(0,p.info)("TilingType: "+this.tilingType);const L=_[0],R=_[1],F=_[2],B=_[3],H=p.Util.singularValueDecompose2dScale(this.matrix),Y=p.Util.singularValueDecompose2dScale(this.baseTransform),ee=[H[0]*Y[0],H[1]*Y[1]],U=this.getSizeAndScale(f,this.ctx.canvas.width,ee[0]),Z=this.getSizeAndScale(n,this.ctx.canvas.height,ee[1]),J=u.cachedCanvases.getCanvas("pattern",U.size,Z.size,!0),re=J.context,le=v.createCanvasGraphics(re);le.groupLevel=u.groupLevel,this.setFillAndStrokeStyleToContext(le,r,A);let M=L,o=R,c=F,e=B;return L<0&&(M=0,c+=Math.abs(L)),R<0&&(o=0,e+=Math.abs(R)),re.translate(-U.scale*M,-Z.scale*o),le.transform(U.scale,0,0,Z.scale,0,0),re.save(),this.clipBbox(le,M,o,c,e),le.baseTransform=le.ctx.mozCurrentTransform.slice(),le.executeOperatorList(x),le.endDrawing(),{canvas:J.canvas,scaleX:U.scale,scaleY:Z.scale,offsetX:M,offsetY:o}}getSizeAndScale(u,x,_){u=Math.abs(u);const f=Math.max(i.MAX_PATTERN_SIZE,x);let n=Math.ceil(u*_);return n>=f?n=f:_=n/u,{scale:_,size:n}}clipBbox(u,x,_,f,n){u.ctx.rect(x,_,f-x,n-_),u.current.updateRectMinMax(u.ctx.mozCurrentTransform,[x,_,f,n]),u.clip(),u.endPath()}setFillAndStrokeStyleToContext(u,x,_){const f=u.ctx,n=u.current;switch(x){case 1:const r=this.ctx;f.fillStyle=r.fillStyle,f.strokeStyle=r.strokeStyle,n.fillColor=r.fillStyle,n.strokeColor=r.strokeStyle;break;case 2:const y=p.Util.makeHexColor(_[0],_[1],_[2]);f.fillStyle=y,f.strokeStyle=y,n.fillColor=y,n.strokeColor=y;break;default:throw new p.FormatError(`Unsupported paint type: ${x}`)}}getPattern(u,x,_,f){let n=_;f!==ie.SHADING&&(n=p.Util.transform(n,x.baseTransform),this.matrix&&(n=p.Util.transform(n,this.matrix)));const r=this.createPatternCanvas(x);let y=new DOMMatrix(n);y=y.translate(r.offsetX,r.offsetY),y=y.scale(1/r.scaleX,1/r.scaleY);const A=u.createPattern(r.canvas,"repeat");try{A.setTransform(y)}catch(v){(0,p.warn)(`TilingPattern.getPattern: "${v?.message}".`)}return A}}k.TilingPattern=i},(_e,k,te)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.applyMaskImageData=function ue({src:ie,srcPos:K=0,dest:t,destPos:I=0,width:h,height:P,inverseDecode:m=!1}){const g=p.FeatureTest.isLittleEndian?4278190080:255,[a,b]=m?[0,g]:[g,0],i=h>>3,s=7&h,u=ie.length;t=new Uint32Array(t.buffer);for(let x=0;x<P;x++){for(const f=K+i;K<f;K++){const n=K<u?ie[K]:255;t[I++]=128&n?b:a,t[I++]=64&n?b:a,t[I++]=32&n?b:a,t[I++]=16&n?b:a,t[I++]=8&n?b:a,t[I++]=4&n?b:a,t[I++]=2&n?b:a,t[I++]=1&n?b:a}if(0===s)continue;const _=K<u?ie[K++]:255;for(let f=0;f<s;f++)t[I++]=_&1<<7-f?b:a}return{srcPos:K,destPos:I}};var p=te(1)},(_e,k)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.GlobalWorkerOptions=void 0;const te=Object.create(null);k.GlobalWorkerOptions=te,te.workerPort=void 0===te.workerPort?null:te.workerPort,te.workerSrc=void 0===te.workerSrc?"":te.workerSrc},(_e,k,te)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.MessageHandler=void 0;var p=te(1);function K(I){switch(I instanceof Error||"object"==typeof I&&null!==I||(0,p.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),I.name){case"AbortException":return new p.AbortException(I.message);case"MissingPDFException":return new p.MissingPDFException(I.message);case"PasswordException":return new p.PasswordException(I.message,I.code);case"UnexpectedResponseException":return new p.UnexpectedResponseException(I.message,I.status);case"UnknownErrorException":return new p.UnknownErrorException(I.message,I.details);default:return new p.UnknownErrorException(I.message,I.toString())}}k.MessageHandler=class t{constructor(h,P,m){this.sourceName=h,this.targetName=P,this.comObj=m,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=g=>{const a=g.data;if(a.targetName!==this.sourceName)return;if(a.stream)return void this._processStreamMessage(a);if(a.callback){const i=a.callbackId,s=this.callbackCapabilities[i];if(!s)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],1===a.callback)s.resolve(a.data);else{if(2!==a.callback)throw new Error("Unexpected callback case");s.reject(K(a.reason))}return}const b=this.actionHandler[a.action];if(!b)throw new Error(`Unknown action from worker: ${a.action}`);if(a.callbackId){const i=this.sourceName,s=a.sourceName;new Promise(function(u){u(b(a.data))}).then(function(u){m.postMessage({sourceName:i,targetName:s,callback:1,callbackId:a.callbackId,data:u})},function(u){m.postMessage({sourceName:i,targetName:s,callback:2,callbackId:a.callbackId,reason:K(u)})})}else a.streamId?this._createStreamSink(a):b(a.data)},m.addEventListener("message",this._onComObjOnMessage)}on(h,P){const m=this.actionHandler;if(m[h])throw new Error(`There is already an actionName called "${h}"`);m[h]=P}send(h,P,m){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:h,data:P},m)}sendWithPromise(h,P,m){const g=this.callbackId++,a=(0,p.createPromiseCapability)();this.callbackCapabilities[g]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:h,callbackId:g,data:P},m)}catch(b){a.reject(b)}return a.promise}sendWithStream(h,P,m,g){const a=this.streamId++,b=this.sourceName,i=this.targetName,s=this.comObj;return new ReadableStream({start:u=>{const x=(0,p.createPromiseCapability)();return this.streamControllers[a]={controller:u,startCall:x,pullCall:null,cancelCall:null,isClosed:!1},s.postMessage({sourceName:b,targetName:i,action:h,streamId:a,data:P,desiredSize:u.desiredSize},g),x.promise},pull:u=>{const x=(0,p.createPromiseCapability)();return this.streamControllers[a].pullCall=x,s.postMessage({sourceName:b,targetName:i,stream:6,streamId:a,desiredSize:u.desiredSize}),x.promise},cancel:u=>{(0,p.assert)(u instanceof Error,"cancel must have a valid reason");const x=(0,p.createPromiseCapability)();return this.streamControllers[a].cancelCall=x,this.streamControllers[a].isClosed=!0,s.postMessage({sourceName:b,targetName:i,stream:1,streamId:a,reason:K(u)}),x.promise}},m)}_createStreamSink(h){const P=h.streamId,m=this.sourceName,g=h.sourceName,a=this.comObj,b=this,i=this.actionHandler[h.action],s={enqueue(u,x=1,_){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=x,f>0&&this.desiredSize<=0&&(this.sinkCapability=(0,p.createPromiseCapability)(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:m,targetName:g,stream:4,streamId:P,chunk:u},_)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:m,targetName:g,stream:3,streamId:P}),delete b.streamSinks[P])},error(u){(0,p.assert)(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:m,targetName:g,stream:5,streamId:P,reason:K(u)}))},sinkCapability:(0,p.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:h.desiredSize,ready:null};s.sinkCapability.resolve(),s.ready=s.sinkCapability.promise,this.streamSinks[P]=s,new Promise(function(u){u(i(h.data,s))}).then(function(){a.postMessage({sourceName:m,targetName:g,stream:8,streamId:P,success:!0})},function(u){a.postMessage({sourceName:m,targetName:g,stream:8,streamId:P,reason:K(u)})})}_processStreamMessage(h){const P=h.streamId,m=this.sourceName,g=h.sourceName,a=this.comObj,b=this.streamControllers[P],i=this.streamSinks[P];switch(h.stream){case 8:h.success?b.startCall.resolve():b.startCall.reject(K(h.reason));break;case 7:h.success?b.pullCall.resolve():b.pullCall.reject(K(h.reason));break;case 6:if(!i){a.postMessage({sourceName:m,targetName:g,stream:7,streamId:P,success:!0});break}i.desiredSize<=0&&h.desiredSize>0&&i.sinkCapability.resolve(),i.desiredSize=h.desiredSize,new Promise(function(s){s(i.onPull&&i.onPull())}).then(function(){a.postMessage({sourceName:m,targetName:g,stream:7,streamId:P,success:!0})},function(s){a.postMessage({sourceName:m,targetName:g,stream:7,streamId:P,reason:K(s)})});break;case 4:if((0,p.assert)(b,"enqueue should have stream controller"),b.isClosed)break;b.controller.enqueue(h.chunk);break;case 3:if((0,p.assert)(b,"close should have stream controller"),b.isClosed)break;b.isClosed=!0,b.controller.close(),this._deleteStreamController(b,P);break;case 5:(0,p.assert)(b,"error should have stream controller"),b.controller.error(K(h.reason)),this._deleteStreamController(b,P);break;case 2:h.success?b.cancelCall.resolve():b.cancelCall.reject(K(h.reason)),this._deleteStreamController(b,P);break;case 1:if(!i)break;new Promise(function(s){s(i.onCancel&&i.onCancel(K(h.reason)))}).then(function(){a.postMessage({sourceName:m,targetName:g,stream:2,streamId:P,success:!0})},function(s){a.postMessage({sourceName:m,targetName:g,stream:2,streamId:P,reason:K(s)})}),i.sinkCapability.reject(K(h.reason)),i.isCancelled=!0,delete this.streamSinks[P];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(h,P){var m=this;return _asyncToGenerator(function*(){yield Promise.allSettled([h.startCall&&h.startCall.promise,h.pullCall&&h.pullCall.promise,h.cancelCall&&h.cancelCall.promise]),delete m.streamControllers[P]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(_e,k,te)=>{var ie,K;Object.defineProperty(k,"__esModule",{value:!0}),k.Metadata=void 0;var p=te(1);ie=new WeakMap,K=new WeakMap,k.Metadata=class ue{constructor({parsedData:I,rawData:h}){Ee(this,ie,void 0),Ee(this,K,void 0),Ne(this,ie,I),Ne(this,K,h)}getRaw(){return Pe(this,K)}get(I){return Pe(this,ie).get(I)??null}getAll(){return(0,p.objectFromMap)(Pe(this,ie))}has(I){return Pe(this,ie).has(I)}}},(_e,k,te)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.OptionalContentConfig=void 0;var p=te(1);class ue{constructor(t,I){this.visible=!0,this.name=t,this.intent=I}}k.OptionalContentConfig=class ie{constructor(t){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==t){this.name=t.name,this.creator=t.creator,this._order=t.order;for(const I of t.groups)this._groups.set(I.id,new ue(I.name,I.intent));if("OFF"===t.baseState)for(const I of this._groups)I.visible=!1;for(const I of t.on)this._groups.get(I).visible=!0;for(const I of t.off)this._groups.get(I).visible=!1}}_evaluateVisibilityExpression(t){const I=t.length;if(I<2)return!0;const h=t[0];for(let P=1;P<I;P++){const m=t[P];let g;if(Array.isArray(m))g=this._evaluateVisibilityExpression(m);else{if(!this._groups.has(m))return(0,p.warn)(`Optional content group not found: ${m}`),!0;g=this._groups.get(m).visible}switch(h){case"And":if(!g)return!1;break;case"Or":if(g)return!0;break;case"Not":return!g;default:return!0}}return"And"===h}isVisible(t){if(0===this._groups.size)return!0;if(!t)return(0,p.warn)("Optional content group not defined."),!0;if("OCG"===t.type)return this._groups.has(t.id)?this._groups.get(t.id).visible:((0,p.warn)(`Optional content group not found: ${t.id}`),!0);if("OCMD"===t.type){if(t.expression)return this._evaluateVisibilityExpression(t.expression);if(!t.policy||"AnyOn"===t.policy){for(const I of t.ids){if(!this._groups.has(I))return(0,p.warn)(`Optional content group not found: ${I}`),!0;if(this._groups.get(I).visible)return!0}return!1}if("AllOn"===t.policy){for(const I of t.ids){if(!this._groups.has(I))return(0,p.warn)(`Optional content group not found: ${I}`),!0;if(!this._groups.get(I).visible)return!1}return!0}if("AnyOff"===t.policy){for(const I of t.ids){if(!this._groups.has(I))return(0,p.warn)(`Optional content group not found: ${I}`),!0;if(!this._groups.get(I).visible)return!0}return!1}if("AllOff"===t.policy){for(const I of t.ids){if(!this._groups.has(I))return(0,p.warn)(`Optional content group not found: ${I}`),!0;if(this._groups.get(I).visible)return!1}return!0}return(0,p.warn)(`Unknown optional content policy ${t.policy}.`),!0}return(0,p.warn)(`Unknown group type ${t.type}.`),!0}setVisibility(t,I=!0){this._groups.has(t)?this._groups.get(t).visible=!!I:(0,p.warn)(`Optional content group not found: ${t}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,p.objectFromMap)(this._groups):null}getGroup(t){return this._groups.get(t)||null}}},(_e,k,te)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.PDFDataTransportStream=void 0;var p=te(1),ue=te(5);k.PDFDataTransportStream=class ie{constructor(h,P){(0,p.assert)(P,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=h.progressiveDone||!1,this._contentDispositionFilename=h.contentDispositionFilename||null;const m=h.initialData;if(m?.length>0){const g=new Uint8Array(m).buffer;this._queuedChunks.push(g)}this._pdfDataRangeTransport=P,this._isStreamingSupported=!h.disableStream,this._isRangeSupported=!h.disableRange,this._contentLength=h.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((g,a)=>{this._onReceiveData({begin:g,chunk:a})}),this._pdfDataRangeTransport.addProgressListener((g,a)=>{this._onProgress({loaded:g,total:a})}),this._pdfDataRangeTransport.addProgressiveReadListener(g=>{this._onReceiveData({chunk:g})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(h){const P=new Uint8Array(h.chunk).buffer;if(void 0===h.begin)this._fullRequestReader?this._fullRequestReader._enqueue(P):this._queuedChunks.push(P);else{const m=this._rangeReaders.some(function(g){return g._begin===h.begin&&(g._enqueue(P),!0)});(0,p.assert)(m,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(h){if(void 0===h.total){const P=this._rangeReaders[0];P?.onProgress&&P.onProgress({loaded:h.loaded})}else{const P=this._fullRequestReader;P?.onProgress&&P.onProgress({loaded:h.loaded,total:h.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(h){const P=this._rangeReaders.indexOf(h);P>=0&&this._rangeReaders.splice(P,1)}getFullReader(){(0,p.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const h=this._queuedChunks;return this._queuedChunks=null,new K(this,h,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(h,P){if(P<=this._progressiveDataLength)return null;const m=new t(this,h,P);return this._pdfDataRangeTransport.requestDataRange(h,P),this._rangeReaders.push(m),m}cancelAllRequests(h){this._fullRequestReader&&this._fullRequestReader.cancel(h);for(const P of this._rangeReaders.slice(0))P.cancel(h);this._pdfDataRangeTransport.abort()}};class K{constructor(h,P,m=!1,g=null){this._stream=h,this._done=m||!1,this._filename=(0,ue.isPdfFile)(g)?g:null,this._queuedChunks=P||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),h._fullRequestReader=this,this.onProgress=null}_enqueue(h){this._done||(this._requests.length>0?this._requests.shift().resolve({value:h,done:!1}):this._queuedChunks.push(h),this._loaded+=h.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var h=this;return _asyncToGenerator(function*(){if(h._queuedChunks.length>0)return{value:h._queuedChunks.shift(),done:!1};if(h._done)return{value:void 0,done:!0};const P=(0,p.createPromiseCapability)();return h._requests.push(P),P.promise})()}cancel(h){this._done=!0;for(const P of this._requests)P.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class t{constructor(h,P,m){this._stream=h,this._begin=P,this._end=m,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(h){if(!this._done){if(0===this._requests.length)this._queuedChunk=h;else{this._requests.shift().resolve({value:h,done:!1});for(const m of this._requests)m.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var h=this;return _asyncToGenerator(function*(){if(h._queuedChunk){const m=h._queuedChunk;return h._queuedChunk=null,{value:m,done:!1}}if(h._done)return{value:void 0,done:!0};const P=(0,p.createPromiseCapability)();return h._requests.push(P),P.promise})()}cancel(h){this._done=!0;for(const P of this._requests)P.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(_e,k)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.XfaText=void 0;class te{static textContent(ue){const ie=[],K={items:ie,styles:Object.create(null)};return function t(I){if(!I)return;let h=null;const P=I.name;if("#text"===P)h=I.value;else{if(!te.shouldBuildText(P))return;I?.attributes?.textContent?h=I.attributes.textContent:I.value&&(h=I.value)}if(null!==h&&ie.push({str:h}),I.children)for(const m of I.children)t(m)}(ue),K}static shouldBuildText(ue){return!("textarea"===ue||"input"===ue||"option"===ue||"select"===ue)}}k.XfaText=te},(_e,k,te)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.NodeStandardFontDataFactory=k.NodeCanvasFactory=k.NodeCMapReaderFactory=void 0;var p=te(6);const ue=function(I){return new Promise((h,P)=>{__webpack_require__(172).readFile(I,(g,a)=>{!g&&a?h(new Uint8Array(a)):P(new Error(g))})})};k.NodeCanvasFactory=class ie extends p.BaseCanvasFactory{_createCanvas(h,P){return __webpack_require__(3414).createCanvas(h,P)}},k.NodeCMapReaderFactory=class K extends p.BaseCMapReaderFactory{_fetchData(h,P){return ue(h).then(m=>({cMapData:m,compressionType:P}))}},k.NodeStandardFontDataFactory=class t extends p.BaseStandardFontDataFactory{_fetchData(h){return ue(h)}}},(_e,k,te)=>{var M,Ke;Object.defineProperty(k,"__esModule",{value:!0}),k.AnnotationLayer=void 0;var p=te(1),ue=te(5),ie=te(8),K=te(21),t=te(22);const I=1e3,h=new WeakSet;function P(c){return{width:c[2]-c[0],height:c[3]-c[1]}}class m{static create(e){switch(e.data.annotationType){case p.AnnotationType.LINK:return new a(e);case p.AnnotationType.TEXT:return new b(e);case p.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new s(e);case"Btn":return e.data.radioButton?new x(e):e.data.checkBox?new u(e):new _(e);case"Ch":return new f(e)}return new i(e);case p.AnnotationType.POPUP:return new n(e);case p.AnnotationType.FREETEXT:return new y(e);case p.AnnotationType.LINE:return new A(e);case p.AnnotationType.SQUARE:return new v(e);case p.AnnotationType.CIRCLE:return new L(e);case p.AnnotationType.POLYLINE:return new R(e);case p.AnnotationType.CARET:return new B(e);case p.AnnotationType.INK:return new H(e);case p.AnnotationType.POLYGON:return new F(e);case p.AnnotationType.HIGHLIGHT:return new Y(e);case p.AnnotationType.UNDERLINE:return new ee(e);case p.AnnotationType.SQUIGGLY:return new U(e);case p.AnnotationType.STRIKEOUT:return new Z(e);case p.AnnotationType.STAMP:return new J(e);case p.AnnotationType.FILEATTACHMENT:return new re(e);default:return new g(e)}}}class g{constructor(e,{isRenderable:l=!1,ignoreBorder:d=!1,createQuadrilaterals:w=!1}={}){this.isRenderable=l,this.data=e.data,this.layer=e.layer,this.page=e.page,this.viewport=e.viewport,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this._mouseState=e.mouseState,l&&(this.container=this._createContainer(d)),w&&(this.quadrilaterals=this._createQuadrilaterals(d))}_createContainer(e=!1){const l=this.data,d=this.page,w=this.viewport,C=document.createElement("section");let{width:E,height:V}=P(l.rect);C.setAttribute("data-annotation-id",l.id);const W=p.Util.normalizeRect([l.rect[0],d.view[3]-l.rect[1]+d.view[1],l.rect[2],d.view[3]-l.rect[3]+d.view[1]]);if(l.hasOwnCanvas){const j=w.transform.slice(),[z,Q]=p.Util.singularValueDecompose2dScale(j);E=Math.ceil(E*z),V=Math.ceil(V*Q),W[0]*=z,W[1]*=Q;for(let se=0;se<4;se++)j[se]=Math.sign(j[se]);C.style.transform=`matrix(${j.join(",")})`}else C.style.transform=`matrix(${w.transform.join(",")})`;if(C.style.transformOrigin=`${-W[0]}px ${-W[1]}px`,!e&&l.borderStyle.width>0){C.style.borderWidth=`${l.borderStyle.width}px`,l.borderStyle.style!==p.AnnotationBorderStyleType.UNDERLINE&&(E-=2*l.borderStyle.width,V-=2*l.borderStyle.width);const j=l.borderStyle.horizontalCornerRadius,z=l.borderStyle.verticalCornerRadius;switch((j>0||z>0)&&(C.style.borderRadius=`${j}px / ${z}px`),l.borderStyle.style){case p.AnnotationBorderStyleType.SOLID:C.style.borderStyle="solid";break;case p.AnnotationBorderStyleType.DASHED:C.style.borderStyle="dashed";break;case p.AnnotationBorderStyleType.BEVELED:(0,p.warn)("Unimplemented border style: beveled");break;case p.AnnotationBorderStyleType.INSET:(0,p.warn)("Unimplemented border style: inset");break;case p.AnnotationBorderStyleType.UNDERLINE:C.style.borderBottomStyle="solid"}l.borderColor||l.color?C.style.borderColor=p.Util.makeHexColor(0|l.color[0],0|l.color[1],0|l.color[2]):C.style.borderWidth=0}return C.style.left=`${W[0]}px`,C.style.top=`${W[1]}px`,l.hasOwnCanvas?C.style.width=C.style.height="auto":(C.style.width=`${E}px`,C.style.height=`${V}px`),C}get _commonActions(){const e=(l,d,w)=>{const C=w.detail[l];w.target.style[d]=K.ColorConverters[`${C[0]}_HTML`](C.slice(1))};return(0,p.shadow)(this,"_commonActions",{display:l=>{const d=l.detail.display%2==1;l.target.style.visibility=d?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:d,print:0===l.detail.display||3===l.detail.display})},print:l=>{this.annotationStorage.setValue(this.data.id,{print:l.detail.print})},hidden:l=>{l.target.style.visibility=l.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:l.detail.hidden})},focus:l=>{setTimeout(()=>l.target.focus({preventScroll:!1}),0)},userName:l=>{l.target.title=l.detail.userName},readonly:l=>{l.detail.readonly?l.target.setAttribute("readonly",""):l.target.removeAttribute("readonly")},required:l=>{l.detail.required?l.target.setAttribute("required",""):l.target.removeAttribute("required")},bgColor:l=>{e("bgColor","backgroundColor",l)},fillColor:l=>{e("fillColor","backgroundColor",l)},fgColor:l=>{e("fgColor","color",l)},textColor:l=>{e("textColor","color",l)},borderColor:l=>{e("borderColor","borderColor",l)},strokeColor:l=>{e("strokeColor","borderColor",l)}})}_dispatchEventFromSandbox(e,l){const d=this._commonActions;for(const w of Object.keys(l.detail)){const C=e[w]||d[w];C&&C(l)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const l=this.annotationStorage.getRawValue(this.data.id);if(!l)return;const d=this._commonActions;for(const[w,C]of Object.entries(l)){const E=d[w];E&&(E({detail:C,target:e}),delete l[w])}}_createQuadrilaterals(e=!1){if(!this.data.quadPoints)return null;const l=[],d=this.data.rect;for(const w of this.data.quadPoints)this.data.rect=[w[2].x,w[2].y,w[1].x,w[1].y],l.push(this._createContainer(e));return this.data.rect=d,l}_createPopup(e,l){let d=this.container;this.quadrilaterals&&(e=e||this.quadrilaterals,d=this.quadrilaterals[0]),e||((e=document.createElement("div")).style.height=d.style.height,e.style.width=d.style.width,d.appendChild(e));const C=new r({container:d,trigger:e,color:l.color,titleObj:l.titleObj,modificationDate:l.modificationDate,contentsObj:l.contentsObj,richText:l.richText,hideWrapper:!0}).render();C.style.left=d.style.width,d.appendChild(C)}_renderQuadrilaterals(e){for(const l of this.quadrilaterals)l.className=e;return this.quadrilaterals}render(){(0,p.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,l=null){const d=[];if(this._fieldObjects){const w=this._fieldObjects[e];if(w)for(const{page:C,id:E,exportValues:V}of w){if(-1===C||E===l)continue;const W="string"==typeof V?V:null,j=document.getElementById(E);!j||h.has(j)?d.push({id:E,exportValue:W,domElement:j}):(0,p.warn)(`_getElementsByName - element not allowed: ${E}`)}return d}for(const w of document.getElementsByName(e)){const{id:C,exportValue:E}=w;C!==l&&(!h.has(w)||d.push({id:C,exportValue:E,domElement:w}))}return d}static get platform(){const e=typeof navigator<"u"?navigator.platform:"";return(0,p.shadow)(this,"platform",{isWin:e.includes("Win"),isMac:e.includes("Mac")})}}class a extends g{constructor(e,l=null){super(e,{isRenderable:!!(e.data.url||e.data.dest||e.data.action||e.data.isTooltipOnly||e.data.resetForm||e.data.actions&&(e.data.actions.Action||e.data.actions["Mouse Up"]||e.data.actions["Mouse Down"])),ignoreBorder:!!l?.ignoreBorder,createQuadrilaterals:!0})}render(){const{data:e,linkService:l}=this,d=document.createElement("a");if(e.url)l.addLinkAttributes(d,e.url,e.newWindow);else if(e.action)this._bindNamedAction(d,e.action);else if(e.dest)this._bindLink(d,e.dest);else{let w=!1;e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(w=!0,this._bindJSAction(d,e)),e.resetForm?this._bindResetFormAction(d,e.resetForm):w||this._bindLink(d,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((w,C)=>{const E=0===C?d:d.cloneNode();return w.appendChild(E),w}):(this.container.className="linkAnnotation",this.container.appendChild(d),this.container)}_bindLink(e,l){e.href=this.linkService.getDestinationHash(l),e.onclick=()=>(l&&this.linkService.goToDestination(l),!1),(l||""===l)&&(e.className="internalLink")}_bindNamedAction(e,l){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(l),!1),e.className="internalLink"}_bindJSAction(e,l){e.href=this.linkService.getAnchorUrl("");const d=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const w of Object.keys(l.actions)){const C=d.get(w);!C||(e[C]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:l.id,name:w}}),!1))}e.onclick||(e.onclick=()=>!1),e.className="internalLink"}_bindResetFormAction(e,l){const d=e.onclick;if(d||(e.href=this.linkService.getAnchorUrl("")),e.className="internalLink",!this._fieldObjects)return(0,p.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(d||(e.onclick=()=>!1));e.onclick=()=>{d&&d();const{fields:w,refs:C,include:E}=l,V=[];if(0!==w.length||0!==C.length){const z=new Set(C);for(const Q of w){const se=this._fieldObjects[Q]||[];for(const{id:fe}of se)z.add(fe)}for(const Q of Object.values(this._fieldObjects))for(const se of Q)z.has(se.id)===E&&V.push(se)}else for(const z of Object.values(this._fieldObjects))V.push(...z);const W=this.annotationStorage,j=[];for(const z of V){const{id:Q}=z;switch(j.push(Q),z.type){case"text":case"combobox":case"listbox":W.setValue(Q,{value:z.defaultValue||""});break;case"checkbox":case"radiobutton":W.setValue(Q,{value:z.defaultValue===z.exportValues});break;default:continue}const se=document.getElementById(Q);!se||!h.has(se)||se.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:j,name:"ResetForm"}}),!1}}}class b extends g{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str)})}render(){this.container.className="textAnnotation";const e=document.createElement("img");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(e,this.data),this.container.appendChild(e),this.container}}class i extends g{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(e){const{isWin:l,isMac:d}=g.platform;return l&&e.ctrlKey||d&&e.metaKey}_setEventListener(e,l,d,w){l.includes("mouse")?e.addEventListener(l,C=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:d,value:w(C),shift:C.shiftKey,modifier:this._getKeyModifier(C)}})}):e.addEventListener(l,C=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:d,value:w(C)}})})}_setEventListeners(e,l,d){for(const[w,C]of l)("Action"===C||this.data.actions?.[C])&&this._setEventListener(e,w,C,d)}_setBackgroundColor(e){const l=this.data.backgroundColor||null;e.style.backgroundColor=null===l?"transparent":p.Util.makeHexColor(l[0],l[1],l[2])}}class s extends i{constructor(e){super(e,{isRenderable:e.renderForms||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,l,d,w){const C=this.annotationStorage;for(const E of this._getElementsByName(e.name,e.id))E.domElement&&(E.domElement[l]=d),C.setValue(E.id,{[w]:d})}render(){const e=this.annotationStorage,l=this.data.id;this.container.className="textWidgetAnnotation";let d=null;if(this.renderForms){const w=e.getValue(l,{value:this.data.fieldValue}),C=w.formattedValue||w.value||"",E={userValue:null,formattedValue:null,valueOnFocus:""};this.data.multiLine?(d=document.createElement("textarea"),d.textContent=C):(d=document.createElement("input"),d.type="text",d.setAttribute("value",C)),h.add(d),d.disabled=this.data.readOnly,d.name=this.data.fieldName,d.tabIndex=I,E.userValue=C,d.setAttribute("id",l),d.addEventListener("input",W=>{e.setValue(l,{value:W.target.value}),this.setPropertyOnSiblings(d,"value",W.target.value,"value")}),d.addEventListener("resetform",W=>{d.value=E.userValue=this.data.defaultFieldValue??"",E.formattedValue=null});let V=W=>{const{formattedValue:j}=E;null!=j&&(W.target.value=j),W.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){d.addEventListener("focus",j=>{E.userValue&&(j.target.value=E.userValue),E.valueOnFocus=j.target.value}),d.addEventListener("updatefromsandbox",j=>{this._dispatchEventFromSandbox({value(Q){E.userValue=Q.detail.value??"",e.setValue(l,{value:E.userValue.toString()}),Q.target.value=E.userValue},formattedValue(Q){const{formattedValue:se}=Q.detail;E.formattedValue=se,null!=se&&Q.target!==document.activeElement&&(Q.target.value=se),e.setValue(l,{formattedValue:se})},selRange(Q){Q.target.setSelectionRange(...Q.detail.selRange)}},j)}),d.addEventListener("keydown",j=>{let z=-1;if("Escape"===j.key?z=0:"Enter"===j.key?z=2:"Tab"===j.key&&(z=3),-1===z)return;const{value:Q}=j.target;E.valueOnFocus!==Q&&(E.userValue=Q,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:l,name:"Keystroke",value:Q,willCommit:!0,commitKey:z,selStart:j.target.selectionStart,selEnd:j.target.selectionEnd}}))});const W=V;V=null,d.addEventListener("blur",j=>{const{value:z}=j.target;E.userValue=z,this._mouseState.isDown&&E.valueOnFocus!==z&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:l,name:"Keystroke",value:z,willCommit:!0,commitKey:1,selStart:j.target.selectionStart,selEnd:j.target.selectionEnd}}),W(j)}),this.data.actions?.Keystroke&&d.addEventListener("beforeinput",j=>{const{data:z,target:Q}=j,{value:se,selectionStart:fe,selectionEnd:Se}=Q;let G=fe,oe=Se;switch(j.inputType){case"deleteWordBackward":{const ae=se.substring(0,fe).match(/\w*[^\w]*$/);ae&&(G-=ae[0].length);break}case"deleteWordForward":{const ae=se.substring(fe).match(/^[^\w]*\w*/);ae&&(oe+=ae[0].length);break}case"deleteContentBackward":fe===Se&&(G-=1);break;case"deleteContentForward":fe===Se&&(oe+=1)}j.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:l,name:"Keystroke",value:se,change:z||"",willCommit:!1,selStart:G,selEnd:oe}})}),this._setEventListeners(d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],j=>j.target.value)}if(V&&d.addEventListener("blur",V),null!==this.data.maxLen&&(d.maxLength=this.data.maxLen),this.data.comb){const j=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;d.classList.add("comb"),d.style.letterSpacing=`calc(${j}px - 1ch)`}}else d=document.createElement("div"),d.textContent=this.data.fieldValue,d.style.verticalAlign="middle",d.style.display="table-cell";return this._setTextStyle(d),this._setBackgroundColor(d),this._setDefaultPropertiesFromJS(d),this.container.appendChild(d),this.container}_setTextStyle(e){const{fontSize:d,fontColor:w}=this.data.defaultAppearanceData,C=e.style;d&&(C.fontSize=`${d}px`),C.color=p.Util.makeHexColor(w[0],w[1],w[2]),null!==this.data.textAlignment&&(C.textAlign=["left","center","right"][this.data.textAlignment])}}class u extends i{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,l=this.data,d=l.id;let w=e.getValue(d,{value:l.exportValue===l.fieldValue}).value;"string"==typeof w&&(w="Off"!==w,e.setValue(d,{value:w})),this.container.className="buttonWidgetAnnotation checkBox";const C=document.createElement("input");return h.add(C),C.disabled=l.readOnly,C.type="checkbox",C.name=l.fieldName,w&&C.setAttribute("checked",!0),C.setAttribute("id",d),C.setAttribute("exportValue",l.exportValue),C.tabIndex=I,C.addEventListener("change",E=>{const{name:V,checked:W}=E.target;for(const j of this._getElementsByName(V,d)){const z=W&&j.exportValue===l.exportValue;j.domElement&&(j.domElement.checked=z),e.setValue(j.id,{value:z})}e.setValue(d,{value:W})}),C.addEventListener("resetform",E=>{E.target.checked=(l.defaultFieldValue||"Off")===l.exportValue}),this.enableScripting&&this.hasJSActions&&(C.addEventListener("updatefromsandbox",E=>{this._dispatchEventFromSandbox({value(W){W.target.checked="Off"!==W.detail.value,e.setValue(d,{value:W.target.checked})}},E)}),this._setEventListeners(C,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],E=>E.target.checked)),this._setBackgroundColor(C),this._setDefaultPropertiesFromJS(C),this.container.appendChild(C),this.container}}class x extends i{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const e=this.annotationStorage,l=this.data,d=l.id;let w=e.getValue(d,{value:l.fieldValue===l.buttonValue}).value;"string"==typeof w&&(w=w!==l.buttonValue,e.setValue(d,{value:w}));const C=document.createElement("input");if(h.add(C),C.disabled=l.readOnly,C.type="radio",C.name=l.fieldName,w&&C.setAttribute("checked",!0),C.setAttribute("id",d),C.tabIndex=I,C.addEventListener("change",E=>{const{name:V,checked:W}=E.target;for(const j of this._getElementsByName(V,d))e.setValue(j.id,{value:!1});e.setValue(d,{value:W})}),C.addEventListener("resetform",E=>{const V=l.defaultFieldValue;E.target.checked=null!=V&&V===l.buttonValue}),this.enableScripting&&this.hasJSActions){const E=l.buttonValue;C.addEventListener("updatefromsandbox",V=>{this._dispatchEventFromSandbox({value:j=>{const z=E===j.detail.value;for(const Q of this._getElementsByName(j.target.name)){const se=z&&Q.id===d;Q.domElement&&(Q.domElement.checked=se),e.setValue(Q.id,{value:se})}}},V)}),this._setEventListeners(C,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],V=>V.target.checked)}return this._setBackgroundColor(C),this._setDefaultPropertiesFromJS(C),this.container.appendChild(C),this.container}}class _ extends a{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();return e.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(e.title=this.data.alternativeText),this._setDefaultPropertiesFromJS(e),e}}class f extends i{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const e=this.annotationStorage,l=this.data.id,d=e.getValue(l,{value:this.data.fieldValue});let{fontSize:w}=this.data.defaultAppearanceData;w||(w=9);const C=`calc(${w}px * var(--zoom-factor))`,E=document.createElement("select");h.add(E),E.disabled=this.data.readOnly,E.name=this.data.fieldName,E.setAttribute("id",l),E.tabIndex=I,E.style.fontSize=`${w}px`,this.data.combo||(E.size=this.data.options.length,this.data.multiSelect&&(E.multiple=!0)),E.addEventListener("resetform",j=>{const z=this.data.defaultFieldValue;for(const Q of E.options)Q.selected=Q.value===z});for(const j of this.data.options){const z=document.createElement("option");z.textContent=j.displayValue,z.value=j.exportValue,this.data.combo&&(z.style.fontSize=C),d.value.includes(j.exportValue)&&z.setAttribute("selected",!0),E.appendChild(z)}const V=(j,z)=>{const Q=z?"value":"textContent",se=j.target.options;return j.target.multiple?Array.prototype.filter.call(se,fe=>fe.selected).map(fe=>fe[Q]):-1===se.selectedIndex?null:se[se.selectedIndex][Q]},W=j=>Array.prototype.map.call(j.target.options,Q=>({displayValue:Q.textContent,exportValue:Q.value}));return this.enableScripting&&this.hasJSActions?(E.addEventListener("updatefromsandbox",j=>{this._dispatchEventFromSandbox({value(Q){const se=Q.detail.value,fe=new Set(Array.isArray(se)?se:[se]);for(const Se of E.options)Se.selected=fe.has(Se.value);e.setValue(l,{value:V(Q,!0)})},multipleSelection(Q){E.multiple=!0},remove(Q){const se=E.options,fe=Q.detail.remove;se[fe].selected=!1,E.remove(fe),se.length>0&&-1===Array.prototype.findIndex.call(se,G=>G.selected)&&(se[0].selected=!0),e.setValue(l,{value:V(Q,!0),items:W(Q)})},clear(Q){for(;0!==E.length;)E.remove(0);e.setValue(l,{value:null,items:[]})},insert(Q){const{index:se,displayValue:fe,exportValue:Se}=Q.detail.insert,G=document.createElement("option");G.textContent=fe,G.value=Se,E.insertBefore(G,E.children[se]),e.setValue(l,{value:V(Q,!0),items:W(Q)})},items(Q){const{items:se}=Q.detail;for(;0!==E.length;)E.remove(0);for(const fe of se){const{displayValue:Se,exportValue:G}=fe,oe=document.createElement("option");oe.textContent=Se,oe.value=G,E.appendChild(oe)}E.options.length>0&&(E.options[0].selected=!0),e.setValue(l,{value:V(Q,!0),items:W(Q)})},indices(Q){const se=new Set(Q.detail.indices);for(const fe of Q.target.options)fe.selected=se.has(fe.index);e.setValue(l,{value:V(Q,!0)})},editable(Q){Q.target.disabled=!Q.detail.editable}},j)}),E.addEventListener("input",j=>{const z=V(j,!0),Q=V(j,!1);e.setValue(l,{value:z}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:l,name:"Keystroke",value:Q,changeEx:z,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(E,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],j=>j.target.checked)):E.addEventListener("input",function(j){e.setValue(l,{value:V(j,!0)})}),this._setBackgroundColor(E),this._setDefaultPropertiesFromJS(E),this.container.appendChild(E),this.container}}class n extends g{constructor(e){super(e,{isRenderable:!!(e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const d=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===d.length)return this.container;const w=new r({container:this.container,trigger:Array.from(d),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),C=this.page,E=p.Util.normalizeRect([this.data.parentRect[0],C.view[3]-this.data.parentRect[1]+C.view[1],this.data.parentRect[2],C.view[3]-this.data.parentRect[3]+C.view[1]]),V=E[0]+this.data.parentRect[2]-this.data.parentRect[0],W=E[1];return this.container.style.transformOrigin=`${-V}px ${-W}px`,this.container.style.left=`${V}px`,this.container.style.top=`${W}px`,this.container.appendChild(w.render()),this.container}}class r{constructor(e){this.container=e.container,this.trigger=e.trigger,this.color=e.color,this.titleObj=e.titleObj,this.modificationDate=e.modificationDate,this.contentsObj=e.contentsObj,this.richText=e.richText,this.hideWrapper=e.hideWrapper||!1,this.pinned=!1}render(){const l=document.createElement("div");l.className="popupWrapper",this.hideElement=this.hideWrapper?l:this.container,this.hideElement.hidden=!0;const d=document.createElement("div");d.className="popup";const w=this.color;w&&(d.style.backgroundColor=p.Util.makeHexColor(0|.7*(255-w[0])+w[0],0|.7*(255-w[1])+w[1],0|.7*(255-w[2])+w[2]));const C=document.createElement("h1");C.dir=this.titleObj.dir,C.textContent=this.titleObj.str,d.appendChild(C);const E=ue.PDFDateString.toDateObject(this.modificationDate);if(E){const V=document.createElement("span");V.className="popupDate",V.textContent="{{date}}, {{time}}",V.dataset.l10nId="annotation_date_string",V.dataset.l10nArgs=JSON.stringify({date:E.toLocaleDateString(),time:E.toLocaleTimeString()}),d.appendChild(V)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const V=this._formatContents(this.contentsObj);d.appendChild(V)}else t.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:d}),d.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const V of this.trigger)V.addEventListener("click",this._toggle.bind(this)),V.addEventListener("mouseover",this._show.bind(this,!1)),V.addEventListener("mouseout",this._hide.bind(this,!1));return d.addEventListener("click",this._hide.bind(this,!0)),l.appendChild(d),l}_formatContents({str:e,dir:l}){const d=document.createElement("p");d.className="popupContent",d.dir=l;const w=e.split(/(?:\r\n?|\n)/);for(let C=0,E=w.length;C<E;++C)d.appendChild(document.createTextNode(w[C])),C<E-1&&d.appendChild(document.createElement("br"));return d}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(e=!1){e&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(e=!0){e&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class y extends g{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class A extends g{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const e=this.data,{width:l,height:d}=P(e.rect),w=this.svgFactory.create(l,d),C=this.svgFactory.createElement("svg:line");return C.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),C.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),C.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),C.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),C.setAttribute("stroke-width",e.borderStyle.width||1),C.setAttribute("stroke","transparent"),C.setAttribute("fill","transparent"),w.appendChild(C),this.container.append(w),this._createPopup(C,e),this.container}}class v extends g{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const e=this.data,{width:l,height:d}=P(e.rect),w=this.svgFactory.create(l,d),C=e.borderStyle.width,E=this.svgFactory.createElement("svg:rect");return E.setAttribute("x",C/2),E.setAttribute("y",C/2),E.setAttribute("width",l-C),E.setAttribute("height",d-C),E.setAttribute("stroke-width",C||1),E.setAttribute("stroke","transparent"),E.setAttribute("fill","transparent"),w.appendChild(E),this.container.append(w),this._createPopup(E,e),this.container}}class L extends g{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const e=this.data,{width:l,height:d}=P(e.rect),w=this.svgFactory.create(l,d),C=e.borderStyle.width,E=this.svgFactory.createElement("svg:ellipse");return E.setAttribute("cx",l/2),E.setAttribute("cy",d/2),E.setAttribute("rx",l/2-C/2),E.setAttribute("ry",d/2-C/2),E.setAttribute("stroke-width",C||1),E.setAttribute("stroke","transparent"),E.setAttribute("fill","transparent"),w.appendChild(E),this.container.append(w),this._createPopup(E,e),this.container}}class R extends g{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:l,height:d}=P(e.rect),w=this.svgFactory.create(l,d);let C=[];for(const V of e.vertices)C.push(V.x-e.rect[0]+","+(e.rect[3]-V.y));C=C.join(" ");const E=this.svgFactory.createElement(this.svgElementName);return E.setAttribute("points",C),E.setAttribute("stroke-width",e.borderStyle.width||1),E.setAttribute("stroke","transparent"),E.setAttribute("fill","transparent"),w.appendChild(E),this.container.append(w),this._createPopup(E,e),this.container}}class F extends R{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class B extends g{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class H extends g{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:l,height:d}=P(e.rect),w=this.svgFactory.create(l,d);for(const C of e.inkLists){let E=[];for(const W of C)E.push(`${W.x-e.rect[0]},${e.rect[3]-W.y}`);E=E.join(" ");const V=this.svgFactory.createElement(this.svgElementName);V.setAttribute("points",E),V.setAttribute("stroke-width",e.borderStyle.width||1),V.setAttribute("stroke","transparent"),V.setAttribute("fill","transparent"),this._createPopup(V,e),w.appendChild(V)}return this.container.append(w),this.container}}class Y extends g{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class ee extends g{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class U extends g{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class Z extends g{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class J extends g{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class re extends g{constructor(e){super(e,{isRenderable:!0});const{filename:l,content:d}=this.data.file;this.filename=(0,ue.getFilenameFromUrl)(l),this.content=d,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:l,content:d})}render(){this.container.className="fileAttachmentAnnotation";const e=document.createElement("div");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(e,this.data),this.container.appendChild(e),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class le{static render(e){const l=[],d=[];for(const C of e.annotations){if(!C)continue;const{width:E,height:V}=P(C.rect);if(!(E<=0||V<=0)){if(C.annotationType===p.AnnotationType.POPUP){d.push(C);continue}l.push(C)}}d.length&&l.push(...d);const w=e.div;for(const C of l){const E=m.create({data:C,layer:w,page:e.page,viewport:e.viewport,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new ue.DOMSVGFactory,annotationStorage:e.annotationStorage||new ie.AnnotationStorage,enableScripting:e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,mouseState:e.mouseState||{isDown:!1}});if(E.isRenderable){const V=E.render();if(C.hidden&&(V.style.visibility="hidden"),Array.isArray(V))for(const W of V)w.appendChild(W);else E instanceof n?w.prepend(V):w.appendChild(V)}}we(this,M,Ke).call(this,w,e.annotationCanvasMap)}static update(e){const{page:l,viewport:d,annotations:w,annotationCanvasMap:C,div:E}=e,V=d.transform,W=`matrix(${V.join(",")})`;let j,z;for(const Q of w){const se=E.querySelectorAll(`[data-annotation-id="${Q.id}"]`);if(se)for(const fe of se)if(Q.hasOwnCanvas){const Se=p.Util.normalizeRect([Q.rect[0],l.view[3]-Q.rect[1]+l.view[1],Q.rect[2],l.view[3]-Q.rect[3]+l.view[1]]);if(!z){j=Math.abs(V[0]||V[1]);const ae=V.slice();for(let S=0;S<4;S++)ae[S]=Math.sign(ae[S]);z=`matrix(${ae.join(",")})`}const G=Se[0]*j,oe=Se[1]*j;fe.style.left=`${G}px`,fe.style.top=`${oe}px`,fe.style.transformOrigin=`${-G}px ${-oe}px`,fe.style.transform=z}else fe.style.transform=W}we(this,M,Ke).call(this,E,C),E.hidden=!1}}M=new WeakSet,Ke=function(e,l){if(l){for(const[d,w]of l){const C=e.querySelector(`[data-annotation-id="${d}"]`);if(!C)continue;const{firstChild:E}=C;"CANVAS"===E.nodeName?C.replaceChild(w,E):C.insertBefore(w,E)}l.clear()}},Ee(le,M),k.AnnotationLayer=le},(_e,k)=>{function te(ue){return Math.floor(255*Math.max(0,Math.min(1,ue))).toString(16).padStart(2,"0")}Object.defineProperty(k,"__esModule",{value:!0}),k.ColorConverters=void 0,k.ColorConverters=class p{static CMYK_G([ie,K,t,I]){return["G",1-Math.min(1,.3*ie+.59*t+.11*K+I)]}static G_CMYK([ie]){return["CMYK",0,0,0,1-ie]}static G_RGB([ie]){return["RGB",ie,ie,ie]}static G_HTML([ie]){const K=te(ie);return`#${K}${K}${K}`}static RGB_G([ie,K,t]){return["G",.3*ie+.59*K+.11*t]}static RGB_HTML([ie,K,t]){return`#${te(ie)}${te(K)}${te(t)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([ie,K,t,I]){return["RGB",1-Math.min(1,ie+I),1-Math.min(1,t+I),1-Math.min(1,K+I)]}static CMYK_HTML(ie){return this.RGB_HTML(this.CMYK_RGB(ie))}static RGB_CMYK([ie,K,t]){const I=1-ie,h=1-K,P=1-t;return["CMYK",I,h,P,Math.min(I,h,P)]}}},(_e,k,te)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.XfaLayer=void 0;var p=te(18);k.XfaLayer=class ue{static setupStorage(K,t,I,h,P){const m=h.getValue(t,{value:null});switch(I.name){case"textarea":if(null!==m.value&&(K.textContent=m.value),"print"===P)break;K.addEventListener("input",g=>{h.setValue(t,{value:g.target.value})});break;case"input":if("radio"===I.attributes.type||"checkbox"===I.attributes.type){if(m.value===I.attributes.xfaOn?K.setAttribute("checked",!0):m.value===I.attributes.xfaOff&&K.removeAttribute("checked"),"print"===P)break;K.addEventListener("change",g=>{h.setValue(t,{value:g.target.getAttribute(g.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==m.value&&K.setAttribute("value",m.value),"print"===P)break;K.addEventListener("input",g=>{h.setValue(t,{value:g.target.value})})}break;case"select":if(null!==m.value)for(const g of I.children)g.attributes.value===m.value&&(g.attributes.selected=!0);K.addEventListener("input",g=>{const a=g.target.options;h.setValue(t,{value:-1===a.selectedIndex?"":a[a.selectedIndex].value})})}}static setAttributes({html:K,element:t,storage:I=null,intent:h,linkService:P}){const{attributes:m}=t,g=K instanceof HTMLAnchorElement;"radio"===m.type&&(m.name=`${m.name}-${h}`);for(const[a,b]of Object.entries(m))if(null!=b&&"dataId"!==a)if("style"!==a)if("textContent"===a)K.textContent=b;else if("class"===a)b.length&&K.setAttribute(a,b.join(" "));else{if(g&&("href"===a||"newWindow"===a))continue;K.setAttribute(a,b)}else Object.assign(K.style,b);g&&P.addLinkAttributes(K,m.href,m.newWindow),I&&m.dataId&&this.setupStorage(K,m.dataId,t,I)}static render(K){const t=K.annotationStorage,I=K.linkService,h=K.xfaHtml,P=K.intent||"display",m=document.createElement(h.name);h.attributes&&this.setAttributes({html:m,element:h,intent:P,linkService:I});const g=[[h,-1,m]],a=K.div;if(a.appendChild(m),K.viewport){const i=`matrix(${K.viewport.transform.join(",")})`;a.style.transform=i}"richText"!==P&&a.setAttribute("class","xfaLayer xfaFont");const b=[];for(;g.length>0;){const[i,s,u]=g[g.length-1];if(s+1===i.children.length){g.pop();continue}const x=i.children[++g[g.length-1][1]];if(null===x)continue;const{name:_}=x;if("#text"===_){const n=document.createTextNode(x.value);b.push(n),u.appendChild(n);continue}let f;if(f=x?.attributes?.xmlns?document.createElementNS(x.attributes.xmlns,_):document.createElement(_),u.appendChild(f),x.attributes&&this.setAttributes({html:f,element:x,storage:t,intent:P,linkService:I}),x.children&&x.children.length>0)g.push([x,-1,f]);else if(x.value){const n=document.createTextNode(x.value);p.XfaText.shouldBuildText(_)&&b.push(n),f.appendChild(n)}}for(const i of a.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))i.setAttribute("readOnly",!0);return{textDivs:b}}static update(K){const t=`matrix(${K.viewport.transform.join(",")})`;K.div.style.transform=t,K.div.hidden=!1}}},(_e,k,te)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.renderTextLayer=function u(x){const _=new s({textContent:x.textContent,textContentStream:x.textContentStream,container:x.container,viewport:x.viewport,textDivs:x.textDivs,textContentItemsStr:x.textContentItemsStr,enhanceTextSelection:x.enhanceTextSelection});return _._render(x.timeout),_};var p=te(1);const t=new Map,I=/^\s+$/g;function P(x,_,f,n){const r=document.createElement("span"),y=x._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==_.str,hasEOL:_.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==_.str,hasEOL:_.hasEOL};x._textDivs.push(r);const A=p.Util.transform(x._viewport.transform,_.transform);let v=Math.atan2(A[1],A[0]);const L=f[_.fontName];L.vertical&&(v+=Math.PI/2);const R=Math.hypot(A[2],A[3]),F=R*function h(x,_){const f=t.get(x);if(f)return f;_.save(),_.font=`30px ${x}`;const n=_.measureText("");let r=n.fontBoundingBoxAscent,y=Math.abs(n.fontBoundingBoxDescent);if(r){_.restore();const v=r/(r+y);return t.set(x,v),v}_.strokeStyle="red",_.clearRect(0,0,30,30),_.strokeText("g",0,0);let A=_.getImageData(0,0,30,30).data;y=0;for(let v=A.length-1-3;v>=0;v-=4)if(A[v]>0){y=Math.ceil(v/4/30);break}_.clearRect(0,0,30,30),_.strokeText("A",0,30),A=_.getImageData(0,0,30,30).data,r=0;for(let v=0,L=A.length;v<L;v+=4)if(A[v]>0){r=30-Math.floor(v/4/30);break}if(_.restore(),r){const v=r/(r+y);return t.set(x,v),v}return t.set(x,.8),.8}(L.fontFamily,n);let B,H;0===v?(B=A[4],H=A[5]-F):(B=A[4]+F*Math.sin(v),H=A[5]-F*Math.cos(v)),r.style.left=`${B}px`,r.style.top=`${H}px`,r.style.fontSize=`${R}px`,r.style.fontFamily=L.fontFamily,r.setAttribute("role","presentation"),r.textContent=_.str,r.dir=_.dir,x._fontInspectorEnabled&&(r.dataset.fontName=_.fontName),0!==v&&(y.angle=v*(180/Math.PI));let Y=!1;if(_.str.length>1||x._enhanceTextSelection&&I.test(_.str))Y=!0;else if(" "!==_.str&&_.transform[0]!==_.transform[3]){const ee=Math.abs(_.transform[0]),U=Math.abs(_.transform[3]);ee!==U&&Math.max(ee,U)/Math.min(ee,U)>1.5&&(Y=!0)}if(Y&&(y.canvasWidth=L.vertical?_.height*x._viewport.scale:_.width*x._viewport.scale),x._textDivProperties.set(r,y),x._textContentStream&&x._layoutText(r),x._enhanceTextSelection&&y.hasText){let ee=1,U=0;0!==v&&(ee=Math.cos(v),U=Math.sin(v));const Z=(L.vertical?_.height:_.width)*x._viewport.scale,J=R;let re,le;0!==v?(re=[ee,U,-U,ee,B,H],le=p.Util.getAxialAlignedBoundingBox([0,0,Z,J],re)):le=[B,H,B+Z,H+J],x._bounds.push({left:le[0],top:le[1],right:le[2],bottom:le[3],div:r,size:[Z,J],m:re})}}function m(x){if(x._canceled)return;const _=x._textDivs,f=x._capability,n=_.length;if(n>1e5)return x._renderingDone=!0,void f.resolve();if(!x._textContentStream)for(let r=0;r<n;r++)x._layoutText(_[r]);x._renderingDone=!0,f.resolve()}function g(x,_,f){let n=0;for(let r=0;r<f;r++){const y=x[_++];y>0&&(n=n?Math.min(y,n):y)}return n}function i(x,_){_.sort(function(r,y){return r.x1-y.x1||r.index-y.index});const n=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const r of _){let y=0;for(;y<n.length&&n[y].end<=r.y1;)y++;let A=n.length-1;for(;A>=0&&n[A].start>=r.y2;)A--;let v,L,R,F,B=-1/0;for(R=y;R<=A;R++){let ee;v=n[R],L=v.boundary,ee=L.x2>r.x1?L.index>r.index?L.x1New:r.x1:void 0===L.x2New?(L.x2+r.x1)/2:L.x2New,ee>B&&(B=ee)}for(r.x1New=B,R=y;R<=A;R++)v=n[R],L=v.boundary,void 0===L.x2New?L.x2>r.x1?L.index>r.index&&(L.x2New=L.x2):L.x2New=B:L.x2New>B&&(L.x2New=Math.max(B,L.x2));const H=[];let Y=null;for(R=y;R<=A;R++){v=n[R],L=v.boundary;const ee=L.x2>r.x2?L:r;Y===ee?H[H.length-1].end=v.end:(H.push({start:v.start,end:v.end,boundary:ee}),Y=ee)}for(n[y].start<r.y1&&(H[0].start=r.y1,H.unshift({start:n[y].start,end:r.y1,boundary:n[y].boundary})),r.y2<n[A].end&&(H[H.length-1].end=r.y2,H.push({start:r.y2,end:n[A].end,boundary:n[A].boundary})),R=y;R<=A;R++){if(v=n[R],L=v.boundary,void 0!==L.x2New)continue;let ee=!1;for(F=y-1;!ee&&F>=0&&n[F].start>=L.y1;F--)ee=n[F].boundary===L;for(F=A+1;!ee&&F<n.length&&n[F].end<=L.y2;F++)ee=n[F].boundary===L;for(F=0;!ee&&F<H.length;F++)ee=H[F].boundary===L;ee||(L.x2New=B)}Array.prototype.splice.apply(n,[y,A-y+1].concat(H))}for(const r of n){const y=r.boundary;void 0===y.x2New&&(y.x2New=Math.max(x,y.x2))}}class s{constructor({textContent:_,textContentStream:f,container:n,viewport:r,textDivs:y,textContentItemsStr:A,enhanceTextSelection:v}){this._textContent=_,this._textContentStream=f,this._container=n,this._document=n.ownerDocument,this._viewport=r,this._textDivs=y||[],this._textContentItemsStr=A||[],this._enhanceTextSelection=!!v,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,p.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new p.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(_,f){for(let n=0,r=_.length;n<r;n++)if(void 0!==_[n].str)this._textContentItemsStr.push(_[n].str),P(this,_[n],f,this._layoutTextCtx);else if("beginMarkedContentProps"===_[n].type||"beginMarkedContent"===_[n].type){const y=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==_[n].id&&this._container.setAttribute("id",`${_[n].id}`),y.appendChild(this._container)}else"endMarkedContent"===_[n].type&&(this._container=this._container.parentNode)}_layoutText(_){const f=this._textDivProperties.get(_);let n="";if(0!==f.canvasWidth&&f.hasText){const{fontSize:r,fontFamily:y}=_.style;(r!==this._layoutTextLastFontSize||y!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${r} ${y}`,this._layoutTextLastFontSize=r,this._layoutTextLastFontFamily=y);const{width:A}=this._layoutTextCtx.measureText(_.textContent);if(A>0){const v=f.canvasWidth/A;this._enhanceTextSelection&&(f.scale=v),n=`scaleX(${v})`}}if(0!==f.angle&&(n=`rotate(${f.angle}deg) ${n}`),n.length>0&&(this._enhanceTextSelection&&(f.originalTransform=n),_.style.transform=n),f.hasText&&this._container.appendChild(_),f.hasEOL){const r=document.createElement("br");r.setAttribute("role","presentation"),this._container.appendChild(r)}}_render(_=0){const f=(0,p.createPromiseCapability)();let n=Object.create(null);const r=this._document.createElement("canvas");if(r.height=r.width=30,this._layoutTextCtx=r.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),f.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const y=()=>{this._reader.read().then(({value:A,done:v})=>{v?f.resolve():(Object.assign(n,A.styles),this._processItems(A.items,n),y())},f.reject)};this._reader=this._textContentStream.getReader(),y()}}f.promise.then(()=>{n=null,_?this._renderTimer=setTimeout(()=>{m(this),this._renderTimer=null},_):m(this)},this._capability.reject)}expandTextDivs(_=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function a(x){const _=x._bounds,f=x._viewport,n=function b(x,_,f){const n=f.map(function(y,A){return{x1:y.left,y1:y.top,x2:y.right,y2:y.bottom,index:A,x1New:void 0,x2New:void 0}});i(x,n);const r=new Array(f.length);for(const y of n)r[y.index]={left:y.x1New,top:0,right:y.x2New,bottom:0};f.map(function(y,A){const v=r[A],L=n[A];L.x1=y.top,L.y1=x-v.right,L.x2=y.bottom,L.y2=x-v.left,L.index=A,L.x1New=void 0,L.x2New=void 0}),i(_,n);for(const y of n){const A=y.index;r[A].top=y.x1New,r[A].bottom=y.x2New}return r}(f.width,f.height,_);for(let r=0;r<n.length;r++){const y=_[r].div,A=x._textDivProperties.get(y);if(0===A.angle){A.paddingLeft=_[r].left-n[r].left,A.paddingTop=_[r].top-n[r].top,A.paddingRight=n[r].right-_[r].right,A.paddingBottom=n[r].bottom-_[r].bottom,x._textDivProperties.set(y,A);continue}const v=n[r],L=_[r],R=L.m,F=R[0],B=R[1],H=[[0,0],[0,L.size[1]],[L.size[0],0],L.size],Y=new Float64Array(64);for(let U=0,Z=H.length;U<Z;U++){const J=p.Util.applyTransform(H[U],R);Y[U+0]=F&&(v.left-J[0])/F,Y[U+4]=B&&(v.top-J[1])/B,Y[U+8]=F&&(v.right-J[0])/F,Y[U+12]=B&&(v.bottom-J[1])/B,Y[U+16]=B&&(v.left-J[0])/-B,Y[U+20]=F&&(v.top-J[1])/F,Y[U+24]=B&&(v.right-J[0])/-B,Y[U+28]=F&&(v.bottom-J[1])/F,Y[U+32]=F&&(v.left-J[0])/-F,Y[U+36]=B&&(v.top-J[1])/-B,Y[U+40]=F&&(v.right-J[0])/-F,Y[U+44]=B&&(v.bottom-J[1])/-B,Y[U+48]=B&&(v.left-J[0])/B,Y[U+52]=F&&(v.top-J[1])/-F,Y[U+56]=B&&(v.right-J[0])/B,Y[U+60]=F&&(v.bottom-J[1])/-F}const ee=1+Math.min(Math.abs(F),Math.abs(B));A.paddingLeft=g(Y,32,16)/ee,A.paddingTop=g(Y,48,16)/ee,A.paddingRight=g(Y,0,16)/ee,A.paddingBottom=g(Y,16,16)/ee,x._textDivProperties.set(y,A)}}(this),this._bounds=null);const f=[],n=[];for(let r=0,y=this._textDivs.length;r<y;r++){const A=this._textDivs[r],v=this._textDivProperties.get(A);!v.hasText||(_?(f.length=0,n.length=0,v.originalTransform&&f.push(v.originalTransform),v.paddingTop>0?(n.push(`${v.paddingTop}px`),f.push(`translateY(${-v.paddingTop}px)`)):n.push(0),n.push(v.paddingRight>0?v.paddingRight/v.scale+"px":0),n.push(v.paddingBottom>0?`${v.paddingBottom}px`:0),v.paddingLeft>0?(n.push(v.paddingLeft/v.scale+"px"),f.push(`translateX(${-v.paddingLeft/v.scale}px)`)):n.push(0),A.style.padding=n.join(" "),f.length&&(A.style.transform=f.join(" "))):(A.style.padding=null,A.style.transform=v.originalTransform))}}}},(_e,k,te)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.SVGGraphics=void 0;var p=te(1),ue=te(5),ie=te(3);let K=class{constructor(){(0,p.unreachable)("Not implemented: SVGGraphics")}};k.SVGGraphics=K;{let i=function(n){let r=[];const y=[];for(const A of n)"save"!==A.fn?"restore"===A.fn?r=y.pop():r.push(A):(r.push({fnId:92,fn:"group",items:[]}),y.push(r),r=r[r.length-1].items);return r},s=function(n){if(Number.isInteger(n))return n.toString();const r=n.toFixed(10);let y=r.length-1;if("0"!==r[y])return r;do{y--}while("0"===r[y]);return r.substring(0,"."===r[y]?y:y+1)},u=function(n){if(0===n[4]&&0===n[5]){if(0===n[1]&&0===n[2])return 1===n[0]&&1===n[3]?"":`scale(${s(n[0])} ${s(n[3])})`;if(n[0]===n[3]&&n[1]===-n[2]){const r=180*Math.acos(n[0])/Math.PI;return`rotate(${s(r)})`}}else if(1===n[0]&&0===n[1]&&0===n[2]&&1===n[3])return`translate(${s(n[4])} ${s(n[5])})`;return`matrix(${s(n[0])} ${s(n[1])} ${s(n[2])} ${s(n[3])} ${s(n[4])} ${s(n[5])})`};const t={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},I="http://www.w3.org/XML/1998/namespace",h="http://www.w3.org/1999/xlink",P=["butt","round","square"],m=["miter","round","bevel"],g=function(n,r="",y=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!y)return URL.createObjectURL(new Blob([n],{type:r}));const A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let v=`data:${r};base64,`;for(let L=0,R=n.length;L<R;L+=3){const F=255&n[L],B=255&n[L+1],H=255&n[L+2];v+=A[F>>2]+A[(3&F)<<4|B>>4]+A[L+1<R?(15&B)<<2|H>>6:64]+A[L+2<R?63&H:64]}return v},a=function(){const n=new Uint8Array([137,80,78,71,13,10,26,10]),y=new Int32Array(256);for(let H=0;H<256;H++){let Y=H;for(let ee=0;ee<8;ee++)Y=1&Y?3988292384^Y>>1&2147483647:Y>>1&2147483647;y[H]=Y}function v(H,Y,ee,U){let Z=U;const J=Y.length;ee[Z]=J>>24&255,ee[Z+1]=J>>16&255,ee[Z+2]=J>>8&255,ee[Z+3]=255&J,Z+=4,ee[Z]=255&H.charCodeAt(0),ee[Z+1]=255&H.charCodeAt(1),ee[Z+2]=255&H.charCodeAt(2),ee[Z+3]=255&H.charCodeAt(3),Z+=4,ee.set(Y,Z),Z+=Y.length;const re=function A(H,Y,ee){let U=-1;for(let Z=Y;Z<ee;Z++)U=U>>>8^y[255&(U^H[Z])];return-1^U}(ee,U+4,Z);ee[Z]=re>>24&255,ee[Z+1]=re>>16&255,ee[Z+2]=re>>8&255,ee[Z+3]=255&re}function F(H){let Y=H.length;const ee=65535,U=Math.ceil(Y/ee),Z=new Uint8Array(2+Y+5*U+4);let J=0;Z[J++]=120,Z[J++]=156;let re=0;for(;Y>ee;)Z[J++]=0,Z[J++]=255,Z[J++]=255,Z[J++]=0,Z[J++]=0,Z.set(H.subarray(re,re+ee),J),J+=ee,re+=ee,Y-=ee;Z[J++]=1,Z[J++]=255&Y,Z[J++]=Y>>8&255,Z[J++]=255&~Y,Z[J++]=(65535&~Y)>>8&255,Z.set(H.subarray(re),J),J+=H.length-re;const le=function L(H,Y,ee){let U=1,Z=0;for(let J=Y;J<ee;++J)U=(U+(255&H[J]))%65521,Z=(Z+U)%65521;return Z<<16|U}(H,0,H.length);return Z[J++]=le>>24&255,Z[J++]=le>>16&255,Z[J++]=le>>8&255,Z[J++]=255&le,Z}return function(Y,ee,U){return function B(H,Y,ee,U){const Z=H.width,J=H.height;let re,le,M;const o=H.data;switch(Y){case p.ImageKind.GRAYSCALE_1BPP:le=0,re=1,M=Z+7>>3;break;case p.ImageKind.RGB_24BPP:le=2,re=8,M=3*Z;break;case p.ImageKind.RGBA_32BPP:le=6,re=8,M=4*Z;break;default:throw new Error("invalid format")}const c=new Uint8Array((1+M)*J);let e=0,l=0;for(let W=0;W<J;++W)c[e++]=0,c.set(o.subarray(l,l+M),e),l+=M,e+=M;if(Y===p.ImageKind.GRAYSCALE_1BPP&&U){e=0;for(let W=0;W<J;W++){e++;for(let j=0;j<M;j++)c[e++]^=255}}const d=new Uint8Array([Z>>24&255,Z>>16&255,Z>>8&255,255&Z,J>>24&255,J>>16&255,J>>8&255,255&J,re,le,0,0,0]),w=function R(H){if(!ie.isNodeJS)return F(H);try{let Y;Y=parseInt(process.versions.node)>=8?H:Buffer.from(H);const ee=__webpack_require__(2258).deflateSync(Y,{level:9});return ee instanceof Uint8Array?ee:new Uint8Array(ee)}catch(Y){(0,p.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Y)}return F(H)}(c),E=new Uint8Array(n.length+36+d.length+w.length);let V=0;return E.set(n,V),V+=n.length,v("IHDR",d,E,V),V+=12+d.length,v("IDATA",w,E,V),V+=12+w.length,v("IEND",new Uint8Array(0),E,V),g(E,"image/png",ee)}(Y,void 0===Y.kind?p.ImageKind.GRAYSCALE_1BPP:Y.kind,ee,U)}}();class b{constructor(){this.fontSizeScale=1,this.fontWeight=t.fontWeight,this.fontSize=0,this.textMatrix=p.IDENTITY_MATRIX,this.fontMatrix=p.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=p.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=t.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(r,y){this.x=r,this.y=y}}let x=0,_=0,f=0;k.SVGGraphics=K=class{constructor(n,r,y=!1){this.svgFactory=new ue.DOMSVGFactory,this.current=new b,this.transformMatrix=p.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=n,this.objs=r,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!y,this._operatorIdMapping=[];for(const A in p.OPS)this._operatorIdMapping[p.OPS[A]]=A}save(){this.transformStack.push(this.transformMatrix);const n=this.current;this.extraStack.push(n),this.current=n.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(n){this.save(),this.executeOpTree(n),this.restore()}loadDependencies(n){const r=n.fnArray,y=n.argsArray;for(let A=0,v=r.length;A<v;A++)if(r[A]===p.OPS.dependency)for(const L of y[A]){const R=L.startsWith("g_")?this.commonObjs:this.objs,F=new Promise(B=>{R.get(L,B)});this.current.dependencies.push(F)}return Promise.all(this.current.dependencies)}transform(n,r,y,A,v,L){this.transformMatrix=p.Util.transform(this.transformMatrix,[n,r,y,A,v,L]),this.tgrp=null}getSVG(n,r){this.viewport=r;const y=this._initialize(r);return this.loadDependencies(n).then(()=>(this.transformMatrix=p.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(n)),y))}convertOpList(n){const r=this._operatorIdMapping,y=n.argsArray,A=n.fnArray,v=[];for(let L=0,R=A.length;L<R;L++){const F=A[L];v.push({fnId:F,fn:r[F],args:y[L]})}return i(v)}executeOpTree(n){for(const r of n){const y=r.fn,v=r.args;switch(0|r.fnId){case p.OPS.beginText:this.beginText();break;case p.OPS.dependency:break;case p.OPS.setLeading:this.setLeading(v);break;case p.OPS.setLeadingMoveText:this.setLeadingMoveText(v[0],v[1]);break;case p.OPS.setFont:this.setFont(v);break;case p.OPS.showText:case p.OPS.showSpacedText:this.showText(v[0]);break;case p.OPS.endText:this.endText();break;case p.OPS.moveText:this.moveText(v[0],v[1]);break;case p.OPS.setCharSpacing:this.setCharSpacing(v[0]);break;case p.OPS.setWordSpacing:this.setWordSpacing(v[0]);break;case p.OPS.setHScale:this.setHScale(v[0]);break;case p.OPS.setTextMatrix:this.setTextMatrix(v[0],v[1],v[2],v[3],v[4],v[5]);break;case p.OPS.setTextRise:this.setTextRise(v[0]);break;case p.OPS.setTextRenderingMode:this.setTextRenderingMode(v[0]);break;case p.OPS.setLineWidth:this.setLineWidth(v[0]);break;case p.OPS.setLineJoin:this.setLineJoin(v[0]);break;case p.OPS.setLineCap:this.setLineCap(v[0]);break;case p.OPS.setMiterLimit:this.setMiterLimit(v[0]);break;case p.OPS.setFillRGBColor:this.setFillRGBColor(v[0],v[1],v[2]);break;case p.OPS.setStrokeRGBColor:this.setStrokeRGBColor(v[0],v[1],v[2]);break;case p.OPS.setStrokeColorN:this.setStrokeColorN(v);break;case p.OPS.setFillColorN:this.setFillColorN(v);break;case p.OPS.shadingFill:this.shadingFill(v[0]);break;case p.OPS.setDash:this.setDash(v[0],v[1]);break;case p.OPS.setRenderingIntent:this.setRenderingIntent(v[0]);break;case p.OPS.setFlatness:this.setFlatness(v[0]);break;case p.OPS.setGState:this.setGState(v[0]);break;case p.OPS.fill:this.fill();break;case p.OPS.eoFill:this.eoFill();break;case p.OPS.stroke:this.stroke();break;case p.OPS.fillStroke:this.fillStroke();break;case p.OPS.eoFillStroke:this.eoFillStroke();break;case p.OPS.clip:this.clip("nonzero");break;case p.OPS.eoClip:this.clip("evenodd");break;case p.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case p.OPS.paintImageXObject:this.paintImageXObject(v[0]);break;case p.OPS.paintInlineImageXObject:this.paintInlineImageXObject(v[0]);break;case p.OPS.paintImageMaskXObject:this.paintImageMaskXObject(v[0]);break;case p.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(v[0],v[1]);break;case p.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case p.OPS.closePath:this.closePath();break;case p.OPS.closeStroke:this.closeStroke();break;case p.OPS.closeFillStroke:this.closeFillStroke();break;case p.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case p.OPS.nextLine:this.nextLine();break;case p.OPS.transform:this.transform(v[0],v[1],v[2],v[3],v[4],v[5]);break;case p.OPS.constructPath:this.constructPath(v[0],v[1]);break;case p.OPS.endPath:this.endPath();break;case 92:this.group(r.items);break;default:(0,p.warn)(`Unimplemented operator ${y}`)}}}setWordSpacing(n){this.current.wordSpacing=n}setCharSpacing(n){this.current.charSpacing=n}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(n,r,y,A,v,L){const R=this.current;R.textMatrix=R.lineMatrix=[n,r,y,A,v,L],R.textMatrixScale=Math.hypot(n,r),R.x=R.lineX=0,R.y=R.lineY=0,R.xcoords=[],R.ycoords=[],R.tspan=this.svgFactory.createElement("svg:tspan"),R.tspan.setAttributeNS(null,"font-family",R.fontFamily),R.tspan.setAttributeNS(null,"font-size",`${s(R.fontSize)}px`),R.tspan.setAttributeNS(null,"y",s(-R.y)),R.txtElement=this.svgFactory.createElement("svg:text"),R.txtElement.appendChild(R.tspan)}beginText(){const n=this.current;n.x=n.lineX=0,n.y=n.lineY=0,n.textMatrix=p.IDENTITY_MATRIX,n.lineMatrix=p.IDENTITY_MATRIX,n.textMatrixScale=1,n.tspan=this.svgFactory.createElement("svg:tspan"),n.txtElement=this.svgFactory.createElement("svg:text"),n.txtgrp=this.svgFactory.createElement("svg:g"),n.xcoords=[],n.ycoords=[]}moveText(n,r){const y=this.current;y.x=y.lineX+=n,y.y=y.lineY+=r,y.xcoords=[],y.ycoords=[],y.tspan=this.svgFactory.createElement("svg:tspan"),y.tspan.setAttributeNS(null,"font-family",y.fontFamily),y.tspan.setAttributeNS(null,"font-size",`${s(y.fontSize)}px`),y.tspan.setAttributeNS(null,"y",s(-y.y))}showText(n){const r=this.current,y=r.font,A=r.fontSize;if(0===A)return;const v=r.fontSizeScale,L=r.charSpacing,R=r.wordSpacing,F=r.fontDirection,B=r.textHScale*F,H=y.vertical,Y=H?1:-1,ee=y.defaultVMetrics,U=A*r.fontMatrix[0];let Z=0;for(const le of n){if(null===le){Z+=F*R;continue}if("number"==typeof le){Z+=Y*le*A/1e3;continue}const M=(le.isSpace?R:0)+L,o=le.fontChar;let c,e,d,l=le.width;if(H){let w;const C=le.vmetric||ee;w=le.vmetric?C[1]:.5*l,w=-w*U,l=C?-C[0]:l,c=w/v,e=(Z+C[2]*U)/v}else c=Z/v,e=0;(le.isInFont||y.missingFile)&&(r.xcoords.push(r.x+c),H&&r.ycoords.push(-r.y+e),r.tspan.textContent+=o),d=H?l*U-M*F:l*U+M*F,Z+=d}r.tspan.setAttributeNS(null,"x",r.xcoords.map(s).join(" ")),r.tspan.setAttributeNS(null,"y",H?r.ycoords.map(s).join(" "):s(-r.y)),H?r.y-=Z:r.x+=Z*B,r.tspan.setAttributeNS(null,"font-family",r.fontFamily),r.tspan.setAttributeNS(null,"font-size",`${s(r.fontSize)}px`),r.fontStyle!==t.fontStyle&&r.tspan.setAttributeNS(null,"font-style",r.fontStyle),r.fontWeight!==t.fontWeight&&r.tspan.setAttributeNS(null,"font-weight",r.fontWeight);const J=r.textRenderingMode&p.TextRenderingMode.FILL_STROKE_MASK;J===p.TextRenderingMode.FILL||J===p.TextRenderingMode.FILL_STROKE?(r.fillColor!==t.fillColor&&r.tspan.setAttributeNS(null,"fill",r.fillColor),r.fillAlpha<1&&r.tspan.setAttributeNS(null,"fill-opacity",r.fillAlpha)):r.tspan.setAttributeNS(null,"fill",r.textRenderingMode===p.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(J===p.TextRenderingMode.STROKE||J===p.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(r.tspan,1/(r.textMatrixScale||1));let re=r.textMatrix;0!==r.textRise&&(re=re.slice(),re[5]+=r.textRise),r.txtElement.setAttributeNS(null,"transform",`${u(re)} scale(${s(B)}, -1)`),r.txtElement.setAttributeNS(I,"xml:space","preserve"),r.txtElement.appendChild(r.tspan),r.txtgrp.appendChild(r.txtElement),this._ensureTransformGroup().appendChild(r.txtElement)}setLeadingMoveText(n,r){this.setLeading(-r),this.moveText(n,r)}addFontStyle(n){if(!n.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const r=g(n.data,n.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${n.loadedName}"; src: url(${r}); }\n`}setFont(n){const r=this.current,y=this.commonObjs.get(n[0]);let A=n[1];r.font=y,this.embedFonts&&!y.missingFile&&!this.embeddedFonts[y.loadedName]&&(this.addFontStyle(y),this.embeddedFonts[y.loadedName]=y),r.fontMatrix=y.fontMatrix||p.FONT_IDENTITY_MATRIX;let v="normal";y.black?v="900":y.bold&&(v="bold");const L=y.italic?"italic":"normal";A<0?(A=-A,r.fontDirection=-1):r.fontDirection=1,r.fontSize=A,r.fontFamily=y.loadedName,r.fontWeight=v,r.fontStyle=L,r.tspan=this.svgFactory.createElement("svg:tspan"),r.tspan.setAttributeNS(null,"y",s(-r.y)),r.xcoords=[],r.ycoords=[]}endText(){const n=this.current;n.textRenderingMode&p.TextRenderingMode.ADD_TO_PATH_FLAG&&n.txtElement?.hasChildNodes()&&(n.element=n.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(n){n>0&&(this.current.lineWidth=n)}setLineCap(n){this.current.lineCap=P[n]}setLineJoin(n){this.current.lineJoin=m[n]}setMiterLimit(n){this.current.miterLimit=n}setStrokeAlpha(n){this.current.strokeAlpha=n}setStrokeRGBColor(n,r,y){this.current.strokeColor=p.Util.makeHexColor(n,r,y)}setFillAlpha(n){this.current.fillAlpha=n}setFillRGBColor(n,r,y){this.current.fillColor=p.Util.makeHexColor(n,r,y),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(n){this.current.strokeColor=this._makeColorN_Pattern(n)}setFillColorN(n){this.current.fillColor=this._makeColorN_Pattern(n)}shadingFill(n){const r=this.viewport.width,y=this.viewport.height,A=p.Util.inverseTransform(this.transformMatrix),v=p.Util.applyTransform([0,0],A),L=p.Util.applyTransform([0,y],A),R=p.Util.applyTransform([r,0],A),F=p.Util.applyTransform([r,y],A),B=Math.min(v[0],L[0],R[0],F[0]),H=Math.min(v[1],L[1],R[1],F[1]),Y=Math.max(v[0],L[0],R[0],F[0]),ee=Math.max(v[1],L[1],R[1],F[1]),U=this.svgFactory.createElement("svg:rect");U.setAttributeNS(null,"x",B),U.setAttributeNS(null,"y",H),U.setAttributeNS(null,"width",Y-B),U.setAttributeNS(null,"height",ee-H),U.setAttributeNS(null,"fill",this._makeShadingPattern(n)),this.current.fillAlpha<1&&U.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(U)}_makeColorN_Pattern(n){return"TilingPattern"===n[0]?this._makeTilingPattern(n):this._makeShadingPattern(n)}_makeTilingPattern(n){const r=n[1],y=n[2],A=n[3]||p.IDENTITY_MATRIX,[v,L,R,F]=n[4],B=n[5],H=n[6],Y=n[7],ee="shading"+f++,[U,Z,J,re]=p.Util.normalizeRect([...p.Util.applyTransform([v,L],A),...p.Util.applyTransform([R,F],A)]),[le,M]=p.Util.singularValueDecompose2dScale(A),o=B*le,c=H*M,e=this.svgFactory.createElement("svg:pattern");e.setAttributeNS(null,"id",ee),e.setAttributeNS(null,"patternUnits","userSpaceOnUse"),e.setAttributeNS(null,"width",o),e.setAttributeNS(null,"height",c),e.setAttributeNS(null,"x",`${U}`),e.setAttributeNS(null,"y",`${Z}`);const l=this.svg,d=this.transformMatrix,w=this.current.fillColor,C=this.current.strokeColor,E=this.svgFactory.create(J-U,re-Z);if(this.svg=E,this.transformMatrix=A,2===Y){const V=p.Util.makeHexColor(...r);this.current.fillColor=V,this.current.strokeColor=V}return this.executeOpTree(this.convertOpList(y)),this.svg=l,this.transformMatrix=d,this.current.fillColor=w,this.current.strokeColor=C,e.appendChild(E.childNodes[0]),this.defs.appendChild(e),`url(#${ee})`}_makeShadingPattern(n){switch("string"==typeof n&&(n=this.objs.get(n)),n[0]){case"RadialAxial":const r="shading"+f++,y=n[3];let A;switch(n[1]){case"axial":const v=n[4],L=n[5];A=this.svgFactory.createElement("svg:linearGradient"),A.setAttributeNS(null,"id",r),A.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),A.setAttributeNS(null,"x1",v[0]),A.setAttributeNS(null,"y1",v[1]),A.setAttributeNS(null,"x2",L[0]),A.setAttributeNS(null,"y2",L[1]);break;case"radial":const R=n[4],F=n[5],B=n[6],H=n[7];A=this.svgFactory.createElement("svg:radialGradient"),A.setAttributeNS(null,"id",r),A.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),A.setAttributeNS(null,"cx",F[0]),A.setAttributeNS(null,"cy",F[1]),A.setAttributeNS(null,"r",H),A.setAttributeNS(null,"fx",R[0]),A.setAttributeNS(null,"fy",R[1]),A.setAttributeNS(null,"fr",B);break;default:throw new Error(`Unknown RadialAxial type: ${n[1]}`)}for(const v of y){const L=this.svgFactory.createElement("svg:stop");L.setAttributeNS(null,"offset",v[0]),L.setAttributeNS(null,"stop-color",v[1]),A.appendChild(L)}return this.defs.appendChild(A),`url(#${r})`;case"Mesh":return(0,p.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${n[0]}`)}}setDash(n,r){this.current.dashArray=n,this.current.dashPhase=r}constructPath(n,r){const y=this.current;let A=y.x,v=y.y,L=[],R=0;for(const F of n)switch(0|F){case p.OPS.rectangle:A=r[R++],v=r[R++];const Y=A+r[R++],ee=v+r[R++];L.push("M",s(A),s(v),"L",s(Y),s(v),"L",s(Y),s(ee),"L",s(A),s(ee),"Z");break;case p.OPS.moveTo:A=r[R++],v=r[R++],L.push("M",s(A),s(v));break;case p.OPS.lineTo:A=r[R++],v=r[R++],L.push("L",s(A),s(v));break;case p.OPS.curveTo:A=r[R+4],v=r[R+5],L.push("C",s(r[R]),s(r[R+1]),s(r[R+2]),s(r[R+3]),s(A),s(v)),R+=6;break;case p.OPS.curveTo2:L.push("C",s(A),s(v),s(r[R]),s(r[R+1]),s(r[R+2]),s(r[R+3])),A=r[R+2],v=r[R+3],R+=4;break;case p.OPS.curveTo3:A=r[R+2],v=r[R+3],L.push("C",s(r[R]),s(r[R+1]),s(A),s(v),s(A),s(v)),R+=4;break;case p.OPS.closePath:L.push("Z")}L=L.join(" "),y.path&&n.length>0&&n[0]!==p.OPS.rectangle&&n[0]!==p.OPS.moveTo?L=y.path.getAttributeNS(null,"d")+L:(y.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(y.path)),y.path.setAttributeNS(null,"d",L),y.path.setAttributeNS(null,"fill","none"),y.element=y.path,y.setCurrentPoint(A,v)}endPath(){const n=this.current;if(n.path=null,!this.pendingClip)return;if(!n.element)return void(this.pendingClip=null);const r="clippath"+x++,y=this.svgFactory.createElement("svg:clipPath");y.setAttributeNS(null,"id",r),y.setAttributeNS(null,"transform",u(this.transformMatrix));const A=n.element.cloneNode(!0);if(A.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,y.appendChild(A),this.defs.appendChild(y),n.activeClipUrl){n.clipGroup=null;for(const v of this.extraStack)v.clipGroup=null;y.setAttributeNS(null,"clip-path",n.activeClipUrl)}n.activeClipUrl=`url(#${r})`,this.tgrp=null}clip(n){this.pendingClip=n}closePath(){const n=this.current;if(n.path){const r=`${n.path.getAttributeNS(null,"d")}Z`;n.path.setAttributeNS(null,"d",r)}}setLeading(n){this.current.leading=-n}setTextRise(n){this.current.textRise=n}setTextRenderingMode(n){this.current.textRenderingMode=n}setHScale(n){this.current.textHScale=n/100}setRenderingIntent(n){}setFlatness(n){}setGState(n){for(const[r,y]of n)switch(r){case"LW":this.setLineWidth(y);break;case"LC":this.setLineCap(y);break;case"LJ":this.setLineJoin(y);break;case"ML":this.setMiterLimit(y);break;case"D":this.setDash(y[0],y[1]);break;case"RI":this.setRenderingIntent(y);break;case"FL":this.setFlatness(y);break;case"Font":this.setFont(y);break;case"CA":this.setStrokeAlpha(y);break;case"ca":this.setFillAlpha(y);break;default:(0,p.warn)(`Unimplemented graphic state operator ${r}`)}}fill(){const n=this.current;n.element&&(n.element.setAttributeNS(null,"fill",n.fillColor),n.element.setAttributeNS(null,"fill-opacity",n.fillAlpha),this.endPath())}stroke(){const n=this.current;n.element&&(this._setStrokeAttributes(n.element),n.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(n,r=1){const y=this.current;let A=y.dashArray;1!==r&&A.length>0&&(A=A.map(function(v){return r*v})),n.setAttributeNS(null,"stroke",y.strokeColor),n.setAttributeNS(null,"stroke-opacity",y.strokeAlpha),n.setAttributeNS(null,"stroke-miterlimit",s(y.miterLimit)),n.setAttributeNS(null,"stroke-linecap",y.lineCap),n.setAttributeNS(null,"stroke-linejoin",y.lineJoin),n.setAttributeNS(null,"stroke-width",s(r*y.lineWidth)+"px"),n.setAttributeNS(null,"stroke-dasharray",A.map(s).join(" ")),n.setAttributeNS(null,"stroke-dashoffset",s(r*y.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const n=this.svgFactory.createElement("svg:rect");n.setAttributeNS(null,"x","0"),n.setAttributeNS(null,"y","0"),n.setAttributeNS(null,"width","1px"),n.setAttributeNS(null,"height","1px"),n.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(n)}paintImageXObject(n){const r=n.startsWith("g_")?this.commonObjs.get(n):this.objs.get(n);r?this.paintInlineImageXObject(r):(0,p.warn)(`Dependent image with object ID ${n} is not ready yet`)}paintInlineImageXObject(n,r){const y=n.width,A=n.height,v=a(n,this.forceDataSchema,!!r),L=this.svgFactory.createElement("svg:rect");L.setAttributeNS(null,"x","0"),L.setAttributeNS(null,"y","0"),L.setAttributeNS(null,"width",s(y)),L.setAttributeNS(null,"height",s(A)),this.current.element=L,this.clip("nonzero");const R=this.svgFactory.createElement("svg:image");R.setAttributeNS(h,"xlink:href",v),R.setAttributeNS(null,"x","0"),R.setAttributeNS(null,"y",s(-A)),R.setAttributeNS(null,"width",s(y)+"px"),R.setAttributeNS(null,"height",s(A)+"px"),R.setAttributeNS(null,"transform",`scale(${s(1/y)} ${s(-1/A)})`),r?r.appendChild(R):this._ensureTransformGroup().appendChild(R)}paintImageMaskXObject(n){const r=this.current,y=n.width,A=n.height,v=r.fillColor;r.maskId="mask"+_++;const L=this.svgFactory.createElement("svg:mask");L.setAttributeNS(null,"id",r.maskId);const R=this.svgFactory.createElement("svg:rect");R.setAttributeNS(null,"x","0"),R.setAttributeNS(null,"y","0"),R.setAttributeNS(null,"width",s(y)),R.setAttributeNS(null,"height",s(A)),R.setAttributeNS(null,"fill",v),R.setAttributeNS(null,"mask",`url(#${r.maskId})`),this.defs.appendChild(L),this._ensureTransformGroup().appendChild(R),this.paintInlineImageXObject(n,L)}paintFormXObjectBegin(n,r){if(Array.isArray(n)&&6===n.length&&this.transform(n[0],n[1],n[2],n[3],n[4],n[5]),r){const y=r[2]-r[0],A=r[3]-r[1],v=this.svgFactory.createElement("svg:rect");v.setAttributeNS(null,"x",r[0]),v.setAttributeNS(null,"y",r[1]),v.setAttributeNS(null,"width",s(y)),v.setAttributeNS(null,"height",s(A)),this.current.element=v,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(n){const r=this.svgFactory.create(n.width,n.height),y=this.svgFactory.createElement("svg:defs");r.appendChild(y),this.defs=y;const A=this.svgFactory.createElement("svg:g");return A.setAttributeNS(null,"transform",u(n.transform)),r.appendChild(A),this.svg=A,r}_ensureClipGroup(){if(!this.current.clipGroup){const n=this.svgFactory.createElement("svg:g");n.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(n),this.current.clipGroup=n}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",u(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(_e,k,te)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.PDFNodeStream=void 0;var p=te(1),ue=te(26);const ie=__webpack_require__(172),K=__webpack_require__(2001),t=__webpack_require__(3779),I=__webpack_require__(6558),h=/^file:\/\/\/[a-zA-Z]:\//;k.PDFNodeStream=class m{constructor(f){this.source=f,this.url=function P(_){const f=I.parse(_);return"file:"===f.protocol||f.host?f:/^[a-z]:[/\\]/i.test(_)?I.parse(`file:///${_}`):(f.host||(f.protocol="file:"),f)}(f.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&f.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,p.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new u(this):new i(this),this._fullRequestReader}getRangeReader(f,n){if(n<=this._progressiveDataLength)return null;const r=this.isFsUrl?new x(this,f,n):new s(this,f,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(f){this._fullRequestReader&&this._fullRequestReader.cancel(f);for(const n of this._rangeRequestReaders.slice(0))n.cancel(f)}};class g{constructor(f){this._url=f.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=f.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=(0,p.createPromiseCapability)(),this._headersCapability=(0,p.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var f=this;return _asyncToGenerator(function*(){if(yield f._readCapability.promise,f._done)return{value:void 0,done:!0};if(f._storedError)throw f._storedError;const n=f._readableStream.read();return null===n?(f._readCapability=(0,p.createPromiseCapability)(),f.read()):(f._loaded+=n.length,f.onProgress&&f.onProgress({loaded:f._loaded,total:f._contentLength}),{value:new Uint8Array(n).buffer,done:!1})})()}cancel(f){this._readableStream?this._readableStream.destroy(f):this._error(f)}_error(f){this._storedError=f,this._readCapability.resolve()}_setReadableStream(f){this._readableStream=f,f.on("readable",()=>{this._readCapability.resolve()}),f.on("end",()=>{f.destroy(),this._done=!0,this._readCapability.resolve()}),f.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new p.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class a{constructor(f){this._url=f.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,p.createPromiseCapability)(),this._isStreamingSupported=!f.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var f=this;return _asyncToGenerator(function*(){if(yield f._readCapability.promise,f._done)return{value:void 0,done:!0};if(f._storedError)throw f._storedError;const n=f._readableStream.read();return null===n?(f._readCapability=(0,p.createPromiseCapability)(),f.read()):(f._loaded+=n.length,f.onProgress&&f.onProgress({loaded:f._loaded}),{value:new Uint8Array(n).buffer,done:!1})})()}cancel(f){this._readableStream?this._readableStream.destroy(f):this._error(f)}_error(f){this._storedError=f,this._readCapability.resolve()}_setReadableStream(f){this._readableStream=f,f.on("readable",()=>{this._readCapability.resolve()}),f.on("end",()=>{f.destroy(),this._done=!0,this._readCapability.resolve()}),f.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function b(_,f){return{protocol:_.protocol,auth:_.auth,host:_.hostname,port:_.port,path:_.path,method:"GET",headers:f}}class i extends g{constructor(f){super(f);const n=r=>{if(404===r.statusCode){const L=new p.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=L,void this._headersCapability.reject(L)}this._headersCapability.resolve(),this._setReadableStream(r);const y=L=>this._readableStream.headers[L.toLowerCase()],{allowRangeRequests:A,suggestedLength:v}=(0,ue.validateRangeRequestCapabilities)({getResponseHeader:y,isHttp:f.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=A,this._contentLength=v||this._contentLength,this._filename=(0,ue.extractFilenameFromHeader)(y)};this._request=null,this._request="http:"===this._url.protocol?K.request(b(this._url,f.httpHeaders),n):t.request(b(this._url,f.httpHeaders),n),this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class s extends a{constructor(f,n,r){super(f),this._httpHeaders={};for(const A in f.httpHeaders){const v=f.httpHeaders[A];typeof v>"u"||(this._httpHeaders[A]=v)}this._httpHeaders.Range=`bytes=${n}-${r-1}`;const y=A=>{if(404!==A.statusCode)this._setReadableStream(A);else{const v=new p.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=v}};this._request=null,this._request="http:"===this._url.protocol?K.request(b(this._url,this._httpHeaders),y):t.request(b(this._url,this._httpHeaders),y),this._request.on("error",A=>{this._storedError=A}),this._request.end()}}class u extends g{constructor(f){super(f);let n=decodeURIComponent(this._url.path);h.test(this._url.href)&&(n=n.replace(/^\//,"")),ie.lstat(n,(r,y)=>{if(r)return"ENOENT"===r.code&&(r=new p.MissingPDFException(`Missing PDF "${n}".`)),this._storedError=r,void this._headersCapability.reject(r);this._contentLength=y.size,this._setReadableStream(ie.createReadStream(n)),this._headersCapability.resolve()})}}class x extends a{constructor(f,n,r){super(f);let y=decodeURIComponent(this._url.path);h.test(this._url.href)&&(y=y.replace(/^\//,"")),this._setReadableStream(ie.createReadStream(y,{start:n,end:r-1}))}}},(_e,k,te)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.createResponseStatusError=function I(P,m){return 404===P||0===P&&m.startsWith("file:")?new p.MissingPDFException('Missing PDF "'+m+'".'):new p.UnexpectedResponseException(`Unexpected server response (${P}) while retrieving PDF "${m}".`,P)},k.extractFilenameFromHeader=function t(P){const m=P("Content-Disposition");if(m){let g=(0,ue.getFilenameFromContentDispositionHeader)(m);if(g.includes("%"))try{g=decodeURIComponent(g)}catch{}if((0,ie.isPdfFile)(g))return g}return null},k.validateRangeRequestCapabilities=function K({getResponseHeader:P,isHttp:m,rangeChunkSize:g,disableRange:a}){const b={allowRangeRequests:!1,suggestedLength:void 0},i=parseInt(P("Content-Length"),10);return!Number.isInteger(i)||(b.suggestedLength=i,i<=2*g)||a||!m||"bytes"!==P("Accept-Ranges")||"identity"!==(P("Content-Encoding")||"identity")||(b.allowRangeRequests=!0),b},k.validateResponseStatus=function h(P){return 200===P||206===P};var p=te(1),ue=te(27),ie=te(5)},(_e,k,te)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.getFilenameFromContentDispositionHeader=function ue(ie){let K=!0,t=I("filename\\*","i").exec(ie);if(t){t=t[1];let i=g(t);return i=unescape(i),i=a(i),i=b(i),P(i)}if(t=function m(i){const s=[];let u;const x=I("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(u=x.exec(i));){let[,f,n,r]=u;if(f=parseInt(f,10),f in s){if(0===f)break}else s[f]=[n,r]}const _=[];for(let f=0;f<s.length&&f in s;++f){let[n,r]=s[f];r=g(r),n&&(r=unescape(r),0===f&&(r=a(r))),_.push(r)}return _.join("")}(ie),t)return P(b(t));if(t=I("filename","i").exec(ie),t){t=t[1];let i=g(t);return i=b(i),P(i)}function I(i,s){return new RegExp("(?:^|;)\\s*"+i+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',s)}function h(i,s){if(i){if(!/^[\x00-\xFF]+$/.test(s))return s;try{const u=new TextDecoder(i,{fatal:!0}),x=(0,p.stringToBytes)(s);s=u.decode(x),K=!1}catch{}}return s}function P(i){return K&&/[\x80-\xff]/.test(i)&&(i=h("utf-8",i),K&&(i=h("iso-8859-1",i))),i}function g(i){if(i.startsWith('"')){const s=i.slice(1).split('\\"');for(let u=0;u<s.length;++u){const x=s[u].indexOf('"');-1!==x&&(s[u]=s[u].slice(0,x),s.length=u+1),s[u]=s[u].replace(/\\(.)/g,"$1")}i=s.join('"')}return i}function a(i){const s=i.indexOf("'");return-1===s?i:h(i.slice(0,s),i.slice(s+1).replace(/^[^']*'/,""))}function b(i){return!i.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(i)?i:i.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(s,u,x,_){if("q"===x||"Q"===x)return h(u,_=(_=_.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(f,n){return String.fromCharCode(parseInt(n,16))}));try{_=atob(_)}catch{}return h(u,_)})}return""};var p=te(1)},(_e,k,te)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.PDFNetworkStream=void 0;var p=te(1),ue=te(26);class I{constructor(a,b={}){this.url=a,this.isHttp=/^https?:/i.test(a),this.httpHeaders=this.isHttp&&b.httpHeaders||Object.create(null),this.withCredentials=b.withCredentials||!1,this.getXhr=b.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(a,b,i){const s={begin:a,end:b};for(const u in i)s[u]=i[u];return this.request(s)}requestFull(a){return this.request(a)}request(a){const b=this.getXhr(),i=this.currXhrId++,s=this.pendingRequests[i]={xhr:b};b.open("GET",this.url),b.withCredentials=this.withCredentials;for(const u in this.httpHeaders){const x=this.httpHeaders[u];typeof x>"u"||b.setRequestHeader(u,x)}return this.isHttp&&"begin"in a&&"end"in a?(b.setRequestHeader("Range",`bytes=${a.begin}-${a.end-1}`),s.expectedStatus=206):s.expectedStatus=200,b.responseType="arraybuffer",a.onError&&(b.onerror=function(u){a.onError(b.status)}),b.onreadystatechange=this.onStateChange.bind(this,i),b.onprogress=this.onProgress.bind(this,i),s.onHeadersReceived=a.onHeadersReceived,s.onDone=a.onDone,s.onError=a.onError,s.onProgress=a.onProgress,b.send(null),i}onProgress(a,b){const i=this.pendingRequests[a];!i||i.onProgress?.(b)}onStateChange(a,b){const i=this.pendingRequests[a];if(!i)return;const s=i.xhr;if(s.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),4!==s.readyState||!(a in this.pendingRequests))return;if(delete this.pendingRequests[a],0===s.status&&this.isHttp)return void i.onError?.(s.status);const u=s.status||200;if((200!==u||206!==i.expectedStatus)&&u!==i.expectedStatus)return void i.onError?.(s.status);const _=function t(g){const a=g.response;return"string"!=typeof a?a:(0,p.stringToBytes)(a).buffer}(s);if(206===u){const f=s.getResponseHeader("Content-Range"),n=/bytes (\d+)-(\d+)\/(\d+)/.exec(f);i.onDone({begin:parseInt(n[1],10),chunk:_})}else _?i.onDone({begin:0,chunk:_}):i.onError?.(s.status)}getRequestXhr(a){return this.pendingRequests[a].xhr}isPendingRequest(a){return a in this.pendingRequests}abortRequest(a){const b=this.pendingRequests[a].xhr;delete this.pendingRequests[a],b.abort()}}k.PDFNetworkStream=class h{constructor(a){this._source=a,this._manager=new I(a.url,{httpHeaders:a.httpHeaders,withCredentials:a.withCredentials}),this._rangeChunkSize=a.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(a){const b=this._rangeRequestReaders.indexOf(a);b>=0&&this._rangeRequestReaders.splice(b,1)}getFullReader(){return(0,p.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new P(this._manager,this._source),this._fullRequestReader}getRangeReader(a,b){const i=new m(this._manager,a,b);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(a){this._fullRequestReader?.cancel(a);for(const b of this._rangeRequestReaders.slice(0))b.cancel(a)}};class P{constructor(a,b){this._manager=a;const i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=b.url,this._fullRequestId=a.requestFull(i),this._headersReceivedCapability=(0,p.createPromiseCapability)(),this._disableRange=b.disableRange||!1,this._contentLength=b.length,this._rangeChunkSize=b.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const a=this._fullRequestId,b=this._manager.getRequestXhr(a),i=x=>b.getResponseHeader(x),{allowRangeRequests:s,suggestedLength:u}=(0,ue.validateRangeRequestCapabilities)({getResponseHeader:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=u||this._contentLength,this._filename=(0,ue.extractFilenameFromHeader)(i),this._isRangeSupported&&this._manager.abortRequest(a),this._headersReceivedCapability.resolve()}_onDone(a){if(a&&(this._requests.length>0?this._requests.shift().resolve({value:a.chunk,done:!1}):this._cachedChunks.push(a.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const b of this._requests)b.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(a){this._storedError=(0,ue.createResponseStatusError)(a,this._url),this._headersReceivedCapability.reject(this._storedError);for(const b of this._requests)b.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(a){this.onProgress?.({loaded:a.loaded,total:a.lengthComputable?a.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var a=this;return _asyncToGenerator(function*(){if(a._storedError)throw a._storedError;if(a._cachedChunks.length>0)return{value:a._cachedChunks.shift(),done:!1};if(a._done)return{value:void 0,done:!0};const b=(0,p.createPromiseCapability)();return a._requests.push(b),b.promise})()}cancel(a){this._done=!0,this._headersReceivedCapability.reject(a);for(const b of this._requests)b.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class m{constructor(a,b,i){this._manager=a;const s={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=a.url,this._requestId=a.requestRange(b,i,s),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(a){const b=a.chunk;this._requests.length>0?this._requests.shift().resolve({value:b,done:!1}):this._queuedChunk=b,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(a){this._storedError=(0,ue.createResponseStatusError)(a,this._url);for(const b of this._requests)b.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(a){this.isStreamingSupported||this.onProgress?.({loaded:a.loaded})}get isStreamingSupported(){return!1}read(){var a=this;return _asyncToGenerator(function*(){if(a._storedError)throw a._storedError;if(null!==a._queuedChunk){const i=a._queuedChunk;return a._queuedChunk=null,{value:i,done:!1}}if(a._done)return{value:void 0,done:!0};const b=(0,p.createPromiseCapability)();return a._requests.push(b),b.promise})()}cancel(a){this._done=!0;for(const b of this._requests)b.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(_e,k,te)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.PDFFetchStream=void 0;var p=te(1),ue=te(26);function ie(P,m,g){return{method:"GET",headers:P,signal:g?.signal,mode:"cors",credentials:m?"include":"same-origin",redirect:"follow"}}function K(P){const m=new Headers;for(const g in P){const a=P[g];typeof a>"u"||m.append(g,a)}return m}k.PDFFetchStream=class t{constructor(m){this.source=m,this.isHttp=/^https?:/i.test(m.url),this.httpHeaders=this.isHttp&&m.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,p.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new I(this),this._fullRequestReader}getRangeReader(m,g){if(g<=this._progressiveDataLength)return null;const a=new h(this,m,g);return this._rangeRequestReaders.push(a),a}cancelAllRequests(m){this._fullRequestReader&&this._fullRequestReader.cancel(m);for(const g of this._rangeRequestReaders.slice(0))g.cancel(m)}};class I{constructor(m){this._stream=m,this._reader=null,this._loaded=0,this._filename=null;const g=m.source;this._withCredentials=g.withCredentials||!1,this._contentLength=g.length,this._headersCapability=(0,p.createPromiseCapability)(),this._disableRange=g.disableRange||!1,this._rangeChunkSize=g.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController<"u"&&(this._abortController=new AbortController),this._isStreamingSupported=!g.disableStream,this._isRangeSupported=!g.disableRange,this._headers=K(this._stream.httpHeaders);const a=g.url;fetch(a,ie(this._headers,this._withCredentials,this._abortController)).then(b=>{if(!(0,ue.validateResponseStatus)(b.status))throw(0,ue.createResponseStatusError)(b.status,a);this._reader=b.body.getReader(),this._headersCapability.resolve();const i=x=>b.headers.get(x),{allowRangeRequests:s,suggestedLength:u}=(0,ue.validateRangeRequestCapabilities)({getResponseHeader:i,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=u||this._contentLength,this._filename=(0,ue.extractFilenameFromHeader)(i),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new p.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var m=this;return _asyncToGenerator(function*(){yield m._headersCapability.promise;const{value:g,done:a}=yield m._reader.read();return a?{value:g,done:a}:(m._loaded+=g.byteLength,m.onProgress&&m.onProgress({loaded:m._loaded,total:m._contentLength}),{value:new Uint8Array(g).buffer,done:!1})})()}cancel(m){this._reader&&this._reader.cancel(m),this._abortController&&this._abortController.abort()}}class h{constructor(m,g,a){this._stream=m,this._reader=null,this._loaded=0;const b=m.source;this._withCredentials=b.withCredentials||!1,this._readCapability=(0,p.createPromiseCapability)(),this._isStreamingSupported=!b.disableStream,typeof AbortController<"u"&&(this._abortController=new AbortController),this._headers=K(this._stream.httpHeaders),this._headers.append("Range",`bytes=${g}-${a-1}`);const i=b.url;fetch(i,ie(this._headers,this._withCredentials,this._abortController)).then(s=>{if(!(0,ue.validateResponseStatus)(s.status))throw(0,ue.createResponseStatusError)(s.status,i);this._readCapability.resolve(),this._reader=s.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var m=this;return _asyncToGenerator(function*(){yield m._readCapability.promise;const{value:g,done:a}=yield m._reader.read();return a?{value:g,done:a}:(m._loaded+=g.byteLength,m.onProgress&&m.onProgress({loaded:m._loaded}),{value:new Uint8Array(g).buffer,done:!1})})()}cancel(m){this._reader&&this._reader.cancel(m),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(_e){var k=__webpack_module_cache__[_e];if(void 0!==k)return k.exports;var te=__webpack_module_cache__[_e]={exports:{}};return __webpack_modules__[_e](te,te.exports,__w_pdfjs_require__),te.exports}var __webpack_exports__={};return(()=>{var _e=__webpack_exports__;Object.defineProperty(_e,"__esModule",{value:!0}),Object.defineProperty(_e,"AnnotationLayer",{enumerable:!0,get:function(){return ue.AnnotationLayer}}),Object.defineProperty(_e,"AnnotationMode",{enumerable:!0,get:function(){return k.AnnotationMode}}),Object.defineProperty(_e,"CMapCompressionType",{enumerable:!0,get:function(){return k.CMapCompressionType}}),Object.defineProperty(_e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return ie.GlobalWorkerOptions}}),Object.defineProperty(_e,"InvalidPDFException",{enumerable:!0,get:function(){return k.InvalidPDFException}}),Object.defineProperty(_e,"LoopbackPort",{enumerable:!0,get:function(){return te.LoopbackPort}}),Object.defineProperty(_e,"MissingPDFException",{enumerable:!0,get:function(){return k.MissingPDFException}}),Object.defineProperty(_e,"OPS",{enumerable:!0,get:function(){return k.OPS}}),Object.defineProperty(_e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return te.PDFDataRangeTransport}}),Object.defineProperty(_e,"PDFDateString",{enumerable:!0,get:function(){return p.PDFDateString}}),Object.defineProperty(_e,"PDFWorker",{enumerable:!0,get:function(){return te.PDFWorker}}),Object.defineProperty(_e,"PasswordResponses",{enumerable:!0,get:function(){return k.PasswordResponses}}),Object.defineProperty(_e,"PermissionFlag",{enumerable:!0,get:function(){return k.PermissionFlag}}),Object.defineProperty(_e,"PixelsPerInch",{enumerable:!0,get:function(){return p.PixelsPerInch}}),Object.defineProperty(_e,"RenderingCancelledException",{enumerable:!0,get:function(){return p.RenderingCancelledException}}),Object.defineProperty(_e,"SVGGraphics",{enumerable:!0,get:function(){return I.SVGGraphics}}),Object.defineProperty(_e,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return k.UNSUPPORTED_FEATURES}}),Object.defineProperty(_e,"UnexpectedResponseException",{enumerable:!0,get:function(){return k.UnexpectedResponseException}}),Object.defineProperty(_e,"Util",{enumerable:!0,get:function(){return k.Util}}),Object.defineProperty(_e,"VerbosityLevel",{enumerable:!0,get:function(){return k.VerbosityLevel}}),Object.defineProperty(_e,"XfaLayer",{enumerable:!0,get:function(){return h.XfaLayer}}),Object.defineProperty(_e,"build",{enumerable:!0,get:function(){return te.build}}),Object.defineProperty(_e,"createPromiseCapability",{enumerable:!0,get:function(){return k.createPromiseCapability}}),Object.defineProperty(_e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return k.createValidAbsoluteUrl}}),Object.defineProperty(_e,"getDocument",{enumerable:!0,get:function(){return te.getDocument}}),Object.defineProperty(_e,"getFilenameFromUrl",{enumerable:!0,get:function(){return p.getFilenameFromUrl}}),Object.defineProperty(_e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return p.getPdfFilenameFromUrl}}),Object.defineProperty(_e,"getXfaPageViewport",{enumerable:!0,get:function(){return p.getXfaPageViewport}}),Object.defineProperty(_e,"isPdfFile",{enumerable:!0,get:function(){return p.isPdfFile}}),Object.defineProperty(_e,"loadScript",{enumerable:!0,get:function(){return p.loadScript}}),Object.defineProperty(_e,"renderTextLayer",{enumerable:!0,get:function(){return t.renderTextLayer}}),Object.defineProperty(_e,"shadow",{enumerable:!0,get:function(){return k.shadow}}),Object.defineProperty(_e,"version",{enumerable:!0,get:function(){return te.version}});var k=__w_pdfjs_require__(1),te=__w_pdfjs_require__(4),p=__w_pdfjs_require__(5),ue=__w_pdfjs_require__(20),ie=__w_pdfjs_require__(13),K=__w_pdfjs_require__(3),t=__w_pdfjs_require__(23),I=__w_pdfjs_require__(24),h=__w_pdfjs_require__(22);if(K.isNodeJS){const{PDFNodeStream:g}=__w_pdfjs_require__(25);(0,te.setPDFNetworkStreamFactory)(a=>new g(a))}else{const{PDFNetworkStream:g}=__w_pdfjs_require__(28),{PDFFetchStream:a}=__w_pdfjs_require__(29);(0,te.setPDFNetworkStreamFactory)(b=>(0,p.isValidFetchUrl)(b.url)?new a(b):new g(b))}})(),__webpack_exports__})(),module.exports=te()},2813:function(_e,k,te){var K,p=te(7156).default;K=()=>(()=>{"use strict";var ue=[,(I,h,P)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.DefaultXfaLayerFactory=h.DefaultTextLayerFactory=h.DefaultStructTreeLayerFactory=h.DefaultAnnotationLayerFactory=void 0;var m=P(2),g=P(4),a=P(5),b=P(7),i=P(8),s=P(9);h.DefaultAnnotationLayerFactory=class u{createAnnotationLayerBuilder(r,y,A=null,v="",L=!0,R=g.NullL10n,F=!1,B=null,H=null,Y=null,ee=null){return new m.AnnotationLayerBuilder({pageDiv:r,pdfPage:y,imageResourcesPath:v,renderForms:L,linkService:new a.SimpleLinkService,l10n:R,annotationStorage:A,enableScripting:F,hasJSActionsPromise:B,fieldObjectsPromise:Y,mouseState:H,annotationCanvasMap:ee})}},h.DefaultStructTreeLayerFactory=class x{createStructTreeLayerBuilder(r){return new b.StructTreeLayerBuilder({pdfPage:r})}},h.DefaultTextLayerFactory=class _{createTextLayerBuilder(r,y,A,v=!1,L,R){return new i.TextLayerBuilder({textLayerDiv:r,pageIndex:y,viewport:A,enhanceTextSelection:v,eventBus:L,highlighter:R})}},h.DefaultXfaLayerFactory=class f{createXfaLayerBuilder(r,y,A=null,v=null){return new s.XfaLayerBuilder({pageDiv:r,pdfPage:y,annotationStorage:A,linkService:new a.SimpleLinkService,xfaHtml:v})}}},(I,h,P)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.AnnotationLayerBuilder=void 0;var m=P(3),g=P(4);h.AnnotationLayerBuilder=class a{constructor({pageDiv:i,pdfPage:s,linkService:u,downloadManager:x,annotationStorage:_=null,imageResourcesPath:f="",renderForms:n=!0,l10n:r=g.NullL10n,enableScripting:y=!1,hasJSActionsPromise:A=null,fieldObjectsPromise:v=null,mouseState:L=null,annotationCanvasMap:R=null}){this.pageDiv=i,this.pdfPage=s,this.linkService=u,this.downloadManager=x,this.imageResourcesPath=f,this.renderForms=n,this.l10n=r,this.annotationStorage=_,this.enableScripting=y,this._hasJSActionsPromise=A,this._fieldObjectsPromise=v,this._mouseState=L,this._annotationCanvasMap=R,this.div=null,this._cancelled=!1}render(i,s="display"){var u=this;return p(function*(){const[x,_=!1,f=null]=yield Promise.all([u.pdfPage.getAnnotations({intent:s}),u._hasJSActionsPromise,u._fieldObjectsPromise]);if(u._cancelled||0===x.length)return;const n={viewport:i.clone({dontFlip:!0}),div:u.div,annotations:x,page:u.pdfPage,imageResourcesPath:u.imageResourcesPath,renderForms:u.renderForms,linkService:u.linkService,downloadManager:u.downloadManager,annotationStorage:u.annotationStorage,enableScripting:u.enableScripting,hasJSActions:_,fieldObjects:f,mouseState:u._mouseState,annotationCanvasMap:u._annotationCanvasMap};u.div?m.AnnotationLayer.update(n):(u.div=document.createElement("div"),u.div.className="annotationLayer",u.pageDiv.appendChild(u.div),n.div=u.div,m.AnnotationLayer.render(n),u.l10n.translate(u.div))})()}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},I=>{let h;h=typeof window<"u"&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:te(6036),I.exports=h},(I,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.NullL10n=void 0,h.fixupLangCode=function a(s){return g[s?.toLowerCase()]||s},h.getL10nFallback=m;const P={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function m(s,u){switch(s){case"find_match_count":s=`find_match_count[${1===u.total?"one":"other"}]`;break;case"find_match_count_limit":s=`find_match_count_limit[${1===u.limit?"one":"other"}]`}return P[s]||""}const g={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};h.NullL10n={getLanguage:()=>p(function*(){return"en-us"})(),getDirection:()=>p(function*(){return"ltr"})(),get:(s,u=null,x=m(s,u))=>p(function*(){return function b(s,u){return u?s.replace(/\{\{\s*(\w+)\s*\}\}/g,(x,_)=>_ in u?u[_]:"{{"+_+"}}"):s}(x,u)})(),translate:s=>p(function*(){})()}},(I,h,P)=>{var u,x,Je,f,ct;Object.defineProperty(h,"__esModule",{value:!0}),h.SimpleLinkService=h.PDFLinkService=h.LinkTarget=void 0;var m=P(6);const a={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function b(y,{url:A,target:v,rel:L,enabled:R=!0}={}){if(!A||"string"!=typeof A)throw new Error('A valid "url" parameter must provided.');const F=(0,m.removeNullCharacters)(A);R?y.href=y.title=F:(y.href="",y.title=`Disabled: ${F}`,y.onclick=()=>!1);let B="";switch(v){case a.NONE:break;case a.SELF:B="_self";break;case a.BLANK:B="_blank";break;case a.PARENT:B="_parent";break;case a.TOP:B="_top"}y.target=B,y.rel="string"==typeof L?L:"noopener noreferrer nofollow"}h.LinkTarget=a;const r=class{constructor({eventBus:A,externalLinkTarget:v=null,externalLinkRel:L=null,ignoreDestinationZoom:R=!1}={}){Ee(this,x),Ee(this,u,new Map),this.eventBus=A,this.externalLinkTarget=v,this.externalLinkRel=L,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=R,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(A,v=null){this.baseUrl=v,this.pdfDocument=A,Pe(this,u).clear()}setViewer(A){this.pdfViewer=A}setHistory(A){this.pdfHistory=A}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(A){this.pdfViewer.currentPageNumber=A}get rotation(){return this.pdfViewer.pagesRotation}set rotation(A){this.pdfViewer.pagesRotation=A}goToDestination(A){var v=this;return p(function*(){var F;if(!v.pdfDocument)return;let L,R;"string"==typeof A?(L=A,R=yield v.pdfDocument.getDestination(A)):(L=null,R=yield A),Array.isArray(R)?we(F=v,x,Je).call(F,A,L,R):console.error(`PDFLinkService.goToDestination: "${R}" is not a valid destination array, for dest="${A}".`)})()}goToPage(A){if(!this.pdfDocument)return;const v="string"==typeof A&&this.pdfViewer.pageLabelToPageNumber(A)||0|A;Number.isInteger(v)&&v>0&&v<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(v)),this.pdfViewer.scrollPageIntoView({pageNumber:v})):console.error(`PDFLinkService.goToPage: "${A}" is not a valid page.`)}addLinkAttributes(A,v,L=!1){b(A,{url:v,target:L?a.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(A){if("string"==typeof A){if(A.length>0)return this.getAnchorUrl("#"+escape(A))}else if(Array.isArray(A)){const v=JSON.stringify(A);if(v.length>0)return this.getAnchorUrl("#"+escape(v))}return this.getAnchorUrl("")}getAnchorUrl(A){return(this.baseUrl||"")+A}setHash(A){var R;if(!this.pdfDocument)return;let v,L;if(A.includes("=")){const F=(0,m.parseQueryString)(A);if(F.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:F.get("search").replace(/"/g,""),phraseSearch:"true"===F.get("phrase")}),F.has("page")&&(v=0|F.get("page")||1),F.has("zoom")){const B=F.get("zoom").split(","),H=B[0],Y=parseFloat(H);H.includes("Fit")?"Fit"===H||"FitB"===H?L=[null,{name:H}]:"FitH"===H||"FitBH"===H||"FitV"===H||"FitBV"===H?L=[null,{name:H},B.length>1?0|B[1]:null]:"FitR"===H?5!==B.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):L=[null,{name:H},0|B[1],0|B[2],0|B[3],0|B[4]]:console.error(`PDFLinkService.setHash: "${H}" is not a valid zoom value.`):L=[null,{name:"XYZ"},B.length>1?0|B[1]:null,B.length>2?0|B[2]:null,Y?Y/100:H]}L?this.pdfViewer.scrollPageIntoView({pageNumber:v||this.page,destArray:L,allowNegativeOffset:!0}):v&&(this.page=v),F.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:F.get("pagemode")}),F.has("nameddest")&&this.goToDestination(F.get("nameddest"))}else{L=unescape(A);try{L=JSON.parse(L),Array.isArray(L)||(L=L.toString())}catch{}if("string"==typeof L||we(R=r,f,ct).call(R,L))return void this.goToDestination(L);console.error(`PDFLinkService.setHash: "${unescape(A)}" is not a valid destination.`)}}executeNamedAction(A){switch(A){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:A})}cachePageRef(A,v){if(!v)return;const L=0===v.gen?`${v.num}R`:`${v.num}R${v.gen}`;Pe(this,u).set(L,A)}_cachedPageNumber(A){if(!A)return null;const v=0===A.gen?`${A.num}R`:`${A.num}R${A.gen}`;return Pe(this,u).get(v)||null}isPageVisible(A){return this.pdfViewer.isPageVisible(A)}isPageCached(A){return this.pdfViewer.isPageCached(A)}};let i=r;u=new WeakMap,x=new WeakSet,Je=function(A,v=null,L){const R=L[0];let F;if("object"==typeof R&&null!==R){if(F=this._cachedPageNumber(R),!F)return void this.pdfDocument.getPageIndex(R).then(B=>{this.cachePageRef(B+1,R),we(this,x,Je).call(this,A,v,L)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${R}" is not a valid page reference, for dest="${A}".`)})}else{if(!Number.isInteger(R))return void console.error(`PDFLinkService.#goToDestinationHelper: "${R}" is not a valid destination reference, for dest="${A}".`);F=R+1}!F||F<1||F>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${F}" is not a valid page number, for dest="${A}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:v,explicitDest:L,pageNumber:F})),this.pdfViewer.scrollPageIntoView({pageNumber:F,destArray:L,ignoreDestinationZoom:this._ignoreDestinationZoom}))},f=new WeakSet,ct=function(A){if(!Array.isArray(A))return!1;const v=A.length;if(v<2)return!1;const L=A[0];if(!("object"==typeof L&&Number.isInteger(L.num)&&Number.isInteger(L.gen)||Number.isInteger(L)&&L>=0))return!1;const R=A[1];if("object"!=typeof R||"string"!=typeof R.name)return!1;let F=!0;switch(R.name){case"XYZ":if(5!==v)return!1;break;case"Fit":case"FitB":return 2===v;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==v)return!1;break;case"FitR":if(6!==v)return!1;F=!1;break;default:return!1}for(let B=2;B<v;B++){const H=A[B];if(!("number"==typeof H||F&&null===H))return!1}return!0},Ee(i,f),h.PDFLinkService=i,h.SimpleLinkService=class s{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(A){}get rotation(){return 0}set rotation(A){}goToDestination(A){return p(function*(){})()}goToPage(A){}addLinkAttributes(A,v,L=!1){b(A,{url:v,enabled:this.externalLinkEnabled})}getDestinationHash(A){return"#"}getAnchorUrl(A){return"#"}setHash(A){}executeNamedAction(A){}cachePageRef(A,v){}isPageVisible(A){return!0}isPageCached(A){return!0}}},(I,h)=>{var fe,ht;Object.defineProperty(h,"__esModule",{value:!0}),h.animationStarted=h.VERTICAL_PADDING=h.UNKNOWN_SCALE=h.TextLayerMode=h.SpreadMode=h.SidebarView=h.ScrollMode=h.SCROLLBAR_PADDING=h.RenderingStates=h.RendererType=h.ProgressBar=h.PresentationModeState=h.OutputScale=h.MIN_SCALE=h.MAX_SCALE=h.MAX_AUTO_SCALE=h.DEFAULT_SCALE_VALUE=h.DEFAULT_SCALE_DELTA=h.DEFAULT_SCALE=h.AutoPrintRegExp=void 0,h.apiPageLayoutToViewerModes=function Q(G){let oe=A.VERTICAL,ae=v.NONE;switch(G){case"SinglePage":oe=A.PAGE;break;case"OneColumn":break;case"TwoPageLeft":oe=A.PAGE;case"TwoColumnLeft":ae=v.ODD;break;case"TwoPageRight":oe=A.PAGE;case"TwoColumnRight":ae=v.EVEN}return{scrollMode:oe,spreadMode:ae}},h.apiPageModeToSidebarView=function se(G){switch(G){case"UseNone":return n.NONE;case"UseThumbs":return n.THUMBS;case"UseOutlines":return n.OUTLINE;case"UseAttachments":return n.ATTACHMENTS;case"UseOC":return n.LAYERS}return n.NONE},h.approximateFraction=function J(G){if(Math.floor(G)===G)return[G,1];const oe=1/G;if(oe>8)return[1,8];if(Math.floor(oe)===oe)return[1,oe];const S=G>1?oe:G;let pe,N=0,q=1,Ae=1,me=1;for(;;){const Ce=N+Ae,ye=q+me;if(ye>8)break;S<=Ce/ye?(Ae=Ce,me=ye):(N=Ce,q=ye)}return pe=S-N/q<Ae/me-S?S===G?[N,q]:[q,N]:S===G?[Ae,me]:[me,Ae],pe},h.backtrackBeforeAllVisibleElements=M,h.binarySearchFirstItem=Z,h.getActiveOrFocusedElement=function z(){let G=document,oe=G.activeElement||G.querySelector(":focus");for(;oe?.shadowRoot;)G=oe.shadowRoot,oe=G.activeElement||G.querySelector(":focus");return oe},h.getPageSizeInches=function le({view:G,userUnit:oe,rotate:ae}){const[S,N,q,Ae]=G,me=ae%180!=0,pe=(q-S)/72*oe,Ce=(Ae-N)/72*oe;return{width:me?Ce:pe,height:me?pe:Ce}},h.getVisibleElements=function o({scrollEl:G,views:oe,sortByVisibility:ae=!1,horizontal:S=!1,rtl:N=!1}){const q=G.scrollTop,Ae=q+G.clientHeight,me=G.scrollLeft,pe=me+G.clientWidth,Te=[],Le=new Set,De=oe.length;let ne=Z(oe,S?function ye(de){const be=de.div,ve=be.offsetLeft+be.clientLeft;return N?ve<pe:ve+be.clientWidth>me}:function Ce(de){const be=de.div;return be.offsetTop+be.clientTop+be.clientHeight>q});ne>0&&ne<De&&!S&&(ne=M(ne,oe,q));let O=S?pe:-1;for(let de=ne;de<De;de++){const be=oe[de],ve=be.div,ke=ve.offsetLeft+ve.clientLeft,Re=ve.offsetTop+ve.clientTop,Ie=ve.clientWidth,Fe=ve.clientHeight,Ue=ke+Ie,Be=Re+Fe;if(-1===O)Be>=Ae&&(O=Be);else if((S?ke:Re)>O)break;if(Be<=q||Re>=Ae||Ue<=me||ke>=pe)continue;const $=Math.max(0,q-Re)+Math.max(0,Be-Ae),X=(Ie-(Math.max(0,me-ke)+Math.max(0,Ue-pe)))/Ie;Te.push({id:be.id,x:ke,y:Re,view:be,percent:(Fe-$)/Fe*X*100|0,widthPercent:100*X|0}),Le.add(be.id)}const D=Te[0],ce=Te[Te.length-1];return ae&&Te.sort(function(de,be){const ve=de.percent-be.percent;return Math.abs(ve)>.001?-ve:de.id-be.id}),{first:D,last:ce,views:Te,ids:Le}},h.isPortraitOrientation=function E(G){return G.width<=G.height},h.isValidRotation=function d(G){return Number.isInteger(G)&&G%90==0},h.isValidScrollMode=function w(G){return Number.isInteger(G)&&Object.values(A).includes(G)&&G!==A.UNKNOWN},h.isValidSpreadMode=function C(G){return Number.isInteger(G)&&Object.values(v).includes(G)&&G!==v.UNKNOWN},h.noContextMenuHandler=function c(G){G.preventDefault()},h.normalizeWheelEventDelta=function l(G){let oe=e(G);return 0===G.deltaMode?oe/=900:1===G.deltaMode&&(oe/=30),oe},h.normalizeWheelEventDirection=e,h.parseQueryString=function H(G){const oe=new Map;for(const[ae,S]of new URLSearchParams(G))oe.set(ae.toLowerCase(),S);return oe},h.removeNullCharacters=function U(G,oe=!1){return"string"!=typeof G?(console.error("The argument must be a string."),G):(oe&&(G=G.replace(ee," ")),G.replace(Y,""))},h.roundToDivide=function re(G,oe){const ae=G%oe;return 0===ae?G:Math.round(G-ae+oe)},h.scrollIntoView=function F(G,oe,ae=!1){let S=G.offsetParent;if(!S)return void console.error("offsetParent is not set -- cannot scroll");let N=G.offsetTop+G.clientTop,q=G.offsetLeft+G.clientLeft;for(;S.clientHeight===S.scrollHeight&&S.clientWidth===S.scrollWidth||ae&&(S.classList.contains("markedContent")||"hidden"===getComputedStyle(S).overflow);)if(N+=S.offsetTop,q+=S.offsetLeft,S=S.offsetParent,!S)return;oe&&(void 0!==oe.top&&(N+=oe.top),void 0!==oe.left&&(q+=oe.left,S.scrollLeft=q)),S.scrollTop=N},h.watchScroll=function B(G,oe){const ae=function(q){N||(N=window.requestAnimationFrame(function(){N=null;const me=G.scrollLeft,pe=S.lastX;me!==pe&&(S.right=me>pe),S.lastX=me;const Ce=G.scrollTop,ye=S.lastY;Ce!==ye&&(S.down=Ce>ye),S.lastY=Ce,oe(S)}))},S={right:!0,down:!0,lastX:G.scrollLeft,lastY:G.scrollTop,_eventHandler:ae};let N=null;return G.addEventListener("scroll",ae,!0),S},h.DEFAULT_SCALE_VALUE="auto",h.DEFAULT_SCALE=1,h.DEFAULT_SCALE_DELTA=1.1,h.MIN_SCALE=.1,h.MAX_SCALE=10,h.UNKNOWN_SCALE=0,h.MAX_AUTO_SCALE=1.25,h.SCROLLBAR_PADDING=40,h.VERTICAL_PADDING=5,h.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},h.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const n={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};h.SidebarView=n,h.RendererType={CANVAS:"canvas",SVG:"svg"},h.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const A={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};h.ScrollMode=A;const v={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};h.SpreadMode=v,h.AutoPrintRegExp=/\bprint\s*\(/,h.OutputScale=class R{constructor(){const oe=window.devicePixelRatio||1;this.sx=oe,this.sy=oe}get scaled(){return 1!==this.sx||1!==this.sy}};const Y=/\x00/g,ee=/[\x01-\x1F]/g;function Z(G,oe,ae=0){let S=ae,N=G.length-1;if(N<0||!oe(G[N]))return G.length;if(oe(G[S]))return S;for(;S<N;){const q=S+N>>1;oe(G[q])?N=q:S=q+1}return S}function M(G,oe,ae){if(G<2)return G;let S=oe[G].div,N=S.offsetTop+S.clientTop;N>=ae&&(S=oe[G-1].div,N=S.offsetTop+S.clientTop);for(let q=G-2;q>=0&&(S=oe[q].div,!(S.offsetTop+S.clientTop+S.clientHeight<=N));--q)G=q;return G}function e(G){let oe=Math.hypot(G.deltaX,G.deltaY);const ae=Math.atan2(G.deltaY,G.deltaX);return-.25*Math.PI<ae&&ae<.75*Math.PI&&(oe=-oe),oe}const V=new Promise(function(G){window.requestAnimationFrame(G)});h.animationStarted=V,fe=new WeakSet,ht=function(){this._indeterminate?this.div.classList.add("indeterminate"):(this.div.classList.remove("indeterminate"),document.documentElement.style.setProperty("--progressBar-percent",`${this._percent}%`))},h.ProgressBar=class j{constructor(oe){if(Ee(this,fe),arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");this.visible=!0,this.div=document.querySelector(oe+" .progress"),this.bar=this.div.parentNode,this.percent=0}get percent(){return this._percent}set percent(oe){this._indeterminate=isNaN(oe),this._percent=function W(G,oe,ae){return Math.min(Math.max(G,oe),ae)}(oe,0,100),we(this,fe,ht).call(this)}setWidth(oe){if(!oe)return;const S=oe.parentNode.offsetWidth-oe.offsetWidth;S>0&&document.documentElement.style.setProperty("--progressBar-end-offset",`${S}px`)}hide(){!this.visible||(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(I,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.StructTreeLayerBuilder=void 0;const P={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},m=/^H(\d+)$/;h.StructTreeLayerBuilder=class g{constructor({pdfPage:b}){this.pdfPage=b}render(b){return this._walk(b)}_setAttributes(b,i){void 0!==b.alt&&i.setAttribute("aria-label",b.alt),void 0!==b.id&&i.setAttribute("aria-owns",b.id),void 0!==b.lang&&i.setAttribute("lang",b.lang)}_walk(b){if(!b)return null;const i=document.createElement("span");if("role"in b){const{role:s}=b,u=s.match(m);u?(i.setAttribute("role","heading"),i.setAttribute("aria-level",u[1])):P[s]&&i.setAttribute("role",P[s])}if(this._setAttributes(b,i),b.children)if(1===b.children.length&&"id"in b.children[0])this._setAttributes(b.children[0],i);else for(const s of b.children)i.appendChild(this._walk(s));return i}}},(I,h,P)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TextLayerBuilder=void 0;var m=P(3);h.TextLayerBuilder=class a{constructor({textLayerDiv:i,eventBus:s,pageIndex:u,viewport:x,highlighter:_=null,enhanceTextSelection:f=!1}){this.textLayerDiv=i,this.eventBus=s,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=u+1,this.viewport=x,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=_,this.enhanceTextSelection=f,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const i=document.createElement("div");i.className="endOfContent",this.textLayerDiv.appendChild(i)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(i=0){if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr);const s=document.createDocumentFragment();this.textLayerRenderTask=(0,m.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:s,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:i,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{this.textLayerDiv.appendChild(s),this._finishRendering(),this.highlighter?.enable()},function(u){})}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable()}setTextContentStream(i){this.cancel(),this.textContentStream=i}setTextContent(i){this.cancel(),this.textContent=i}_bindMouse(){const i=this.textLayerDiv;let s=null;i.addEventListener("mousedown",u=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(s&&(clearTimeout(s),s=null));const x=i.querySelector(".endOfContent");if(!x)return;let _=u.target!==i;if(_=_&&"none"!==window.getComputedStyle(x).getPropertyValue("-moz-user-select"),_){const f=i.getBoundingClientRect(),n=Math.max(0,(u.pageY-f.top)/f.height);x.style.top=(100*n).toFixed(2)+"%"}x.classList.add("active")}),i.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(s=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),s=null},300));const u=i.querySelector(".endOfContent");!u||(u.style.top="",u.classList.remove("active"))})}}},(I,h,P)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.XfaLayerBuilder=void 0;var m=P(3);h.XfaLayerBuilder=class g{constructor({pageDiv:b,pdfPage:i,annotationStorage:s=null,linkService:u,xfaHtml:x=null}){this.pageDiv=b,this.pdfPage=i,this.annotationStorage=s,this.linkService=u,this.xfaHtml=x,this.div=null,this._cancelled=!1}render(b,i="display"){if("print"===i){const s={viewport:b.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:i},u=document.createElement("div");this.pageDiv.appendChild(u),s.div=u;const x=m.XfaLayer.render(s);return Promise.resolve(x)}return this.pdfPage.getXfa().then(s=>{if(this._cancelled||!s)return{textDivs:[]};const u={viewport:b.clone({dontFlip:!0}),div:this.div,xfaHtml:s,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:i};return this.div?m.XfaLayer.update(u):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),u.div=this.div,m.XfaLayer.render(u))}).catch(s=>{console.error(s)})}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},(I,h,P)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.PDFViewer=h.PDFSinglePageViewer=void 0;var m=P(6),g=P(11);h.PDFViewer=class a extends g.BaseViewer{},h.PDFSinglePageViewer=class b extends g.BaseViewer{_resetView(){super._resetView(),this._scrollMode=m.ScrollMode.PAGE,this._spreadMode=m.SpreadMode.NONE}set scrollMode(s){}_updateScrollMode(){}set spreadMode(s){}_updateSpreadMode(){}}},(I,h,P)=>{var R,F,B,et,Y,ee,U,Z,J,re,le,M,ut,c,dt,l,He,w,Xe,E,ft,W,tt,z,pt,se,gt,Se,_t;Object.defineProperty(h,"__esModule",{value:!0}),h.PagesCountLimit=h.PDFPageViewBuffer=h.BaseViewer=void 0;var m=P(3),g=P(6),a=P(2),b=P(4),i=P(12),s=P(14),u=P(5),x=P(7),_=P(15),f=P(8),n=P(9);const y="enablePermissions",A={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};h.PagesCountLimit=A;class v{constructor(S){Ee(this,B),Ee(this,R,new Set),Ee(this,F,0),Ne(this,F,S)}push(S){const N=Pe(this,R);N.has(S)&&N.delete(S),N.add(S),N.size>Pe(this,F)&&we(this,B,et).call(this)}resize(S,N=null){Ne(this,F,S);const q=Pe(this,R);if(N){const Ae=q.size;let me=1;for(const pe of q)if(N.has(pe.id)&&(q.delete(pe),q.add(pe)),++me>Ae)break}for(;q.size>Pe(this,F);)we(this,B,et).call(this)}has(S){return Pe(this,R).has(S)}[Symbol.iterator](){return Pe(this,R).keys()}}R=new WeakMap,F=new WeakMap,B=new WeakSet,et=function(){const S=Pe(this,R).keys().next().value;S?.destroy(),Pe(this,R).delete(S)},h.PDFPageViewBuffer=v;const oe=class{constructor(S){if(Ee(this,M),Ee(this,c),Ee(this,l),Ee(this,w),Ee(this,E),Ee(this,W),Ee(this,z),Ee(this,se),Ee(this,Se),Ee(this,Y,null),Ee(this,ee,m.AnnotationMode.ENABLE_FORMS),Ee(this,U,null),Ee(this,Z,!1),Ee(this,J,0),Ee(this,re,null),Ee(this,le,null),this.constructor===oe)throw new Error("Cannot initialize BaseViewer.");const N="2.14.305";if(m.version!==N)throw new Error(`The API version "${m.version}" does not match the Viewer version "${N}".`);if(this.container=S.container,this.viewer=S.viewer||S.container.firstElementChild,"DIV"!==this.container?.tagName.toUpperCase()||"DIV"!==this.viewer?.tagName.toUpperCase())throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=S.eventBus,this.linkService=S.linkService||new u.SimpleLinkService,this.downloadManager=S.downloadManager||null,this.findController=S.findController||null,this._scriptingManager=S.scriptingManager||null,this.removePageBorders=S.removePageBorders||!1,this.textLayerMode=S.textLayerMode??g.TextLayerMode.ENABLE,Ne(this,ee,S.annotationMode??m.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=S.imageResourcesPath||"",this.enablePrintAutoRotate=S.enablePrintAutoRotate||!1,this.renderer=S.renderer||g.RendererType.CANVAS,this.useOnlyCssZoom=S.useOnlyCssZoom||!1,this.maxCanvasPixels=S.maxCanvasPixels,this.l10n=S.l10n||b.NullL10n,Ne(this,Z,S.enablePermissions||!1),this.pageColors=S.pageColors||null,S.pageColors&&(!CSS.supports("color",S.pageColors.background)||!CSS.supports("color",S.pageColors.foreground))&&((S.pageColors.background||S.pageColors.foreground)&&console.warn("Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!S.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new s.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=S.renderingQueue,this._doc=document.documentElement,this.scroll=(0,g.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=g.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss(),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(S){return this._pages[S]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(S){return S?.pdfPage})}get renderForms(){return Pe(this,ee)===m.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(S){if(!Number.isInteger(S))throw new Error("Invalid page number.");!this.pdfDocument||this._setCurrentPageNumber(S,!0)||console.error(`currentPageNumber: "${S}" is not a valid page.`)}_setCurrentPageNumber(S,N=!1){if(this._currentPageNumber===S)return N&&we(this,W,tt).call(this),!0;if(!(0<S&&S<=this.pagesCount))return!1;const q=this._currentPageNumber;return this._currentPageNumber=S,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:S,pageLabel:this._pageLabels?.[S-1]??null,previous:q}),N&&we(this,W,tt).call(this),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(S){if(!this.pdfDocument)return;let N=0|S;if(this._pageLabels){const q=this._pageLabels.indexOf(S);q>=0&&(N=q+1)}this._setCurrentPageNumber(N,!0)||console.error(`currentPageLabel: "${S}" is not a valid page.`)}get currentScale(){return this._currentScale!==g.UNKNOWN_SCALE?this._currentScale:g.DEFAULT_SCALE}set currentScale(S){if(isNaN(S))throw new Error("Invalid numeric scale.");!this.pdfDocument||this._setScale(S,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(S){!this.pdfDocument||this._setScale(S,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(S){if(!(0,g.isValidRotation)(S))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((S%=360)<0&&(S+=360),this._pagesRotation===S))return;this._pagesRotation=S;const N=this._currentPageNumber,q={rotation:S};for(const Ae of this._pages)Ae.update(q);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:S,pageNumber:N}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(S){var N=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=S,!S)return;const q=S.isPureXfa,Ae=S.numPages,me=S.getPage(1),pe=S.getOptionalContentConfig(),Ce=Pe(this,Z)?S.getPermissions():Promise.resolve();if(Ae>A.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const ye=this._scrollMode=g.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:ye})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:Ae})},()=>{}),this._onBeforeDraw=ye=>{const Te=this._pages[ye.pageNumber-1];!Te||Pe(this,Y).push(Te)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=ye=>{ye.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:ye.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,Pe(this,le)&&(document.removeEventListener("visibilitychange",Pe(this,le)),Ne(this,le,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([me,Ce]).then(([ye,Te])=>{if(S!==this.pdfDocument)return;this._firstPageCapability.resolve(ye),this._optionalContentConfigPromise=pe,we(this,M,ut).call(this,Te);const Le=this._scrollMode===g.ScrollMode.PAGE?null:this.viewer,De=this.currentScale,ne=ye.getViewport({scale:De*m.PixelsPerInch.PDF_TO_CSS_UNITS}),O=this.textLayerMode===g.TextLayerMode.DISABLE||q?null:this,D=Pe(this,ee)!==m.AnnotationMode.DISABLE?this:null,ce=q?this:null;for(let be=1;be<=Ae;++be){const ve=new i.PDFPageView({container:Le,eventBus:this.eventBus,id:be,scale:De,defaultViewport:ne.clone(),optionalContentConfigPromise:pe,renderingQueue:this.renderingQueue,textLayerFactory:O,textLayerMode:this.textLayerMode,annotationLayerFactory:D,annotationMode:Pe(this,ee),xfaLayerFactory:ce,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(ve)}const de=this._pages[0];de&&(de.setPdfPage(ye),this.linkService.cachePageRef(1,ye.ref)),this._scrollMode===g.ScrollMode.PAGE?we(this,l,He).call(this):this._spreadMode!==g.SpreadMode.NONE&&this._updateSpreadMode(),we(this,c,dt).call(this).then(p(function*(){if(N.findController&&N.findController.setDocument(S),N._scriptingManager&&N._scriptingManager.setDocument(S),S.loadingParams.disableAutoFetch||Ae>A.FORCE_LAZY_PAGE_INIT)return void N._pagesCapability.resolve();let be=Ae-1;if(be<=0)N._pagesCapability.resolve();else for(let ve=2;ve<=Ae;++ve){const ke=S.getPage(ve).then(Re=>{const Ie=N._pages[ve-1];Ie.pdfPage||Ie.setPdfPage(Re),N.linkService.cachePageRef(ve,Re.ref),0==--be&&N._pagesCapability.resolve()},Re=>{console.error(`Unable to get page ${ve} to initialize viewer`,Re),0==--be&&N._pagesCapability.resolve()});ve%A.PAUSE_EAGER_PAGE_INIT==0&&(yield ke)}})),this.eventBus.dispatch("pagesinit",{source:this}),S.getMetadata().then(({info:be})=>{S===this.pdfDocument&&be.Language&&(this.viewer.lang=be.Language)}),this.defaultRenderingQueue&&this.update()}).catch(ye=>{console.error("Unable to initialize viewer",ye),this._pagesCapability.reject(ye)})}setPageLabels(S){if(this.pdfDocument){S?Array.isArray(S)&&this.pdfDocument.numPages===S.length?this._pageLabels=S:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let N=0,q=this._pages.length;N<q;N++)this._pages[N].setPageLabel(this._pageLabels?.[N]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=g.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,Ne(this,Y,new v(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,m.createPromiseCapability)(),this._onePageRenderedCapability=(0,m.createPromiseCapability)(),this._pagesCapability=(0,m.createPromiseCapability)(),this._scrollMode=g.ScrollMode.VERTICAL,this._previousScrollMode=g.ScrollMode.UNKNOWN,this._spreadMode=g.SpreadMode.NONE,Ne(this,re,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),Pe(this,le)&&(document.removeEventListener("visibilitychange",Pe(this,le)),Ne(this,le,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(y),null!==Pe(this,U)&&(Ne(this,ee,Pe(this,U)),Ne(this,U,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_setScaleUpdatePages(S,N,q=!1,Ae=!1){if(this._currentScaleValue=N.toString(),we(this,E,ft).call(this,S))return void(Ae&&this.eventBus.dispatch("scalechanging",{source:this,scale:S,presetValue:N}));this._doc.style.setProperty("--zoom-factor",S);const me={scale:S};for(const pe of this._pages)pe.update(me);if(this._currentScale=S,!q){let Ce,pe=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(pe=this._location.pageNumber,Ce=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:pe,destArray:Ce,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:S,presetValue:Ae?N:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==g.SpreadMode.NONE&&this._scrollMode!==g.ScrollMode.HORIZONTAL?2:1}_setScale(S,N=!1){let q=parseFloat(S);if(q>0)this._setScaleUpdatePages(q,S,N,!1);else{const Ae=this._pages[this._currentPageNumber-1];if(!Ae)return;let me=g.SCROLLBAR_PADDING,pe=g.VERTICAL_PADDING;this.isInPresentationMode?me=pe=4:this.removePageBorders?me=pe=0:this._scrollMode===g.ScrollMode.HORIZONTAL&&([me,pe]=[pe,me]);const Ce=(this.container.clientWidth-me)/Ae.width*Ae.scale/this._pageWidthScaleFactor,ye=(this.container.clientHeight-pe)/Ae.height*Ae.scale;switch(S){case"page-actual":q=1;break;case"page-width":q=Ce;break;case"page-height":q=ye;break;case"page-fit":q=Math.min(Ce,ye);break;case"auto":const Te=(0,g.isPortraitOrientation)(Ae)?Ce:Math.min(ye,Ce);q=Math.min(g.MAX_AUTO_SCALE,Te);break;default:return void console.error(`_setScale: "${S}" is an unknown zoom value.`)}this._setScaleUpdatePages(q,S,N,!0)}}pageLabelToPageNumber(S){if(!this._pageLabels)return null;const N=this._pageLabels.indexOf(S);return N<0?null:N+1}scrollPageIntoView({pageNumber:S,destArray:N=null,allowNegativeOffset:q=!1,ignoreDestinationZoom:Ae=!1}){if(!this.pdfDocument)return;const me=Number.isInteger(S)&&this._pages[S-1];if(!me)return void console.error(`scrollPageIntoView: "${S}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!N)return void this._setCurrentPageNumber(S,!0);let Le,De,pe=0,Ce=0,ye=0,Te=0;const ne=me.rotation%180!=0,O=(ne?me.height:me.width)/me.scale/m.PixelsPerInch.PDF_TO_CSS_UNITS,D=(ne?me.width:me.height)/me.scale/m.PixelsPerInch.PDF_TO_CSS_UNITS;let ce=0;switch(N[1].name){case"XYZ":pe=N[2],Ce=N[3],ce=N[4],pe=null!==pe?pe:0,Ce=null!==Ce?Ce:D;break;case"Fit":case"FitB":ce="page-fit";break;case"FitH":case"FitBH":Ce=N[2],ce="page-width",null===Ce&&this._location?(pe=this._location.left,Ce=this._location.top):("number"!=typeof Ce||Ce<0)&&(Ce=D);break;case"FitV":case"FitBV":pe=N[2],ye=O,Te=D,ce="page-height";break;case"FitR":pe=N[2],Ce=N[3],ye=N[4]-pe,Te=N[5]-Ce,Le=(this.container.clientWidth-(this.removePageBorders?0:g.SCROLLBAR_PADDING))/ye/m.PixelsPerInch.PDF_TO_CSS_UNITS,De=(this.container.clientHeight-(this.removePageBorders?0:g.VERTICAL_PADDING))/Te/m.PixelsPerInch.PDF_TO_CSS_UNITS,ce=Math.min(Math.abs(Le),Math.abs(De));break;default:return void console.error(`scrollPageIntoView: "${N[1].name}" is not a valid destination type.`)}if(Ae||(ce&&ce!==this._currentScale?this.currentScaleValue=ce:this._currentScale===g.UNKNOWN_SCALE&&(this.currentScaleValue=g.DEFAULT_SCALE_VALUE)),"page-fit"===ce&&!N[4])return void we(this,w,Xe).call(this,me);const de=[me.viewport.convertToViewportPoint(pe,Ce),me.viewport.convertToViewportPoint(pe+ye,Ce+Te)];let be=Math.min(de[0][0],de[1][0]),ve=Math.min(de[0][1],de[1][1]);q||(be=Math.max(be,0),ve=Math.max(ve,0)),we(this,w,Xe).call(this,me,{left:be,top:ve})}_updateLocation(S){const N=this._currentScale,q=this._currentScaleValue,Ae=parseFloat(q)===N?Math.round(1e4*N)/100:q,me=S.id,Ce=this.container,ye=this._pages[me-1].getPagePoint(Ce.scrollLeft-S.x,Ce.scrollTop-S.y),Te=Math.round(ye[0]),Le=Math.round(ye[1]);let De=`#page=${me}`;this.isInPresentationMode||(De+=`&zoom=${Ae},${Te},${Le}`),this._location={pageNumber:me,scale:Ae,top:Le,left:Te,rotation:this._pagesRotation,pdfOpenParams:De}}update(){const S=this._getVisiblePages(),N=S.views,q=N.length;if(0===q)return;const Ae=Math.max(10,2*q+1);Pe(this,Y).resize(Ae,S.ids),this.renderingQueue.renderHighestPriority(S);const me=this._spreadMode===g.SpreadMode.NONE&&(this._scrollMode===g.ScrollMode.PAGE||this._scrollMode===g.ScrollMode.VERTICAL),pe=this._currentPageNumber;let Ce=!1;for(const ye of N){if(ye.percent<100)break;if(ye.id===pe&&me){Ce=!0;break}}this._setCurrentPageNumber(Ce?pe:N[0].id),this._updateLocation(S.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(S){return this.container.contains(S)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===g.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===g.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const S=this._scrollMode===g.ScrollMode.PAGE?Pe(this,re).pages:this._pages,N=this._scrollMode===g.ScrollMode.HORIZONTAL;return(0,g.getVisibleElements)({scrollEl:this.container,views:S,sortByVisibility:!0,horizontal:N,rtl:N&&this._isContainerRtl})}isPageVisible(S){return!!this.pdfDocument&&(Number.isInteger(S)&&S>0&&S<=this.pagesCount?this._getVisiblePages().ids.has(S):(console.error(`isPageVisible: "${S}" is not a valid page.`),!1))}isPageCached(S){if(!this.pdfDocument)return!1;if(!(Number.isInteger(S)&&S>0&&S<=this.pagesCount))return console.error(`isPageCached: "${S}" is not a valid page.`),!1;const N=this._pages[S-1];return Pe(this,Y).has(N)}cleanup(){for(const S of this._pages)S.renderingState!==g.RenderingStates.FINISHED&&S.reset()}_cancelRendering(){for(const S of this._pages)S.cancelRendering()}forceRendering(S){const N=S||this._getVisiblePages(),q=we(this,se,gt).call(this,N),me=this.renderingQueue.getHighestPriority(N,this._pages,q,this._spreadMode!==g.SpreadMode.NONE&&this._scrollMode!==g.ScrollMode.HORIZONTAL);return we(this,Se,_t).call(this,N.ids),!!me&&(we(this,z,pt).call(this,me).then(()=>{this.renderingQueue.renderView(me)}),!0)}createTextLayerBuilder(S,N,q,Ae=!1,me,pe){return new f.TextLayerBuilder({textLayerDiv:S,eventBus:me,pageIndex:N,viewport:q,enhanceTextSelection:!this.isInPresentationMode&&Ae,highlighter:pe})}createTextHighlighter(S,N){return new _.TextHighlighter({eventBus:N,pageIndex:S,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(S,N,q=null,Ae="",me=!0,pe=b.NullL10n,Ce=null,ye=null,Te=null,Le=null,De=null){return new a.AnnotationLayerBuilder({pageDiv:S,pdfPage:N,annotationStorage:q||this.pdfDocument?.annotationStorage,imageResourcesPath:Ae,renderForms:me,linkService:this.linkService,downloadManager:this.downloadManager,l10n:pe,enableScripting:Ce??this.enableScripting,hasJSActionsPromise:ye||this.pdfDocument?.hasJSActions(),fieldObjectsPromise:Le||this.pdfDocument?.getFieldObjects(),mouseState:Te||this._scriptingManager?.mouseState,annotationCanvasMap:De})}createXfaLayerBuilder(S,N,q=null){return new n.XfaLayerBuilder({pageDiv:S,pdfPage:N,annotationStorage:q||this.pdfDocument?.annotationStorage,linkService:this.linkService})}createStructTreeLayerBuilder(S){return new x.StructTreeLayerBuilder({pdfPage:S})}get hasEqualPageSizes(){const S=this._pages[0];for(let N=1,q=this._pages.length;N<q;++N){const Ae=this._pages[N];if(Ae.width!==S.width||Ae.height!==S.height)return!1}return!0}getPagesOverview(){return this._pages.map(S=>{const N=S.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,g.isPortraitOrientation)(N)?{width:N.width,height:N.height,rotation:N.rotation}:{width:N.height,height:N.width,rotation:(N.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(S){if(!(S instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${S}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=S;const N={optionalContentConfigPromise:S};for(const q of this._pages)q.update(N);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:S})}get scrollMode(){return this._scrollMode}set scrollMode(S){if(this._scrollMode!==S){if(!(0,g.isValidScrollMode)(S))throw new Error(`Invalid scroll mode: ${S}`);this.pagesCount>A.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=S,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:S}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(S=null){const N=this._scrollMode,q=this.viewer;q.classList.toggle("scrollHorizontal",N===g.ScrollMode.HORIZONTAL),q.classList.toggle("scrollWrapped",N===g.ScrollMode.WRAPPED),this.pdfDocument&&S&&(N===g.ScrollMode.PAGE?we(this,l,He).call(this):this._previousScrollMode===g.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(S,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(S){if(this._spreadMode!==S){if(!(0,g.isValidSpreadMode)(S))throw new Error(`Invalid spread mode: ${S}`);this._spreadMode=S,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:S}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(S=null){if(!this.pdfDocument)return;const N=this.viewer,q=this._pages;if(this._scrollMode===g.ScrollMode.PAGE)we(this,l,He).call(this);else if(N.textContent="",this._spreadMode===g.SpreadMode.NONE)for(const Ae of this._pages)N.appendChild(Ae.div);else{const Ae=this._spreadMode-1;let me=null;for(let pe=0,Ce=q.length;pe<Ce;++pe)null===me?(me=document.createElement("div"),me.className="spread",N.appendChild(me)):pe%2===Ae&&(me=me.cloneNode(!1),N.appendChild(me)),me.appendChild(q[pe].div)}!S||(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(S,!0),this.update())}_getPageAdvance(S,N=!1){switch(this._scrollMode){case g.ScrollMode.WRAPPED:{const{views:q}=this._getVisiblePages(),Ae=new Map;for(const{id:me,y:pe,percent:Ce,widthPercent:ye}of q){if(0===Ce||ye<100)continue;let Te=Ae.get(pe);Te||Ae.set(pe,Te||(Te=[])),Te.push(me)}for(const me of Ae.values()){const pe=me.indexOf(S);if(-1===pe)continue;const Ce=me.length;if(1===Ce)break;if(N)for(let ye=pe-1,Te=0;ye>=Te;ye--){const De=me[ye+1]-1;if(me[ye]<De)return S-De}else for(let ye=pe+1,Te=Ce;ye<Te;ye++){const De=me[ye-1]+1;if(me[ye]>De)return De-S}if(N){const ye=me[0];if(ye<S)return S-ye+1}else{const ye=me[Ce-1];if(ye>S)return ye-S+1}break}break}case g.ScrollMode.HORIZONTAL:break;case g.ScrollMode.PAGE:case g.ScrollMode.VERTICAL:{if(this._spreadMode===g.SpreadMode.NONE)break;const q=this._spreadMode-1;if(N&&S%2!==q)break;if(!N&&S%2===q)break;const{views:Ae}=this._getVisiblePages(),me=N?S-1:S+1;for(const{id:pe,percent:Ce,widthPercent:ye}of Ae)if(pe===me){if(Ce>0&&100===ye)return 2;break}break}}return 1}nextPage(){const S=this._currentPageNumber,N=this.pagesCount;if(S>=N)return!1;const q=this._getPageAdvance(S,!1)||1;return this.currentPageNumber=Math.min(S+q,N),!0}previousPage(){const S=this._currentPageNumber;if(S<=1)return!1;const N=this._getPageAdvance(S,!0)||1;return this.currentPageNumber=Math.max(S-N,1),!0}increaseScale(S=1){let N=this._currentScale;do{N=(N*g.DEFAULT_SCALE_DELTA).toFixed(2),N=Math.ceil(10*N)/10,N=Math.min(g.MAX_SCALE,N)}while(--S>0&&N<g.MAX_SCALE);this.currentScaleValue=N}decreaseScale(S=1){let N=this._currentScale;do{N=(N/g.DEFAULT_SCALE_DELTA).toFixed(2),N=Math.floor(10*N)/10,N=Math.max(g.MIN_SCALE,N)}while(--S>0&&N>g.MIN_SCALE);this.currentScaleValue=N}updateContainerHeightCss(){const S=this.container.clientHeight;S!==Pe(this,J)&&(Ne(this,J,S),this._doc.style.setProperty("--viewer-container-height",`${S}px`))}};let L=oe;Y=new WeakMap,ee=new WeakMap,U=new WeakMap,Z=new WeakMap,J=new WeakMap,re=new WeakMap,le=new WeakMap,M=new WeakSet,ut=function(S){!S||(S.includes(m.PermissionFlag.COPY)||this.viewer.classList.add(y),!S.includes(m.PermissionFlag.MODIFY_ANNOTATIONS)&&!S.includes(m.PermissionFlag.FILL_INTERACTIVE_FORMS)&&Pe(this,ee)===m.AnnotationMode.ENABLE_FORMS&&(Ne(this,U,Pe(this,ee)),Ne(this,ee,m.AnnotationMode.ENABLE)))},c=new WeakSet,dt=function(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const S=new Promise(N=>{Ne(this,le,()=>{"hidden"===document.visibilityState&&(N(),document.removeEventListener("visibilitychange",Pe(this,le)),Ne(this,le,null))}),document.addEventListener("visibilitychange",Pe(this,le))});return Promise.race([this._onePageRenderedCapability.promise,S])},l=new WeakSet,He=function(){if(this._scrollMode!==g.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const S=this._currentPageNumber,N=Pe(this,re),q=this.viewer;if(q.textContent="",N.pages.length=0,this._spreadMode!==g.SpreadMode.NONE||this.isInPresentationMode){const Ae=new Set,me=this._spreadMode-1;-1===me?Ae.add(S-1):S%2!==me?(Ae.add(S-1),Ae.add(S)):(Ae.add(S-2),Ae.add(S-1));const pe=document.createElement("div");if(pe.className="spread",this.isInPresentationMode){const Ce=document.createElement("div");Ce.className="dummyPage",pe.appendChild(Ce)}for(const Ce of Ae){const ye=this._pages[Ce];!ye||(pe.appendChild(ye.div),N.pages.push(ye))}q.appendChild(pe)}else{const Ae=this._pages[S-1];q.appendChild(Ae.div),N.pages.push(Ae)}N.scrollDown=S>=N.previousPageNumber,N.previousPageNumber=S},w=new WeakSet,Xe=function(S,N=null){const{div:q,id:Ae}=S;if(this._scrollMode===g.ScrollMode.PAGE&&(this._setCurrentPageNumber(Ae),we(this,l,He).call(this),this.update()),!N&&!this.isInPresentationMode){const me=q.offsetLeft+q.clientLeft,pe=me+q.clientWidth,{scrollLeft:Ce,clientWidth:ye}=this.container;(this._scrollMode===g.ScrollMode.HORIZONTAL||me<Ce||pe>Ce+ye)&&(N={left:0,top:0})}(0,g.scrollIntoView)(q,N)},E=new WeakSet,ft=function(S){return S===this._currentScale||Math.abs(S-this._currentScale)<1e-15},W=new WeakSet,tt=function(){const S=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),we(this,w,Xe).call(this,S)},z=new WeakSet,pt=function(S){var N=this;return p(function*(){if(S.pdfPage)return S.pdfPage;try{const q=yield N.pdfDocument.getPage(S.id);return S.pdfPage||S.setPdfPage(q),N.linkService._cachedPageNumber?.(q.ref)||N.linkService.cachePageRef(S.id,q.ref),q}catch(q){return console.error("Unable to get page for page view",q),null}})()},se=new WeakSet,gt=function(S){if(1===S.first?.id)return!0;if(S.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case g.ScrollMode.PAGE:return Pe(this,re).scrollDown;case g.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down},Se=new WeakSet,_t=function(S){for(const N of S)this._pages[N-1]?.toggleLoadingIconSpinner(!0);for(const N of Pe(this,Y))S.has(N.id)||N.toggleLoadingIconSpinner(!1)},h.BaseViewer=L},(I,h,P)=>{var u;Object.defineProperty(h,"__esModule",{value:!0}),h.PDFPageView=void 0;var m=P(3),g=P(6),a=P(13),b=P(4);const i=a.compatibilityParams.maxCanvasPixels||16777216;u=new WeakMap,h.PDFPageView=class s{constructor(_){Ee(this,u,m.AnnotationMode.ENABLE_FORMS);const f=_.container,n=_.defaultViewport;this.id=_.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=_.scale||g.DEFAULT_SCALE,this.viewport=n,this.pdfPageRotate=n.rotation,this._optionalContentConfigPromise=_.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=_.textLayerMode??g.TextLayerMode.ENABLE,Ne(this,u,_.annotationMode??m.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=_.imageResourcesPath||"",this.useOnlyCssZoom=_.useOnlyCssZoom||!1,this.maxCanvasPixels=_.maxCanvasPixels||i,this.pageColors=_.pageColors||null,this.eventBus=_.eventBus,this.renderingQueue=_.renderingQueue,this.textLayerFactory=_.textLayerFactory,this.annotationLayerFactory=_.annotationLayerFactory,this.xfaLayerFactory=_.xfaLayerFactory,this.textHighlighter=_.textHighlighterFactory?.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=_.structTreeLayerFactory,this.renderer=_.renderer||g.RendererType.CANVAS,this.l10n=_.l10n||b.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=g.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const r=document.createElement("div");r.className="page",r.style.width=Math.floor(this.viewport.width)+"px",r.style.height=Math.floor(this.viewport.height)+"px",r.setAttribute("data-page-number",this.id),r.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(y=>{r.setAttribute("aria-label",y)}),this.div=r,f?.appendChild(r)}setPdfPage(_){this.pdfPage=_,this.pdfPageRotate=_.rotate,this.viewport=_.getViewport({scale:this.scale*m.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var _=this;return p(function*(){let f=null;try{yield _.annotationLayer.render(_.viewport,"display")}catch(n){f=n}finally{_.eventBus.dispatch("annotationlayerrendered",{source:_,pageNumber:_.id,error:f})}})()}_renderXfaLayer(){var _=this;return p(function*(){let f=null;try{const n=yield _.xfaLayer.render(_.viewport,"display");_.textHighlighter&&_._buildXfaTextContentItems(n.textDivs)}catch(n){f=n}finally{_.eventBus.dispatch("xfalayerrendered",{source:_,pageNumber:_.id,error:f})}})()}_buildXfaTextContentItems(_){var f=this;return p(function*(){const n=yield f.pdfPage.getTextContent(),r=[];for(const y of n.items)r.push(y.str);f.textHighlighter.setTextMapping(_,r),f.textHighlighter.enable()})()}_resetZoomLayer(_=!1){if(!this.zoomLayer)return;const f=this.zoomLayer.firstChild;this.paintedViewportMap.delete(f),f.width=0,f.height=0,_&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:_=!1,keepAnnotationLayer:f=!1,keepXfaLayer:n=!1}={}){this.cancelRendering({keepAnnotationLayer:f,keepXfaLayer:n}),this.renderingState=g.RenderingStates.INITIAL;const r=this.div;r.style.width=Math.floor(this.viewport.width)+"px",r.style.height=Math.floor(this.viewport.height)+"px";const y=r.childNodes,A=_&&this.zoomLayer||null,v=f&&this.annotationLayer?.div||null,L=n&&this.xfaLayer?.div||null;for(let R=y.length-1;R>=0;R--){const F=y[R];switch(F){case A:case v:case L:continue}F.remove()}r.removeAttribute("data-loaded"),v&&this.annotationLayer.hide(),L&&this.xfaLayer.hide(),A||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(R=>{this.loadingIconDiv?.setAttribute("aria-label",R)}),r.appendChild(this.loadingIconDiv)}update({scale:_=0,rotation:f=null,optionalContentConfigPromise:n=null}){if(this.scale=_||this.scale,"number"==typeof f&&(this.rotation=f),n instanceof Promise&&(this._optionalContentConfigPromise=n),this.viewport=this.viewport.clone({scale:this.scale*m.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:A}=document.documentElement;A.setProperty("--zoom-factor",this.scale)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let y=!1;if(this.canvas&&this.maxCanvasPixels>0){const A=this.outputScale;(Math.floor(this.viewport.width)*A.sx|0)*(Math.floor(this.viewport.height)*A.sy|0)>this.maxCanvasPixels&&(y=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&y)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:_=!1,keepXfaLayer:f=!1}={}){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!_||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!f||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this.textHighlighter?.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:_,redrawAnnotationLayer:f=!1,redrawXfaLayer:n=!1}){const r=this.viewport.width,y=this.viewport.height,A=this.div;_.style.width=_.parentNode.style.width=A.style.width=Math.floor(r)+"px",_.style.height=_.parentNode.style.height=A.style.height=Math.floor(y)+"px";const v=this.viewport.rotation-this.paintedViewportMap.get(_).rotation,L=Math.abs(v);let R=1,F=1;if((90===L||270===L)&&(R=y/r,F=r/y),_.style.transform=`rotate(${v}deg) scale(${R}, ${F})`,this.textLayer){const B=this.textLayer.viewport,Y=Math.abs(this.viewport.rotation-B.rotation);let ee=r/B.width;(90===Y||270===Y)&&(ee=r/B.height);const U=this.textLayer.textLayerDiv;let Z,J;switch(Y){case 0:Z=J=0;break;case 90:Z=0,J="-"+U.style.height;break;case 180:Z="-"+U.style.width,J="-"+U.style.height;break;case 270:Z="-"+U.style.width,J=0;break;default:console.error("Bad rotation value.")}U.style.transform=`rotate(${Y}deg) scale(${ee}) translate(${Z}, ${J})`,U.style.transformOrigin="0% 0%"}f&&this.annotationLayer&&this._renderAnnotationLayer(),n&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(_,f){return this.viewport.convertToPdfPoint(_,f)}toggleLoadingIconSpinner(_=!1){this.loadingIconDiv?.classList.toggle("notVisible",!_)}draw(){var _=this;this.renderingState!==g.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:f,pdfPage:n}=this;if(!n)return this.renderingState=g.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=g.RenderingStates.RUNNING;const r=document.createElement("div");r.style.width=f.style.width,r.style.height=f.style.height,r.classList.add("canvasWrapper"),this.annotationLayer?.div?f.insertBefore(r,this.annotationLayer.div):f.appendChild(r);let y=null;if(this.textLayerMode!==g.TextLayerMode.DISABLE&&this.textLayerFactory){const F=document.createElement("div");F.className="textLayer",F.style.width=r.style.width,F.style.height=r.style.height,this.annotationLayer?.div?f.insertBefore(F,this.annotationLayer.div):f.appendChild(F),y=this.textLayerFactory.createTextLayerBuilder(F,this.id-1,this.viewport,this.textLayerMode===g.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=y,Pe(this,u)!==m.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(f,n,null,this.imageResourcesPath,Pe(this,u)===m.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap))),this.xfaLayer?.div&&f.appendChild(this.xfaLayer.div);let A=null;this.renderingQueue&&(A=F=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=g.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=g.RenderingStates.RUNNING,F()});F()});const v=function(){var F=p(function*(B=null){if(L===_.paintTask&&(_.paintTask=null),B instanceof m.RenderingCancelledException)_._renderError=null;else if(_._renderError=B,_.renderingState=g.RenderingStates.FINISHED,_.loadingIconDiv&&(_.loadingIconDiv.remove(),delete _.loadingIconDiv),_._resetZoomLayer(!0),_.eventBus.dispatch("pagerendered",{source:_,pageNumber:_.id,cssTransform:!1,timestamp:performance.now(),error:_._renderError}),B)throw B});return function(){return F.apply(this,arguments)}}(),L=this.renderer===g.RendererType.SVG?this.paintOnSvg(r):this.paintOnCanvas(r);L.onRenderContinue=A,this.paintTask=L;const R=L.promise.then(()=>v(null).then(()=>{if(y){const F=n.streamTextContent({includeMarkedContent:!0});y.setTextContentStream(F),y.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(F){return v(F)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(f,n,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=F=>{F.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(B=>{if(!B||!this.canvas)return;const H=this.structTreeLayer.render(B);H.classList.add("structTree"),this.canvas.appendChild(H)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(n)),f.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),R}paintOnCanvas(_){const f=(0,m.createPromiseCapability)(),n={promise:f.promise,onRenderContinue(U){U()},cancel(){ee.cancel()}},r=this.viewport,y=document.createElement("canvas");y.hidden=!0;let A=!0;const v=function(){A&&(y.hidden=!1,A=!1)};_.appendChild(y),this.canvas=y;const L=y.getContext("2d",{alpha:!1}),R=this.outputScale=new g.OutputScale;if(this.useOnlyCssZoom){const U=r.clone({scale:m.PixelsPerInch.PDF_TO_CSS_UNITS});R.sx*=U.width/r.width,R.sy*=U.height/r.height}if(this.maxCanvasPixels>0){const Z=Math.sqrt(this.maxCanvasPixels/(r.width*r.height));R.sx>Z||R.sy>Z?(R.sx=Z,R.sy=Z,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const F=(0,g.approximateFraction)(R.sx),B=(0,g.approximateFraction)(R.sy);y.width=(0,g.roundToDivide)(r.width*R.sx,F[0]),y.height=(0,g.roundToDivide)(r.height*R.sy,B[0]),y.style.width=(0,g.roundToDivide)(r.width,F[1])+"px",y.style.height=(0,g.roundToDivide)(r.height,B[1])+"px",this.paintedViewportMap.set(y,r);const Y={canvasContext:L,transform:R.scaled?[R.sx,0,0,R.sy,0,0]:null,viewport:this.viewport,annotationMode:Pe(this,u),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},ee=this.pdfPage.render(Y);return ee.onContinue=function(U){v(),n.onRenderContinue?n.onRenderContinue(U):U()},ee.promise.then(function(){v(),f.resolve()},function(U){v(),f.reject(U)}),n}paintOnSvg(_){let f=!1;const n=()=>{if(f)throw new m.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},r=this.pdfPage,y=this.viewport.clone({scale:m.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:r.getOperatorList({annotationMode:Pe(this,u)}).then(v=>(n(),new m.SVGGraphics(r.commonObjs,r.objs).getSVG(v,y).then(R=>{n(),this.svg=R,this.paintedViewportMap.set(R,y),R.style.width=_.style.width,R.style.height=_.style.height,this.renderingState=g.RenderingStates.FINISHED,_.appendChild(R)}))),onRenderContinue(v){v()},cancel(){f=!0}}}setPageLabel(_){this.pageLabel="string"==typeof _?_:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(I,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.compatibilityParams=h.OptionKind=h.AppOptions=void 0;const P=Object.create(null);h.compatibilityParams=P;{const i=navigator.userAgent||"",s=navigator.platform||"",u=navigator.maxTouchPoints||1,x=/Android/.test(i);(/\b(iPad|iPhone|iPod)(?=;)/.test(i)||"MacIntel"===s&&u>1||x)&&(P.maxCanvasPixels=5242880)}const m={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};h.OptionKind=m;const g={annotationMode:{value:2,kind:m.VIEWER+m.PREFERENCE},cursorToolOnLoad:{value:0,kind:m.VIEWER+m.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:m.VIEWER},defaultZoomValue:{value:"",kind:m.VIEWER+m.PREFERENCE},disableHistory:{value:!1,kind:m.VIEWER},disablePageLabels:{value:!1,kind:m.VIEWER+m.PREFERENCE},enablePermissions:{value:!1,kind:m.VIEWER+m.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:m.VIEWER+m.PREFERENCE},enableScripting:{value:!0,kind:m.VIEWER+m.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:m.VIEWER},externalLinkTarget:{value:0,kind:m.VIEWER+m.PREFERENCE},historyUpdateUrl:{value:!1,kind:m.VIEWER+m.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:m.VIEWER+m.PREFERENCE},imageResourcesPath:{value:"./images/",kind:m.VIEWER},maxCanvasPixels:{value:16777216,compatibility:P.maxCanvasPixels,kind:m.VIEWER},pageColorsBackground:{value:"Canvas",kind:m.VIEWER+m.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:m.VIEWER+m.PREFERENCE},pdfBugEnabled:{value:!1,kind:m.VIEWER+m.PREFERENCE},printResolution:{value:150,kind:m.VIEWER},renderer:{value:"canvas",kind:m.VIEWER},sidebarViewOnLoad:{value:-1,kind:m.VIEWER+m.PREFERENCE},scrollModeOnLoad:{value:-1,kind:m.VIEWER+m.PREFERENCE},spreadModeOnLoad:{value:-1,kind:m.VIEWER+m.PREFERENCE},textLayerMode:{value:1,kind:m.VIEWER+m.PREFERENCE},useOnlyCssZoom:{value:!1,kind:m.VIEWER+m.PREFERENCE},viewerCssTheme:{value:0,kind:m.VIEWER+m.PREFERENCE},viewOnLoad:{value:0,kind:m.VIEWER+m.PREFERENCE},cMapPacked:{value:!0,kind:m.API},cMapUrl:{value:"../web/cmaps/",kind:m.API},disableAutoFetch:{value:!1,kind:m.API+m.PREFERENCE},disableFontFace:{value:!1,kind:m.API+m.PREFERENCE},disableRange:{value:!1,kind:m.API+m.PREFERENCE},disableStream:{value:!1,kind:m.API+m.PREFERENCE},docBaseUrl:{value:"",kind:m.API},enableXfa:{value:!0,kind:m.API+m.PREFERENCE},fontExtraProperties:{value:!1,kind:m.API},isEvalSupported:{value:!0,kind:m.API},maxImageSize:{value:-1,kind:m.API},pdfBug:{value:!1,kind:m.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:m.API},verbosity:{value:1,kind:m.API},workerPort:{value:null,kind:m.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:m.WORKER}};g.disablePreferences={value:!1,kind:m.VIEWER},g.locale={value:navigator.language||"en-US",kind:m.VIEWER},g.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:m.VIEWER},g.renderer.kind+=m.PREFERENCE;const a=Object.create(null);h.AppOptions=class b{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(s){const u=a[s];if(void 0!==u)return u;const x=g[s];return void 0!==x?x.compatibility??x.value:void 0}static getAll(s=null){const u=Object.create(null);for(const x in g){const _=g[x];if(s){if(0==(s&_.kind))continue;if(s===m.PREFERENCE){const n=_.value,r=typeof n;if("boolean"===r||"string"===r||"number"===r&&Number.isInteger(n)){u[x]=n;continue}throw new Error(`Invalid type for preference: ${x}`)}}const f=a[x];u[x]=void 0!==f?f:_.compatibility??_.value}return u}static set(s,u){a[s]=u}static setAll(s){for(const u in s)a[u]=s[u]}static remove(s){delete a[s]}static _hasUserOptions(){return Object.keys(a).length>0}}},(I,h,P)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.PDFRenderingQueue=void 0;var m=P(3),g=P(6);h.PDFRenderingQueue=class b{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(s){this.pdfViewer=s}setThumbnailViewer(s){this.pdfThumbnailViewer=s}isHighestPriority(s){return this.highestPriorityPage===s.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(s){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(s)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(s,u,x,_=!1){const f=s.views,n=f.length;if(0===n)return null;for(let L=0;L<n;L++){const R=f[L].view;if(!this.isViewFinished(R))return R}const r=s.first.id,y=s.last.id;if(y-r+1>n){const L=s.ids;for(let R=1,F=y-r;R<F;R++){const B=x?r+R:y-R;if(L.has(B))continue;const H=u[B-1];if(!this.isViewFinished(H))return H}}let A=x?y:r-2,v=u[A];return v&&!this.isViewFinished(v)||_&&(A+=x?1:-1,v=u[A],v&&!this.isViewFinished(v))?v:null}isViewFinished(s){return s.renderingState===g.RenderingStates.FINISHED}renderView(s){switch(s.renderingState){case g.RenderingStates.FINISHED:return!1;case g.RenderingStates.PAUSED:this.highestPriorityPage=s.renderingId,s.resume();break;case g.RenderingStates.RUNNING:this.highestPriorityPage=s.renderingId;break;case g.RenderingStates.INITIAL:this.highestPriorityPage=s.renderingId,s.draw().finally(()=>{this.renderHighestPriority()}).catch(u=>{u instanceof m.RenderingCancelledException||console.error(`renderView: "${u}"`)})}return!0}}},(I,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TextHighlighter=void 0,h.TextHighlighter=class P{constructor({findController:g,eventBus:a,pageIndex:b}){this.findController=g,this.matches=[],this.eventBus=a,this.pageIdx=b,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(g,a){this.textDivs=g,this.textContentItemsStr=a}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=g=>{(g.pageIndex===this.pageIdx||-1===g.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){!this.enabled||(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(g,a){if(!g)return[];const{textContentItemsStr:b}=this;let i=0,s=0;const u=b.length-1,x=[];for(let _=0,f=g.length;_<f;_++){let n=g[_];for(;i!==u&&n>=s+b[i].length;)s+=b[i].length,i++;i===b.length&&console.error("Could not find a matching mapping");const r={begin:{divIdx:i,offset:n-s}};for(n+=a[_];i!==u&&n>s+b[i].length;)s+=b[i].length,i++;r.end={divIdx:i,offset:n-s},x.push(r)}return x}_renderMatches(g){if(0===g.length)return;const{findController:a,pageIdx:b}=this,{textContentItemsStr:i,textDivs:s}=this,u=b===a.selected.pageIdx,x=a.selected.matchIdx;let f=null;function r(L,R){const F=L.divIdx;return s[F].textContent="",y(F,0,L.offset,R)}function y(L,R,F,B){let H=s[L];if(H.nodeType===Node.TEXT_NODE){const U=document.createElement("span");H.parentNode.insertBefore(U,H),U.appendChild(H),s[L]=U,H=U}const Y=i[L].substring(R,F),ee=document.createTextNode(Y);if(B){const U=document.createElement("span");return U.className=`${B} appended`,U.appendChild(ee),H.appendChild(U),B.includes("selected")?U.offsetLeft:0}return H.appendChild(ee),0}let A=x,v=A+1;if(a.state.highlightAll)A=0,v=g.length;else if(!u)return;for(let L=A;L<v;L++){const R=g[L],F=R.begin,B=R.end,H=u&&L===x,Y=H?" selected":"";let ee=0;if(f&&F.divIdx===f.divIdx?y(f.divIdx,f.offset,F.offset):(null!==f&&y(f.divIdx,f.offset,undefined),r(F)),F.divIdx===B.divIdx)ee=y(F.divIdx,F.offset,B.offset,"highlight"+Y);else{ee=y(F.divIdx,F.offset,undefined,"highlight begin"+Y);for(let U=F.divIdx+1,Z=B.divIdx;U<Z;U++)s[U].className="highlight middle"+Y;r(B,"highlight end"+Y)}f=B,H&&a.scrollMatchIntoView({element:s[F.divIdx],selectedLeft:ee,pageIndex:b,matchIndex:x})}f&&y(f.divIdx,f.offset,undefined)}_updateMatches(){if(!this.enabled)return;const{findController:g,matches:a,pageIdx:b}=this,{textContentItemsStr:i,textDivs:s}=this;let u=-1;for(let f=0,n=a.length;f<n;f++){const r=a[f];for(let A=Math.max(u,r.begin.divIdx),v=r.end.divIdx;A<=v;A++){const L=s[A];L.textContent=i[A],L.className=""}u=r.end.divIdx+1}g?.highlightMatches&&(this.matches=this._convertMatches(g.pageMatches[b]||null,g.pageMatchesLength[b]||null),this._renderMatches(this.matches))}}},(I,h,P)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.DownloadManager=void 0;var m=P(3);function g(b,i){const s=document.createElement("a");if(!s.click)throw new Error('DownloadManager: "a.click()" is not supported.');s.href=b,s.target="_parent","download"in s&&(s.download=i),(document.body||document.documentElement).appendChild(s),s.click(),s.remove()}h.DownloadManager=class a{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(i,s){(0,m.createValidAbsoluteUrl)(i,"http://example.com")?g(i+"#pdfjs.action=download",s):console.error(`downloadUrl - not a valid URL: ${i}`)}downloadData(i,s,u){g(URL.createObjectURL(new Blob([i],{type:u})),s)}openOrDownloadData(i,s,u){const x=(0,m.isPdfFile)(u),_=x?"application/pdf":"";if(x){let n,f=this._openBlobUrls.get(i);f||(f=URL.createObjectURL(new Blob([s],{type:_})),this._openBlobUrls.set(i,f)),n="?file="+encodeURIComponent(f+"#"+u);try{return window.open(n),!0}catch(r){console.error(`openOrDownloadData: ${r}`),URL.revokeObjectURL(f),this._openBlobUrls.delete(i)}}return this.downloadData(s,u,_),!1}download(i,s,u,x="download"){g(URL.createObjectURL(i),u)}}},(I,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.WaitOnType=h.EventBus=h.AutomationEventBus=void 0,h.waitOnEventOrTimeout=function m({target:b,name:i,delay:s=0}){return new Promise(function(u,x){if("object"!=typeof b||!i||"string"!=typeof i||!(Number.isInteger(s)&&s>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function _(y){b instanceof g?b._off(i,f):b.removeEventListener(i,f),r&&clearTimeout(r),u(y)}const f=_.bind(null,P.EVENT);b instanceof g?b._on(i,f):b.addEventListener(i,f);const n=_.bind(null,P.TIMEOUT),r=setTimeout(n,s)})};const P={EVENT:"event",TIMEOUT:"timeout"};h.WaitOnType=P;class g{constructor(){this._listeners=Object.create(null)}on(i,s,u=null){this._on(i,s,{external:!0,once:u?.once})}off(i,s,u=null){this._off(i,s,{external:!0,once:u?.once})}dispatch(i,s){const u=this._listeners[i];if(!u||0===u.length)return;let x;for(const{listener:_,external:f,once:n}of u.slice(0))n&&this._off(i,_),f?(x||(x=[])).push(_):_(s);if(x){for(const _ of x)_(s);x=null}}_on(i,s,u=null){var _;((_=this._listeners)[i]||(_[i]=[])).push({listener:s,external:!0===u?.external,once:!0===u?.once})}_off(i,s,u=null){const x=this._listeners[i];if(x)for(let _=0,f=x.length;_<f;_++)if(x[_].listener===s)return void x.splice(_,1)}}h.EventBus=g,h.AutomationEventBus=class a extends g{dispatch(i,s){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(I,h,P)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.GenericL10n=void 0,P(19);var m=P(4);const g=document.webL10n;h.GenericL10n=class a{constructor(i){this._lang=i,this._ready=new Promise((s,u)=>{g.setLanguage((0,m.fixupLangCode)(i),()=>{s(g)})})}getLanguage(){var i=this;return p(function*(){return(yield i._ready).getLanguage()})()}getDirection(){var i=this;return p(function*(){return(yield i._ready).getDirection()})()}get(i,s=null,u=(0,m.getL10nFallback)(i,s)){var x=this;return p(function*(){return(yield x._ready).get(i,s,u)})()}translate(i){var s=this;return p(function*(){return(yield s._ready).translate(i)})()}}},()=>{document.webL10n=function(I,h,P){var m={},g="",a="textContent",b="",i={},s="loading";function r(U,Z,J){Z=Z||function(M){},J=J||function(){};var re=new XMLHttpRequest;re.open("GET",U,!0),re.overrideMimeType&&re.overrideMimeType("text/plain; charset=utf-8"),re.onreadystatechange=function(){4==re.readyState&&(200==re.status||0===re.status?Z(re.responseText):J())},re.onerror=J,re.ontimeout=J;try{re.send(null)}catch{J()}}function A(U,Z){U&&(U=U.toLowerCase()),Z=Z||function(){},function v(){m={},g="",b=""}(),b=U;var J=function x(){return h.querySelectorAll('link[type="application/l10n"]')}(),re=J.length;if(0!==re){var c,e=0;c=function(){++e>=re&&(Z(),s="complete")};for(var d=0;d<re;d++)new l(J[d]).load(U,c)}else{var le=function _(){var U=h.querySelector('script[type="application/l10n"]');return U?JSON.parse(U.innerHTML):null}();if(le&&le.locales&&le.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(m=le.locales[U])){var M=le.default_locale.toLowerCase();for(var o in le.locales){if((o=o.toLowerCase())===U){m=le.locales[U];break}o===M&&(m=le.locales[M])}}Z()}else console.log("no resource to load, early way out");s="complete"}function l(C){var E=C.href;this.load=function(V,W){!function y(U,Z,J,re){var le=U.replace(/[^\/]*$/,"")||"./";function M(c){return c.lastIndexOf("\\")<0?c:c.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}r(U,function(c){g+=c,function o(c,e){var l={},d=/^\s*|\s*$/,w=/^\s*#|^\s*$/,C=/^\s*\[(.*)\]\s*$/,E=/^\s*@import\s+url\((.*)\)\s*$/i,V=/^([^=\s]*)\s*=\s*(.+)$/;function W(z,Q,se){var fe=z.replace(d,"").split(/[\r\n]+/),Se="*",G=Z.split("-",1)[0],oe=!1,ae="";!function S(){for(;;){if(!fe.length)return void se();var N=fe.shift();if(!w.test(N)){if(Q){if(ae=C.exec(N)){Se=ae[1].toLowerCase(),oe="*"!==Se&&Se!==Z&&Se!==G;continue}if(oe)continue;if(ae=E.exec(N))return void j(le+ae[1],S)}var q=N.match(V);q&&3==q.length&&(l[q[1]]=M(q[2]))}}}()}function j(z,Q){r(z,function(se){W(se,!1,Q)},function(){console.warn(z+" not found."),Q()})}W(c,!0,function(){e(l)})}(c,function(e){for(var l in e){var d,w,C=l.lastIndexOf(".");C>0?(d=l.substring(0,C),w=l.substring(C+1)):(d=l,w=a),m[d]||(m[d]={}),m[d][w]=e[l]}J&&J()})},re)}(E,V,W,function(){console.warn(E+" not found."),console.warn('"'+V+'" resource not found'),b="",W()})}}}function R(U,Z,J){var re=m[U];if(!re){if(console.warn("#"+U+" is undefined."),!J)return null;re=J}var le={};for(var M in re){var o=re[M];o=B(o=F(o,Z,U,M),Z,U),le[M]=o}return le}function F(U,Z,J,re){var M=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(U);if(!M||!M.length)return U;var e,o=M[1],c=M[2];return Z&&c in Z?e=Z[c]:c in m&&(e=m[c]),o in i&&(U=(0,i[o])(U,e,J,re)),U}function B(U,Z,J){return U.replace(/\{\{\s*(.+?)\s*\}\}/g,function(le,M){return Z&&M in Z?Z[M]:M in m?m[M]:(console.log("argument {{"+M+"}} for #"+J+" is undefined."),le)})}function H(U){var Z=function n(U){if(!U)return{};var Z=U.getAttribute("data-l10n-id"),J=U.getAttribute("data-l10n-args"),re={};if(J)try{re=JSON.parse(J)}catch{console.warn("could not parse arguments for #"+Z)}return{id:Z,args:re}}(U);if(Z.id){var J=R(Z.id,Z.args);if(!J)return void console.warn("#"+Z.id+" is undefined.");if(J[a]){if(0===function Y(U){if(U.children)return U.children.length;if(typeof U.childElementCount<"u")return U.childElementCount;for(var Z=0,J=0;J<U.childNodes.length;J++)Z+=1===U.nodeType?1:0;return Z}(U))U[a]=J[a];else{for(var re=U.childNodes,le=!1,M=0,o=re.length;M<o;M++)3===re[M].nodeType&&/\S/.test(re[M].nodeValue)&&(le?re[M].nodeValue="":(re[M].nodeValue=J[a],le=!0));if(!le){var c=h.createTextNode(J[a]);U.insertBefore(c,U.firstChild)}}delete J[a]}for(var e in J)U[e]=J[e]}}return i.plural=function(U,Z,J,re){var le=parseFloat(Z);if(isNaN(le)||re!=a)return U;i._pluralRules||(i._pluralRules=function L(U){function J(o,c){return-1!==c.indexOf(o)}function re(o,c,e){return c<=o&&o<=e}var le={0:function(o){return"other"},1:function(o){return re(o%100,3,10)?"few":0===o?"zero":re(o%100,11,99)?"many":2==o?"two":1==o?"one":"other"},2:function(o){return 0!==o&&o%10==0?"many":2==o?"two":1==o?"one":"other"},3:function(o){return 1==o?"one":"other"},4:function(o){return re(o,0,1)?"one":"other"},5:function(o){return re(o,0,2)&&2!=o?"one":"other"},6:function(o){return 0===o?"zero":o%10==1&&o%100!=11?"one":"other"},7:function(o){return 2==o?"two":1==o?"one":"other"},8:function(o){return re(o,3,6)?"few":re(o,7,10)?"many":2==o?"two":1==o?"one":"other"},9:function(o){return 0===o||1!=o&&re(o%100,1,19)?"few":1==o?"one":"other"},10:function(o){return re(o%10,2,9)&&!re(o%100,11,19)?"few":o%10!=1||re(o%100,11,19)?"other":"one"},11:function(o){return re(o%10,2,4)&&!re(o%100,12,14)?"few":o%10==0||re(o%10,5,9)||re(o%100,11,14)?"many":o%10==1&&o%100!=11?"one":"other"},12:function(o){return re(o,2,4)?"few":1==o?"one":"other"},13:function(o){return re(o%10,2,4)&&!re(o%100,12,14)?"few":1!=o&&re(o%10,0,1)||re(o%10,5,9)||re(o%100,12,14)?"many":1==o?"one":"other"},14:function(o){return re(o%100,3,4)?"few":o%100==2?"two":o%100==1?"one":"other"},15:function(o){return 0===o||re(o%100,2,10)?"few":re(o%100,11,19)?"many":1==o?"one":"other"},16:function(o){return o%10==1&&11!=o?"one":"other"},17:function(o){return 3==o?"few":0===o?"zero":6==o?"many":2==o?"two":1==o?"one":"other"},18:function(o){return 0===o?"zero":re(o,0,2)&&0!==o&&2!=o?"one":"other"},19:function(o){return re(o,2,10)?"few":re(o,0,1)?"one":"other"},20:function(o){return!re(o%10,3,4)&&o%10!=9||re(o%100,10,19)||re(o%100,70,79)||re(o%100,90,99)?o%1e6==0&&0!==o?"many":o%10!=2||J(o%100,[12,72,92])?o%10!=1||J(o%100,[11,71,91])?"other":"one":"two":"few"},21:function(o){return 0===o?"zero":1==o?"one":"other"},22:function(o){return re(o,0,1)||re(o,11,99)?"one":"other"},23:function(o){return re(o%10,1,2)||o%20==0?"one":"other"},24:function(o){return re(o,3,10)||re(o,13,19)?"few":J(o,[2,12])?"two":J(o,[1,11])?"one":"other"}},M={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[U.replace(/-.*$/,"")];return M in le?le[M]:(console.warn("plural form unknown for ["+U+"]"),function(){return"other"})}(b));var M="["+i._pluralRules(le)+"]";return 0===le&&J+"[zero]"in m?U=m[J+"[zero]"][re]:1==le&&J+"[one]"in m?U=m[J+"[one]"][re]:2==le&&J+"[two]"in m?U=m[J+"[two]"][re]:J+M in m?U=m[J+M][re]:J+"[other]"in m&&(U=m[J+"[other]"][re]),U},{get:function(U,Z,J){var M,re=U.lastIndexOf("."),le=a;re>0&&(le=U.substring(re+1),U=U.substring(0,re)),J&&((M={})[le]=J);var o=R(U,Z,M);return o&&le in o?o[le]:"{{"+U+"}}"},getData:function(){return m},getText:function(){return g},getLanguage:function(){return b},setLanguage:function(U,Z){A(U,function(){Z&&Z()})},getDirection:function(){var Z=b.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(Z)>=0?"rtl":"ltr"},translate:function ee(U){for(var Z=function f(U){return U?U.querySelectorAll("*[data-l10n-id]"):[]}(U=U||h.documentElement),J=Z.length,re=0;re<J;re++)H(Z[re]);H(U)},getReadyState:function(){return s},ready:function(U){U&&("complete"==s||"interactive"==s?I.setTimeout(function(){U()}):h.addEventListener&&h.addEventListener("localized",function Z(){h.removeEventListener("localized",Z),U()}))}}}(window,document)},(I,h,P)=>{var B,mt,Y,nt,U,it,J,bt,le,At,o,yt,e,st,d,vt,C,Ct,V,Ze,j,Ge,Q,We,fe,St,G,rt,ae,at,N,Ye,Ae,Pt,pe,ot,ye,wt,Le,ze;Object.defineProperty(h,"__esModule",{value:!0}),h.PDFFindController=h.FindState=void 0;var m=P(6),g=P(3),a=P(21);const b={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};h.FindState=b;const x={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},_=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),f=[..._.values()].map(ne=>String.fromCharCode(ne)).join(""),n=/\p{M}+/gu,r=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,y=/([^\p{M}])\p{M}*$/u,A=/^\p{M}*([^\p{M}])/u;let v=null;function L(ne){if(!v){const Fe=Object.keys(x).join("");v=new RegExp(`([${Fe}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const O=[];let D;for(;null!==(D=n.exec(ne));)O.push([D[0].length,D.index]);let ce=ne.normalize("NFD");const de=[[0,0]];let be=0,ve=0,ke=0,Re=0,Ie=!1;return ce=ce.replace(v,(Fe,Ue,Be,$,ge,T)=>{if(T-=ke,Ue){const X=x[Fe],he=X.length;for(let xe=1;xe<he;xe++)de.push([T-ve+xe,ve-xe]);return ve-=he-1,X}if(Be){const X=Be.endsWith("\n"),he=X?Be.length-2:Be.length;Ie=!0;let xe=he;T+Re===O[be]?.[1]&&(xe-=O[be][0],++be);for(let Me=1;Me<xe+1;Me++)de.push([T-1-ve+Me,ve-Me]);return ve-=xe,ke+=xe,X?(de.push([(T+=he-1)-ve+1,1+ve]),ve+=1,ke+=1,Re+=1,Be.slice(0,he)):Be}return $?(de.push([T-ve+1,1+ve]),ve+=1,ke+=1,Re+=1,$.charAt(0)):(de.push([T-ve+1,ve-1]),ve-=1,ke+=1,Re+=1," ")}),de.push([ce.length,ve]),[ce,de,Ie]}function R(ne,O,D){if(!ne)return[O,D];const ce=O,de=O+D;let be=(0,m.binarySearchFirstItem)(ne,ke=>ke[0]>=ce);ne[be][0]>ce&&--be;let ve=(0,m.binarySearchFirstItem)(ne,ke=>ke[0]>=de,be);return ne[ve][0]>de&&--ve,[ce+ne[be][1],D+ne[ve][1]-ne[be][1]]}B=new WeakSet,mt=function(O){if(!O)return;const D=this._pdfDocument,{type:ce}=O;(null===this._state||we(this,J,bt).call(this,O))&&(this._dirtyMatch=!0),this._state=O,"highlightallchange"!==ce&&we(this,Le,ze).call(this,b.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||D&&this._pdfDocument!==D)return;we(this,C,Ct).call(this);const de=!this._highlightMatches,be=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),ce?this._dirtyMatch?we(this,Q,We).call(this):"again"===ce?(we(this,Q,We).call(this),de&&this._state.highlightAll&&we(this,j,Ge).call(this)):"highlightallchange"===ce?(be?we(this,Q,We).call(this):this._highlightMatches=!0,we(this,j,Ge).call(this)):we(this,Q,We).call(this):this._findTimeout=setTimeout(()=>{we(this,Q,We).call(this),this._findTimeout=null},250)})},Y=new WeakSet,nt=function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,g.createPromiseCapability)()},U=new WeakSet,it=function(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=L(this._state.query)),this._normalizedQuery},J=new WeakSet,bt=function(O){if(O.query!==this._state.query)return!0;switch(O.type){case"again":const D=this._selected.pageIdx+1,ce=this._linkService;return D>=1&&D<=ce.pagesCount&&D!==ce.page&&!ce.isPageVisible(D);case"highlightallchange":return!1}return!0},le=new WeakSet,At=function(O,D,ce){let de=O.slice(0,D).match(y);if(de){const be=O.charCodeAt(D),ve=de[1].charCodeAt(0);if((0,a.getCharacterType)(be)===(0,a.getCharacterType)(ve))return!1}if(de=O.slice(D+ce).match(A),de){const be=O.charCodeAt(D+ce-1),ve=de[1].charCodeAt(0);if((0,a.getCharacterType)(be)===(0,a.getCharacterType)(ve))return!1}return!0},o=new WeakSet,yt=function(O,D,ce,de){const be=[],ve=[],ke=this._pageDiffs[ce];let Re;for(;null!==(Re=O.exec(de));){if(D&&!we(this,le,At).call(this,de,Re.index,Re[0].length))continue;const[Ie,Fe]=R(ke,Re.index,Re[0].length);Fe&&(be.push(Ie),ve.push(Fe))}this._pageMatches[ce]=be,this._pageMatchesLength[ce]=ve},e=new WeakSet,st=function(O,D){const{matchDiacritics:ce}=this._state;let de=!1;return(O=O.replace(r,(ve,ke,Re,Ie,Fe,Ue)=>ke?`[ ]*\\${ke}[ ]*`:Re?`[ ]*${Re}[ ]*`:Ie?"[ ]+":ce?Fe||Ue:Fe?_.has(Fe.charCodeAt(0))?Fe:"":D?(de=!0,`${Ue}\\p{M}*`):Ue)).endsWith("[ ]*")&&(O=O.slice(0,O.length-"[ ]*".length)),ce&&D&&(de=!0,O=`${O}(?=[${f}]|[^\\p{M}]|$)`),[de,O]},d=new WeakSet,vt=function(O){let D=Pe(this,U,it);if(0===D.length)return;const{caseSensitive:ce,entireWord:de,phraseSearch:be}=this._state,ve=this._pageContents[O],ke=this._hasDiacritics[O];let Re=!1;if(be)[Re,D]=we(this,e,st).call(this,D,ke);else{const Ue=D.match(/\S+/g);Ue&&(D=Ue.sort().reverse().map(Be=>{const[$,ge]=we(this,e,st).call(this,Be,ke);return Re||(Re=$),`(${ge})`}).join("|"))}D=new RegExp(D,`g${Re?"u":""}${ce?"":"i"}`),we(this,o,yt).call(this,D,de,O,ve),this._state.highlightAll&&we(this,V,Ze).call(this,O),this._resumePageIdx===O&&(this._resumePageIdx=null,we(this,G,rt).call(this));const Fe=this._pageMatches[O].length;Fe>0&&(this._matchesCountTotal+=Fe,we(this,ye,wt).call(this))},C=new WeakSet,Ct=function(){if(this._extractTextPromises.length>0)return;let O=Promise.resolve();for(let D=0,ce=this._linkService.pagesCount;D<ce;D++){const de=(0,g.createPromiseCapability)();this._extractTextPromises[D]=de.promise,O=O.then(()=>this._pdfDocument.getPage(D+1).then(be=>be.getTextContent()).then(be=>{const ve=[];for(const ke of be.items)ve.push(ke.str),ke.hasEOL&&ve.push("\n");[this._pageContents[D],this._pageDiffs[D],this._hasDiacritics[D]]=L(ve.join("")),de.resolve()},be=>{console.error(`Unable to get text content for page ${D+1}`,be),this._pageContents[D]="",this._pageDiffs[D]=null,this._hasDiacritics[D]=!1,de.resolve()}))}},V=new WeakSet,Ze=function(O){this._scrollMatches&&this._selected.pageIdx===O&&(this._linkService.page=O+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:O})},j=new WeakSet,Ge=function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})},Q=new WeakSet,We=function(){const O=this._state.findPrevious,D=this._linkService.page-1,ce=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=D,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,we(this,j,Ge).call(this);for(let be=0;be<ce;be++)this._pendingFindMatches.has(be)||(this._pendingFindMatches.add(be),this._extractTextPromises[be].then(()=>{this._pendingFindMatches.delete(be),we(this,d,vt).call(this,be)}))}if(""===Pe(this,U,it))return void we(this,Le,ze).call(this,b.FOUND);if(this._resumePageIdx)return;const de=this._offset;if(this._pagesToSearch=ce,null!==de.matchIdx){const be=this._pageMatches[de.pageIdx].length;if(!O&&de.matchIdx+1<be||O&&de.matchIdx>0)return de.matchIdx=O?de.matchIdx-1:de.matchIdx+1,void we(this,N,Ye).call(this,!0);we(this,ae,at).call(this,O)}we(this,G,rt).call(this)},fe=new WeakSet,St=function(O){const D=this._offset,ce=O.length,de=this._state.findPrevious;return ce?(D.matchIdx=de?ce-1:0,we(this,N,Ye).call(this,!0),!0):(we(this,ae,at).call(this,de),!!(D.wrapped&&(D.matchIdx=null,this._pagesToSearch<0))&&(we(this,N,Ye).call(this,!1),!0))},G=new WeakSet,rt=function(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let O=null;do{const D=this._offset.pageIdx;if(O=this._pageMatches[D],!O){this._resumePageIdx=D;break}}while(!we(this,fe,St).call(this,O))},ae=new WeakSet,at=function(O){const D=this._offset,ce=this._linkService.pagesCount;D.pageIdx=O?D.pageIdx-1:D.pageIdx+1,D.matchIdx=null,this._pagesToSearch--,(D.pageIdx>=ce||D.pageIdx<0)&&(D.pageIdx=O?ce-1:0,D.wrapped=!0)},N=new WeakSet,Ye=function(O=!1){let D=b.NOT_FOUND;const ce=this._offset.wrapped;if(this._offset.wrapped=!1,O){const de=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,D=ce?b.WRAPPED:b.FOUND,-1!==de&&de!==this._selected.pageIdx&&we(this,V,Ze).call(this,de)}we(this,Le,ze).call(this,D,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,we(this,V,Ze).call(this,this._selected.pageIdx))},Ae=new WeakSet,Pt=function(O){const D=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||D&&this._pdfDocument!==D||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),we(this,Le,ze).call(this,b.FOUND),this._highlightMatches=!1,we(this,j,Ge).call(this))})},pe=new WeakSet,ot=function(){const{pageIdx:O,matchIdx:D}=this._selected;let ce=0,de=this._matchesCountTotal;if(-1!==D){for(let be=0;be<O;be++)ce+=this._pageMatches[be]?.length||0;ce+=D+1}return(ce<1||ce>de)&&(ce=de=0),{current:ce,total:de}},ye=new WeakSet,wt=function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:we(this,pe,ot).call(this)})},Le=new WeakSet,ze=function(O,D=!1){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:O,previous:D,matchesCount:we(this,pe,ot).call(this),rawQuery:this._state?.query??null})},h.PDFFindController=class F{constructor({linkService:O,eventBus:D}){Ee(this,B),Ee(this,Y),Ee(this,U),Ee(this,J),Ee(this,le),Ee(this,o),Ee(this,e),Ee(this,d),Ee(this,C),Ee(this,V),Ee(this,j),Ee(this,Q),Ee(this,fe),Ee(this,G),Ee(this,ae),Ee(this,N),Ee(this,Ae),Ee(this,pe),Ee(this,ye),Ee(this,Le),this._linkService=O,this._eventBus=D,we(this,Y,nt).call(this),D._on("find",we(this,B,mt).bind(this)),D._on("findbarclose",we(this,Ae,Pt).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(O){this._pdfDocument&&we(this,Y,nt).call(this),O&&(this._pdfDocument=O,this._firstPageCapability.resolve())}scrollMatchIntoView({element:O=null,selectedLeft:D=0,pageIndex:ce=-1,matchIndex:de=-1}){this._scrollMatches&&O&&-1!==de&&de===this._selected.matchIdx&&-1!==ce&&ce===this._selected.pageIdx&&(this._scrollMatches=!1,(0,m.scrollIntoView)(O,{top:-50,left:D+-400},!0))}}},(I,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.CharacterType=void 0,h.getCharacterType=function n(r){return function m(r){return r<11904}(r)?function g(r){return 0==(65408&r)}(r)?function i(r){return 32===r||9===r||13===r||10===r}(r)?P.SPACE:function a(r){return r>=97&&r<=122||r>=65&&r<=90}(r)||function b(r){return r>=48&&r<=57}(r)||95===r?P.ALPHA_LETTER:P.PUNCT:function f(r){return 3584==(65408&r)}(r)?P.THAI_LETTER:160===r?P.SPACE:P.ALPHA_LETTER:function s(r){return r>=13312&&r<=40959||r>=63744&&r<=64255}(r)?P.HAN_LETTER:function u(r){return r>=12448&&r<=12543}(r)?P.KATAKANA_LETTER:function x(r){return r>=12352&&r<=12447}(r)?P.HIRAGANA_LETTER:function _(r){return r>=65376&&r<=65439}(r)?P.HALFWIDTH_KATAKANA_LETTER:P.ALPHA_LETTER};const P={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};h.CharacterType=P},(I,h,P)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.PDFHistory=void 0,h.isDestArraysEqual=_,h.isDestHashesEqual=x;var m=P(6),g=P(17);function s(){return document.location.hash}function x(f,n){return"string"==typeof f&&"string"==typeof n&&(f===n||(0,m.parseQueryString)(f).get("nameddest")===n)}function _(f,n){function r(y,A){if(typeof y!=typeof A||Array.isArray(y)||Array.isArray(A))return!1;if(null!==y&&"object"==typeof y&&null!==A){if(Object.keys(y).length!==Object.keys(A).length)return!1;for(const v in y)if(!r(y[v],A[v]))return!1;return!0}return y===A||Number.isNaN(y)&&Number.isNaN(A)}if(!Array.isArray(f)||!Array.isArray(n)||f.length!==n.length)return!1;for(let y=0,A=f.length;y<A;y++)if(!r(f[y],n[y]))return!1;return!0}h.PDFHistory=class u{constructor({linkService:n,eventBus:r}){this.linkService=n,this.eventBus=r,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",y=>{this._isPagesLoaded=!!y.pagesCount},{once:!0})})}initialize({fingerprint:n,resetHistory:r=!1,updateUrl:y=!1}){if(!n||"string"!=typeof n)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const A=""!==this._fingerprint&&this._fingerprint!==n;this._fingerprint=n,this._updateUrl=!0===y,this._initialized=!0,this._bindEvents();const v=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=s(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(v,!0)||r){const{hash:R,page:F,rotation:B}=this._parseCurrentHash(!0);return!R||A||r?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:R,page:F,rotation:B},!0)}const L=v.destination;this._updateInternalState(L,v.uid,!0),void 0!==L.rotation&&(this._initialRotation=L.rotation),L.dest?(this._initialBookmark=JSON.stringify(L.dest),this._destination.page=null):L.hash?this._initialBookmark=L.hash:L.page&&(this._initialBookmark=`page=${L.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:n=null,explicitDest:r,pageNumber:y}){if(!this._initialized)return;if(n&&"string"!=typeof n)return void console.error(`PDFHistory.push: "${n}" is not a valid namedDest parameter.`);if(!Array.isArray(r))return void console.error(`PDFHistory.push: "${r}" is not a valid explicitDest parameter.`);if(!this._isValidPage(y)&&(null!==y||this._destination))return void console.error(`PDFHistory.push: "${y}" is not a valid pageNumber parameter.`);const A=n||JSON.stringify(r);if(!A)return;let v=!1;if(this._destination&&(x(this._destination.hash,A)||_(this._destination.dest,r))){if(this._destination.page)return;v=!0}this._popStateInProgress&&!v||(this._pushOrReplaceState({dest:r,hash:A,page:y,rotation:this.linkService.rotation},v),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(n){if(this._initialized){if(!this._isValidPage(n))return void console.error(`PDFHistory.pushPage: "${n}" is not a valid page number.`);this._destination?.page!==n&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${n}`,page:n,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const n=window.history.state;this._isValidState(n)&&n.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const n=window.history.state;this._isValidState(n)&&n.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(n,r=!1){const y=r||!this._destination,A={fingerprint:this._fingerprint,uid:y?this._uid:this._uid+1,destination:n};let v;if(this._updateInternalState(n,A.uid),this._updateUrl&&n?.hash){const L=document.location.href.split("#")[0];L.startsWith("file://")||(v=`${L}#${n.hash}`)}y?window.history.replaceState(A,"",v):window.history.pushState(A,"",v)}_tryPushCurrentPosition(n=!1){if(!this._position)return;let r=this._position;if(n&&(r=Object.assign(Object.create(null),this._position),r.temporary=!0),!this._destination)return void this._pushOrReplaceState(r);if(this._destination.temporary)return void this._pushOrReplaceState(r,!0);if(this._destination.hash===r.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let y=!1;if(this._destination.page>=r.first&&this._destination.page<=r.page){if(void 0!==this._destination.dest||!this._destination.first)return;y=!0}this._pushOrReplaceState(r,y)}_isValidPage(n){return Number.isInteger(n)&&n>0&&n<=this.linkService.pagesCount}_isValidState(n,r=!1){if(!n)return!1;if(n.fingerprint!==this._fingerprint){if(!r)return!1;{if("string"!=typeof n.fingerprint||n.fingerprint.length!==this._fingerprint.length)return!1;const[y]=performance.getEntriesByType("navigation");if("reload"!==y?.type)return!1}}return!(!Number.isInteger(n.uid)||n.uid<0||null===n.destination||"object"!=typeof n.destination)}_updateInternalState(n,r,y=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),y&&n?.temporary&&delete n.temporary,this._destination=n,this._uid=r,this._maxUid=Math.max(this._maxUid,r),this._numPositionUpdates=0}_parseCurrentHash(n=!1){const r=unescape(s()).substring(1),y=(0,m.parseQueryString)(r),A=y.get("nameddest")||"";let v=0|y.get("page");return(!this._isValidPage(v)||n&&A.length>0)&&(v=null),{hash:r,page:v,rotation:this.linkService.rotation}}_updateViewarea({location:n}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:n.pdfOpenParams.substring(1),page:this.linkService.page,first:n.pageNumber,rotation:n.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:n}){const r=s(),y=this._currentHash!==r;if(this._currentHash=r,!n){this._uid++;const{hash:v,page:L,rotation:R}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:v,page:L,rotation:R},!0)}if(!this._isValidState(n))return;this._popStateInProgress=!0,y&&(this._blockHashChange++,(0,g.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const A=n.destination;this._updateInternalState(A,n.uid,!0),(0,m.isValidRotation)(A.rotation)&&(this.linkService.rotation=A.rotation),A.dest?this.linkService.goToDestination(A.dest):A.hash?this.linkService.setHash(A.hash):A.page&&(this.linkService.page=A.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){!this._boundEvents||(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(I,h,P)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.PDFScriptingManager=void 0;var m=P(6),g=P(3);h.PDFScriptingManager=class a{constructor({eventBus:i,sandboxBundleSrc:s=null,scriptingFactory:u=null,docPropertiesLookup:x=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=i,this._sandboxBundleSrc=s,this._scriptingFactory=u,this._docPropertiesLookup=x,this._scriptingFactory||window.addEventListener("updatefromsandbox",_=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:_.detail})})}setViewer(i){this._pdfViewer=i}setDocument(i){var s=this;return p(function*(){if(s._pdfDocument&&(yield s._destroyScripting()),s._pdfDocument=i,!i)return;const[u,x,_]=yield Promise.all([i.getFieldObjects(),i.getCalculationOrderIds(),i.getJSActions()]);if(u||_){if(i===s._pdfDocument){try{s._scripting=s._createScripting()}catch(f){return console.error(`PDFScriptingManager.setDocument: "${f?.message}".`),void(yield s._destroyScripting())}s._internalEvents.set("updatefromsandbox",f=>{f?.source===window&&s._updateFromSandbox(f.detail)}),s._internalEvents.set("dispatcheventinsandbox",f=>{s._scripting?.dispatchEventInSandbox(f.detail)}),s._internalEvents.set("pagechanging",({pageNumber:f,previous:n})=>{f!==n&&(s._dispatchPageClose(n),s._dispatchPageOpen(f))}),s._internalEvents.set("pagerendered",({pageNumber:f})=>{!s._pageOpenPending.has(f)||f===s._pdfViewer.currentPageNumber&&s._dispatchPageOpen(f)}),s._internalEvents.set("pagesdestroy",function(){var f=p(function*(n){yield s._dispatchPageClose(s._pdfViewer.currentPageNumber),yield s._scripting?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),s._closeCapability?.resolve()});return function(n){return f.apply(this,arguments)}}()),s._domEvents.set("mousedown",f=>{s._mouseState.isDown=!0}),s._domEvents.set("mouseup",f=>{s._mouseState.isDown=!1});for(const[f,n]of s._internalEvents)s._eventBus._on(f,n);for(const[f,n]of s._domEvents)window.addEventListener(f,n,!0);try{const f=yield s._getDocProperties();if(i!==s._pdfDocument)return;yield s._scripting.createSandbox({objects:u,calculationOrder:x,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...f,actions:_}}),s._eventBus.dispatch("sandboxcreated",{source:s})}catch(f){return console.error(`PDFScriptingManager.setDocument: "${f?.message}".`),void(yield s._destroyScripting())}yield s._scripting?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield s._dispatchPageOpen(s._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{i===s._pdfDocument&&(s._ready=!0)})}}else yield s._destroyScripting()})()}dispatchWillSave(i){var s=this;return p(function*(){return s._scripting?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(i){var s=this;return p(function*(){return s._scripting?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(i){var s=this;return p(function*(){return s._scripting?.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(i){var s=this;return p(function*(){return s._scripting?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){return this._destroyCapability?.promise||null}get ready(){return this._ready}get _internalEvents(){return(0,g.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,g.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,g.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,g.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(i){var s=this;return p(function*(){const u=s._pdfViewer.isInPresentationMode||s._pdfViewer.isChangingPresentationMode,{id:x,siblings:_,command:f,value:n}=i;if(!x){switch(f){case"clear":console.clear();break;case"error":console.error(n);break;case"layout":if(u)return;const y=(0,m.apiPageLayoutToViewerModes)(n);s._pdfViewer.spreadMode=y.spreadMode;break;case"page-num":s._pdfViewer.currentPageNumber=n+1;break;case"print":yield s._pdfViewer.pagesPromise,s._eventBus.dispatch("print",{source:s});break;case"println":console.log(n);break;case"zoom":if(u)return;s._pdfViewer.currentScaleValue=n;break;case"SaveAs":s._eventBus.dispatch("save",{source:s});break;case"FirstPage":s._pdfViewer.currentPageNumber=1;break;case"LastPage":s._pdfViewer.currentPageNumber=s._pdfViewer.pagesCount;break;case"NextPage":s._pdfViewer.nextPage();break;case"PrevPage":s._pdfViewer.previousPage();break;case"ZoomViewIn":if(u)return;s._pdfViewer.increaseScale();break;case"ZoomViewOut":if(u)return;s._pdfViewer.decreaseScale()}return}if(u&&i.focus)return;delete i.id,delete i.siblings;const r=_?[x,..._]:[x];for(const y of r){const A=document.getElementById(y);A?A.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:i})):s._pdfDocument?.annotationStorage.setValue(y,i)}})()}_dispatchPageOpen(i,s=!1){var u=this;return p(function*(){const x=u._pdfDocument,_=u._visitedPages;if(s&&(u._closeCapability=(0,g.createPromiseCapability)()),!u._closeCapability)return;const f=u._pdfViewer.getPageView(i-1);if(f?.renderingState!==m.RenderingStates.FINISHED)return void u._pageOpenPending.add(i);u._pageOpenPending.delete(i);const n=p(function*(){const r=yield _.has(i)?null:f.pdfPage?.getJSActions();x===u._pdfDocument&&(yield u._scripting?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:i,actions:r}))})();_.set(i,n)})()}_dispatchPageClose(i){var s=this;return p(function*(){const u=s._pdfDocument,x=s._visitedPages;if(!s._closeCapability||s._pageOpenPending.has(i))return;const _=x.get(i);!_||(x.set(i,null),yield _,u===s._pdfDocument&&(yield s._scripting?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:i})))})()}_getDocProperties(){var i=this;return p(function*(){if(i._docPropertiesLookup)return i._docPropertiesLookup(i._pdfDocument);const{docPropertiesLookup:s}=P(24);return s(i._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,g.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:i}=P(24);return new i(this._sandboxBundleSrc)}_destroyScripting(){var i=this;return p(function*(){if(!i._scripting)return i._pdfDocument=null,void i._destroyCapability?.resolve();i._closeCapability&&(yield Promise.race([i._closeCapability.promise,new Promise(s=>{setTimeout(s,1e3)})]).catch(s=>{}),i._closeCapability=null),i._pdfDocument=null;try{yield i._scripting.destroySandbox()}catch{}for(const[s,u]of i._internalEvents)i._eventBus._off(s,u);i._internalEvents.clear();for(const[s,u]of i._domEvents)window.removeEventListener(s,u,!0);i._domEvents.clear(),i._pageOpenPending.clear(),i._visitedPages.clear(),i._scripting=null,delete i._mouseState.isDown,i._ready=!1,i._destroyCapability?.resolve()})()}}},(I,h,P)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.GenericScripting=void 0,h.docPropertiesLookup=function g(i){return a.apply(this,arguments)};var m=P(3);function a(){return(a=p(function*(i){const u="".split("#")[0];let{info:x,metadata:_,contentDispositionFilename:f,contentLength:n}=yield i.getMetadata();if(!n){const{length:r}=yield i.getDownloadInfo();n=r}return{...x,baseURL:u,filesize:n,filename:f||(0,m.getPdfFilenameFromUrl)(""),metadata:_?.getRaw(),authors:_?.get("dc:creator"),numPages:i.numPages,URL:""}})).apply(this,arguments)}h.GenericScripting=class b{constructor(s){this._ready=(0,m.loadScript)(s,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(s){var u=this;return p(function*(){(yield u._ready).create(s)})()}dispatchEventInSandbox(s){var u=this;return p(function*(){const x=yield u._ready;setTimeout(()=>x.dispatchEvent(s),0)})()}destroySandbox(){var s=this;return p(function*(){(yield s._ready).nukeSandbox()})()}}}],ie={};function K(I){var h=ie[I];if(void 0!==h)return h.exports;var P=ie[I]={exports:{}};return ue[I](P,P.exports,K),P.exports}var t={};return(()=>{var I=t;Object.defineProperty(I,"__esModule",{value:!0}),Object.defineProperty(I,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return a.AnnotationLayerBuilder}}),Object.defineProperty(I,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return h.DefaultAnnotationLayerFactory}}),Object.defineProperty(I,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return h.DefaultStructTreeLayerFactory}}),Object.defineProperty(I,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return h.DefaultTextLayerFactory}}),Object.defineProperty(I,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return h.DefaultXfaLayerFactory}}),Object.defineProperty(I,"DownloadManager",{enumerable:!0,get:function(){return b.DownloadManager}}),Object.defineProperty(I,"EventBus",{enumerable:!0,get:function(){return i.EventBus}}),Object.defineProperty(I,"GenericL10n",{enumerable:!0,get:function(){return s.GenericL10n}}),Object.defineProperty(I,"LinkTarget",{enumerable:!0,get:function(){return P.LinkTarget}}),Object.defineProperty(I,"NullL10n",{enumerable:!0,get:function(){return u.NullL10n}}),Object.defineProperty(I,"PDFFindController",{enumerable:!0,get:function(){return x.PDFFindController}}),Object.defineProperty(I,"PDFHistory",{enumerable:!0,get:function(){return _.PDFHistory}}),Object.defineProperty(I,"PDFLinkService",{enumerable:!0,get:function(){return P.PDFLinkService}}),Object.defineProperty(I,"PDFPageView",{enumerable:!0,get:function(){return f.PDFPageView}}),Object.defineProperty(I,"PDFScriptingManager",{enumerable:!0,get:function(){return n.PDFScriptingManager}}),Object.defineProperty(I,"PDFSinglePageViewer",{enumerable:!0,get:function(){return g.PDFSinglePageViewer}}),Object.defineProperty(I,"PDFViewer",{enumerable:!0,get:function(){return g.PDFViewer}}),Object.defineProperty(I,"ProgressBar",{enumerable:!0,get:function(){return m.ProgressBar}}),Object.defineProperty(I,"SimpleLinkService",{enumerable:!0,get:function(){return P.SimpleLinkService}}),Object.defineProperty(I,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return r.StructTreeLayerBuilder}}),Object.defineProperty(I,"TextLayerBuilder",{enumerable:!0,get:function(){return y.TextLayerBuilder}}),Object.defineProperty(I,"XfaLayerBuilder",{enumerable:!0,get:function(){return A.XfaLayerBuilder}}),Object.defineProperty(I,"parseQueryString",{enumerable:!0,get:function(){return m.parseQueryString}});var h=K(1),P=K(5),m=K(6),g=K(10),a=K(2),b=K(16),i=K(17),s=K(18),u=K(4),x=K(20),_=K(22),f=K(12),n=K(23),r=K(7),y=K(8),A=K(9)})(),t})(),_e.exports=K()},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{},7156:_e=>{function k(p,ue,ie,K,t,I,h){try{var P=p[I](h),m=P.value}catch(g){return void ie(g)}P.done?ue(m):Promise.resolve(m).then(K,t)}_e.exports=function te(p){return function(){var ue=this,ie=arguments;return new Promise(function(K,t){var I=p.apply(ue,ie);function h(m){k(I,K,t,h,P,"next",m)}function P(m){k(I,K,t,h,P,"throw",m)}h(void 0)})}},_e.exports.__esModule=!0,_e.exports.default=_e.exports}}]);