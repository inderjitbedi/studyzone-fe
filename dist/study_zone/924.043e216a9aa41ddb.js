var Nt=Object.defineProperty,Bt=(be,M,se)=>M in be?Nt(be,M,{enumerable:!0,configurable:!0,writable:!0,value:se}):be[M]=se,nt=(be,M,se)=>(Bt(be,"symbol"!=typeof M?M+"":M,se),se),at=(be,M,se)=>{if(!M.has(be))throw TypeError("Cannot "+se)},Pe=(be,M,se)=>(at(be,M,"read from private field"),se?se.call(be):M.get(be)),xe=(be,M,se)=>{if(M.has(be))throw TypeError("Cannot add the same private member more than once");M instanceof WeakSet?M.add(be):M.set(be,se)},Ne=(be,M,se,p)=>(at(be,M,"write to private field"),p?p.call(be,se):M.set(be,se),se),At=(be,M,se,p)=>({set _(de){Ne(be,M,de,se)},get _(){return Pe(be,M,p)}}),we=(be,M,se)=>(at(be,M,"access private method"),se);(self.webpackChunkstudy_zone=self.webpackChunkstudy_zone||[]).push([[924],{1924:(be,M,se)=>{"use strict";se.r(M),se.d(M,{CoursesModule:()=>Ke});var p=se(6895),de=se(727);class ae extends de.w0{constructor(he,x){super()}schedule(he,x=0){return this}}const $={setInterval(Z,he,...x){const{delegate:W}=$;return W?.setInterval?W.setInterval(Z,he,...x):setInterval(Z,he,...x)},clearInterval(Z){const{delegate:he}=$;return(he?.clearInterval||clearInterval)(Z)},delegate:void 0};var K=se(8737);const h={now:()=>(h.delegate||Date).now(),delegate:void 0};class S{constructor(he,x=S.now){this.schedulerActionCtor=he,this.now=x}schedule(he,x=0,W){return new this.schedulerActionCtor(this,he).schedule(W,x)}}S.now=h.now;const g=new class m extends S{constructor(he,x=S.now){super(he,x),this.actions=[],this._active=!1}flush(he){const{actions:x}=this;if(this._active)return void x.push(he);let W;this._active=!0;do{if(W=he.execute(he.state,he.delay))break}while(he=x.shift());if(this._active=!1,W){for(;he=x.shift();)he.unsubscribe();throw W}}}(class D extends ae{constructor(he,x){super(he,x),this.scheduler=he,this.work=x,this.pending=!1}schedule(he,x=0){var W;if(this.closed)return this;this.state=he;const ue=this.id,Ee=this.scheduler;return null!=ue&&(this.id=this.recycleAsyncId(Ee,ue,x)),this.pending=!0,this.delay=x,this.id=null!==(W=this.id)&&void 0!==W?W:this.requestAsyncId(Ee,this.id,x),this}requestAsyncId(he,x,W=0){return $.setInterval(he.flush.bind(he,this),W)}recycleAsyncId(he,x,W=0){if(null!=W&&this.delay===W&&!1===this.pending)return x;null!=x&&$.clearInterval(x)}execute(he,x){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const W=this._execute(he,x);if(W)return W;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(he,x){let ue,W=!1;try{this.work(he)}catch(Ee){W=!0,ue=Ee||new Error("Scheduled action threw falsy error")}if(W)return this.unsubscribe(),ue}unsubscribe(){if(!this.closed){const{id:he,scheduler:x}=this,{actions:W}=x;this.work=this.state=this.scheduler=null,this.pending=!1,(0,K.P)(W,this),null!=he&&(this.id=this.recycleAsyncId(x,he,null)),this.delay=null,super.unsubscribe()}}});var _=se(4482),i=se(5403);function r(Z,he=g){return(0,_.e)((x,W)=>{let ue=null,Ee=null,Re=null;const Ve=()=>{if(ue){ue.unsubscribe(),ue=null;const Ze=Ee;Ee=null,W.next(Ze)}};function $e(){const Ze=Re+Z,bt=he.now();if(bt<Ze)return ue=this.schedule(void 0,Ze-bt),void W.add(ue);Ve()}x.subscribe((0,i.x)(W,Ze=>{Ee=Ze,Re=he.now(),ue||(ue=he.schedule($e,Z),W.add(ue))},()=>{Ve(),W.complete()},void 0,()=>{Ee=ue=null}))})}var u=se(9938),w=se(2340),e=se(8256),d=se(2998),n=se(8606),s=se(433),A=se(3263);function b(Z,he){if(1&Z&&(e.TgZ(0,"span",32),e._uU(1),e.qZA()),2&Z){const x=e.oxw().$implicit;e.xp6(1),e.AsE("",x.slideCount," ",x.slideCount<2?"lesson":"lessons","")}}function y(Z,he){1&Z&&(e.TgZ(0,"span",32),e._uU(1,"No lessons added"),e.qZA())}function k(Z,he){1&Z&&(e.TgZ(0,"span",33),e._uU(1,"Free"),e.qZA())}function L(Z,he){1&Z&&(e.TgZ(0,"span",34),e._uU(1,"Paid"),e.qZA())}function R(Z,he){1&Z&&(e.TgZ(0,"span",35),e._uU(1,"Private"),e.qZA())}function N(Z,he){if(1&Z){const x=e.EpF();e.TgZ(0,"div",20)(1,"div",21),e._UZ(2,"img",22),e.TgZ(3,"div",23)(4,"h5",24),e._uU(5),e.ALo(6,"titlecase"),e.qZA(),e.YNc(7,b,2,2,"span",25),e.YNc(8,y,2,0,"span",25),e.TgZ(9,"p",26),e._uU(10),e.qZA(),e.TgZ(11,"div",27),e.YNc(12,k,2,0,"span",28),e.YNc(13,L,2,0,"span",29),e.YNc(14,R,2,0,"span",30),e.TgZ(15,"a",31),e.NdJ("click",function(){const Ee=e.CHM(x).$implicit,Re=e.oxw();return e.KtG(Re.viewDetails(Ee))}),e._uU(16,"View Course"),e.qZA()()()()()}if(2&Z){const x=he.$implicit,W=e.oxw();e.xp6(2),e.Q6J("src",null!=x&&null!=x.cover&&x.cover.path?W.baseUrl+(null==x||null==x.cover?null:x.cover.path):"../assets/jillyAcadey.png",e.LSH),e.xp6(3),e.Oqu(e.lcZ(6,8,x.name)),e.xp6(2),e.Q6J("ngIf",x.slideCount),e.xp6(1),e.Q6J("ngIf",!x.slideCount),e.xp6(2),e.Oqu(x.description||"No description added"),e.xp6(2),e.Q6J("ngIf","public"==x.type),e.xp6(1),e.Q6J("ngIf","paid"==x.type),e.xp6(1),e.Q6J("ngIf","private"==x.type)}}function H(Z,he){if(1&Z){const x=e.EpF();e.TgZ(0,"a",31),e.NdJ("click",function(){e.CHM(x);const ue=e.oxw();return e.KtG(ue.getCourses())}),e._uU(1,"Load more"),e.qZA()}}let X=(()=>{class Z{constructor(x,W,ue,Ee){this.router=x,this.apiService=W,this.formBuilder=ue,this.errorHandlingService=Ee,this.baseUrl=w.N.baseUrl,this.apiCallActive=!1,this.courses=[],this.totalCourses=0,this.pagination={page:1,limit:6},this.getCourses(),this.searchForm=this.formBuilder.group({type:[""],searchKey:[""]}),this.searchForm.valueChanges.pipe(r(500)).subscribe({next:Re=>{this.courses=[],this.pagination={page:1,limit:6},this.getCourses()}})}ngOnInit(){}viewDetails(x){this.router.navigate(["/dashboard/courses/course/"+x._id+"/details"])}toQueryString(x){let W="";return Object.keys(x).map((ue,Ee)=>{x[ue]&&(W+=0===Ee?"?":"&",W+=ue+"="+x[ue])}),W}getCourses(){this.apiCallActive=!0;let{page:x,limit:W}=this.pagination;this.apiService.get(u.d.allCourses+this.toQueryString({page:x,limit:W,...this.searchForm?.value})).subscribe({next:({courses:ue,pagination:Ee,totalCourses:Re})=>{this.apiCallActive=!1,this.courses=[...this.courses,...ue],this.pagination.page++,console.log(this.pagination),this.pagination={...this.pagination,...Ee},this.totalCourses=Re},error:ue=>{this.apiCallActive=!1,this.errorHandlingService.handle(ue)}})}}return Z.\u0275fac=function(x){return new(x||Z)(e.Y36(d.F0),e.Y36(n.a),e.Y36(s.qu),e.Y36(A.r))},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["app-all-courses"]],decls:32,vars:4,consts:[[1,"container"],[1,"row"],[1,"col","py-32"],[1,"col","py-32","form-style","ml-auto"],[1,"form-inline","justify-content-end","align-items-baseline",3,"formGroup"],[1,"form-group"],["formControlName","type",1,"form-control","all-courses"],["value",""],["value","public"],["value","private"],["value","paid"],[1,"form-group","has-search"],[1,"form-control-feedback"],["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12.0835 13.2603L9.08346 10.2603C8.66679 10.5936 8.18762 10.8575 7.64596 11.052C7.10429 11.2464 6.5279 11.3436 5.91679 11.3436C4.4029 11.3436 3.12179 10.8195 2.07346 9.77115C1.02457 8.72226 0.500122 7.44087 0.500122 5.92698C0.500122 4.41309 1.02457 3.1317 2.07346 2.08281C3.12179 1.03448 4.4029 0.510315 5.91679 0.510315C7.43068 0.510315 8.71207 1.03448 9.76096 2.08281C10.8093 3.1317 11.3335 4.41309 11.3335 5.92698C11.3335 6.53809 11.2362 7.11448 11.0418 7.65615C10.8473 8.19781 10.5835 8.67698 10.2501 9.09365L13.271 12.1145C13.4237 12.2673 13.5001 12.4548 13.5001 12.677C13.5001 12.8992 13.4168 13.0936 13.2501 13.2603C13.0973 13.4131 12.9029 13.4895 12.6668 13.4895C12.4307 13.4895 12.2362 13.4131 12.0835 13.2603ZM5.91679 9.67698C6.95846 9.67698 7.84401 9.31254 8.57346 8.58365C9.30234 7.8542 9.66679 6.96865 9.66679 5.92698C9.66679 4.88531 9.30234 3.99976 8.57346 3.27031C7.84401 2.54143 6.95846 2.17698 5.91679 2.17698C4.87512 2.17698 3.98957 2.54143 3.26012 3.27031C2.53123 3.99976 2.16679 4.88531 2.16679 5.92698C2.16679 6.96865 2.53123 7.8542 3.26012 8.58365C3.98957 9.31254 4.87512 9.67698 5.91679 9.67698Z","fill","#92929D"],["type","search","formControlName","searchKey","placeholder","Search course","id","InputPassword",1,"form-control","mt-2"],[1,"col"],["class","col-sm-6 col-md-6 col-lg-4  pt-16 pr-16 pl-0",4,"ngFor","ngForOf"],[1,"row","text-center"],["class","view-course",3,"click",4,"ngIf"],[1,"col-sm-6","col-md-6","col-lg-4","pt-16","pr-16","pl-0"],[1,"card","p-3"],["alt","...",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],["class","lesson",4,"ngIf"],[1,"card-text"],[1,"d-flex"],["class","badge badge-pill badge-success",4,"ngIf"],["class","badge badge-pill badge-danger",4,"ngIf"],["class","badge badge-pill badge-light",4,"ngIf"],[1,"view-course",3,"click"],[1,"lesson"],[1,"badge","badge-pill","badge-success"],[1,"badge","badge-pill","badge-danger"],[1,"badge","badge-pill","badge-light"]],template:function(x,W){1&x&&(e.TgZ(0,"main")(1,"div",0)(2,"div",1)(3,"div",2)(4,"h2"),e._uU(5,"All Courses"),e.qZA(),e.TgZ(6,"span"),e._uU(7),e.qZA()(),e.TgZ(8,"div",3)(9,"form",4)(10,"div",5)(11,"select",6)(12,"option",7),e._uU(13,"All"),e.qZA(),e.TgZ(14,"option",8),e._uU(15,"Free"),e.qZA(),e.TgZ(16,"option",9),e._uU(17,"Private"),e.qZA(),e.TgZ(18,"option",10),e._uU(19,"Paid"),e.qZA()()(),e.TgZ(20,"div",11)(21,"span",12),e.O4$(),e.TgZ(22,"svg",13),e._UZ(23,"path",14),e.qZA()(),e.kcU(),e._UZ(24,"input",15),e.qZA()()()(),e.TgZ(25,"div",1)(26,"div",16),e._UZ(27,"hr"),e.qZA()(),e.TgZ(28,"div",1),e.YNc(29,N,17,10,"div",17),e.qZA(),e.TgZ(30,"div",18),e.YNc(31,H,2,0,"a",19),e.qZA()()()),2&x&&(e.xp6(7),e.hij("",W.totalCourses," courses"),e.xp6(2),e.Q6J("formGroup",W.searchForm),e.xp6(20),e.Q6J("ngForOf",W.courses),e.xp6(2),e.Q6J("ngIf",W.pagination.totalPages&&W.pagination.totalPages!=W.pagination.currentPage))},dependencies:[p.sg,p.O5,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.sg,s.u,p.rS],styles:[".card-img-top[_ngcontent-%COMP%]{height:213px!important}"]}),Z})();var ne=se(7071);function B(Z,he){if(1&Z&&(e.TgZ(0,"span",29),e._uU(1),e.qZA()),2&Z){const x=e.oxw().$implicit;e.xp6(1),e.hij("",x.progress,"% Slides Completed")}}function q(Z,he){1&Z&&(e.TgZ(0,"span",29),e._uU(1,"Not started yet"),e.qZA())}function J(Z,he){1&Z&&(e.TgZ(0,"span",29),e._uU(1,"All Slides Completed"),e.qZA())}function re(Z,he){if(1&Z){const x=e.EpF();e.TgZ(0,"div",20),e.NdJ("click",function(){const Ee=e.CHM(x).$implicit,Re=e.oxw();return e.KtG(Re.viewDetails(Ee))}),e.TgZ(1,"div",21)(2,"div",1)(3,"div",22),e._UZ(4,"img",23),e.qZA(),e.TgZ(5,"div",16)(6,"div",24)(7,"h5",25),e._uU(8),e.ALo(9,"titlecase"),e.qZA(),e.TgZ(10,"div",26),e._UZ(11,"div",27),e.qZA(),e.YNc(12,B,2,1,"span",28),e.YNc(13,q,2,0,"span",28),e.YNc(14,J,2,0,"span",28),e.qZA()()()()()}if(2&Z){const x=he.$implicit,W=e.oxw();e.xp6(4),e.Q6J("src",null!=x&&null!=x.course&&null!=x.course.cover&&x.course.cover.path?W.baseUrl+(null==x||null==x.course||null==x.course.cover?null:x.course.cover.path):"../assets/jillyAcadey.png",e.LSH),e.xp6(4),e.Oqu(e.lcZ(9,7,null==x||null==x.course?null:x.course.name)),e.xp6(3),e.Udp("width",x.progress+"%"),e.xp6(1),e.Q6J("ngIf",x.progress&&100!=x.progress),e.xp6(1),e.Q6J("ngIf",!x.progress),e.xp6(1),e.Q6J("ngIf",x.progress&&100==x.progress)}}function le(Z,he){if(1&Z){const x=e.EpF();e.TgZ(0,"a",30),e.NdJ("click",function(){e.CHM(x);const ue=e.oxw();return e.KtG(ue.getCourses())}),e._uU(1,"Load more"),e.qZA()}}let T=(()=>{class Z{constructor(x,W,ue,Ee){this.router=x,this.apiService=W,this.formBuilder=ue,this.errorHandlingService=Ee,this.baseUrl=w.N.baseUrl,this.apiCallActive=!1,this.courses=[],this.totalCourses=0,this.pagination={page:1,limit:6},this.getCourses(),this.searchForm=this.formBuilder.group({type:[""],searchKey:[""]}),this.searchForm.valueChanges.pipe(r(500)).subscribe({next:Re=>{this.courses=[],this.pagination={page:1,limit:6},this.getCourses()}})}toQueryString(x){let W="";return Object.keys(x).map((ue,Ee)=>{x[ue]&&(W+=0===Ee?"?":"&",W+=ue+"="+x[ue])}),W}ngOnInit(){}viewDetails(x){this.router.navigate([ne.g.Pages.MY_COURSE_DETAILS.replace(":id",x.course._id)])}getCourses(){this.apiCallActive=!0;let{page:x,limit:W}=this.pagination;this.apiService.get(u.d.myCourses+this.toQueryString({page:x,limit:W,...this.searchForm?.value})).subscribe({next:({courses:ue,pagination:Ee,totalCourses:Re})=>{this.apiCallActive=!1,this.courses=[...this.courses,...ue],this.pagination.page++,this.pagination={...this.pagination,...Ee},this.totalCourses=Re},error:ue=>{this.apiCallActive=!1,this.errorHandlingService.handle(ue)}})}}return Z.\u0275fac=function(x){return new(x||Z)(e.Y36(d.F0),e.Y36(n.a),e.Y36(s.qu),e.Y36(A.r))},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["app-my-courses"]],decls:32,vars:5,consts:[[1,"container"],[1,"row"],[1,"col","py-32"],[1,"col","py-32","form-style","ml-auto"],[1,"form-inline","justify-content-end","align-items-baseline",3,"formGroup"],[1,"form-group"],["formControlName","type",1,"form-control","all-courses"],["value",""],["value","public"],["value","private"],["value","paid"],[1,"form-group","has-search"],[1,"form-control-feedback"],["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12.0835 13.2603L9.08346 10.2603C8.66679 10.5936 8.18762 10.8575 7.64596 11.052C7.10429 11.2464 6.5279 11.3436 5.91679 11.3436C4.4029 11.3436 3.12179 10.8195 2.07346 9.77115C1.02457 8.72226 0.500122 7.44087 0.500122 5.92698C0.500122 4.41309 1.02457 3.1317 2.07346 2.08281C3.12179 1.03448 4.4029 0.510315 5.91679 0.510315C7.43068 0.510315 8.71207 1.03448 9.76096 2.08281C10.8093 3.1317 11.3335 4.41309 11.3335 5.92698C11.3335 6.53809 11.2362 7.11448 11.0418 7.65615C10.8473 8.19781 10.5835 8.67698 10.2501 9.09365L13.271 12.1145C13.4237 12.2673 13.5001 12.4548 13.5001 12.677C13.5001 12.8992 13.4168 13.0936 13.2501 13.2603C13.0973 13.4131 12.9029 13.4895 12.6668 13.4895C12.4307 13.4895 12.2362 13.4131 12.0835 13.2603ZM5.91679 9.67698C6.95846 9.67698 7.84401 9.31254 8.57346 8.58365C9.30234 7.8542 9.66679 6.96865 9.66679 5.92698C9.66679 4.88531 9.30234 3.99976 8.57346 3.27031C7.84401 2.54143 6.95846 2.17698 5.91679 2.17698C4.87512 2.17698 3.98957 2.54143 3.26012 3.27031C2.53123 3.99976 2.16679 4.88531 2.16679 5.92698C2.16679 6.96865 2.53123 7.8542 3.26012 8.58365C3.98957 9.31254 4.87512 9.67698 5.91679 9.67698Z","fill","#92929D"],["type","search","formControlName","searchKey","placeholder","Search course","id","InputPassword",1,"form-control","mt-2"],[1,"col"],["class","col-sm-6 col-md-6 col-lg-4 mb-3 cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"row","text-center"],["class","view-course",3,"click",4,"ngIf"],[1,"col-sm-6","col-md-6","col-lg-4","mb-3","cursor-pointer",3,"click"],[1,"card","p-3","my-courses"],[1,"col-4"],["alt","...",1,"card-img-top",3,"src"],[1,"course-in-progress"],[1,"card-title"],[1,"progress"],["role","progressbar","aria-valuenow","45","aria-valuemin","0","aria-valuemax","100",1,"progress-bar"],["class","lesson",4,"ngIf"],[1,"lesson"],[1,"view-course",3,"click"]],template:function(x,W){1&x&&(e.TgZ(0,"main")(1,"div",0)(2,"div",1)(3,"div",2)(4,"h2"),e._uU(5,"My Courses"),e.qZA(),e.TgZ(6,"span"),e._uU(7),e.qZA()(),e.TgZ(8,"div",3)(9,"form",4)(10,"div",5)(11,"select",6)(12,"option",7),e._uU(13,"All"),e.qZA(),e.TgZ(14,"option",8),e._uU(15,"Free"),e.qZA(),e.TgZ(16,"option",9),e._uU(17,"Private"),e.qZA(),e.TgZ(18,"option",10),e._uU(19,"Paid"),e.qZA()()(),e.TgZ(20,"div",11)(21,"span",12),e.O4$(),e.TgZ(22,"svg",13),e._UZ(23,"path",14),e.qZA()(),e.kcU(),e._UZ(24,"input",15),e.qZA()()()(),e.TgZ(25,"div",1)(26,"div",16),e._UZ(27,"hr"),e.qZA()(),e.TgZ(28,"div",1),e.YNc(29,re,15,9,"div",17),e.qZA(),e.TgZ(30,"div",18),e.YNc(31,le,2,0,"a",19),e.qZA()()()),2&x&&(e.xp6(7),e.AsE("",W.totalCourses||0," ",W.totalCourses<2?"course":"courses",""),e.xp6(2),e.Q6J("formGroup",W.searchForm),e.xp6(20),e.Q6J("ngForOf",W.courses),e.xp6(2),e.Q6J("ngIf",W.pagination.totalPages&&W.pagination.totalPages!=W.pagination.currentPage))},dependencies:[p.sg,p.O5,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.sg,s.u,p.rS],styles:[".card-img-top[_ngcontent-%COMP%]{height:76px!important}"]}),Z})();function o(Z,he){1&Z&&(e.TgZ(0,"span",21),e._uU(1,"Free"),e.qZA())}function c(Z,he){1&Z&&(e.TgZ(0,"span",22),e._uU(1,"Paid"),e.qZA())}function t(Z,he){1&Z&&(e.TgZ(0,"span",23),e._uU(1,"Private"),e.qZA())}function l(Z,he){if(1&Z){const x=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){e.CHM(x);const ue=e.oxw();return e.KtG(ue.requestEnrollment())}),e._uU(1," Enroll Me "),e.qZA()}}function f(Z,he){if(1&Z){const x=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){e.CHM(x);const ue=e.oxw();return e.KtG(ue.enrollCourse())}),e._uU(1,"Start Course"),e.qZA()}}function P(Z,he){1&Z&&(e.TgZ(0,"i",25),e._uU(1,"Requested."),e.qZA())}function C(Z,he){1&Z&&(e.TgZ(0,"i",25),e._uU(1,"Sorry, unfortunately your enollment request have been declined by the Administrator."),e.qZA())}function E(Z,he){if(1&Z){const x=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){e.CHM(x);const ue=e.oxw();return e.KtG(ue.resumeCourse())}),e._uU(1,"Resume"),e.qZA()}}let U=(()=>{class Z{constructor(x,W,ue,Ee){this.router=x,this.activeRoute=W,this.apiService=ue,this.errorHandlingService=Ee,this.baseUrl=w.N.baseUrl,this.apiCallActive=!1,this.activeRoute.params.subscribe({next:Re=>{this.selectedCourseId=Re.id,this.getCourseDetails()}})}ngOnInit(){}back(){this.router.navigate(["/dashboard/courses/all-courses"])}getCourseDetails(){this.apiCallActive=!0,this.apiService.get(u.d.getCourseDetails.replace(":id",this.selectedCourseId)).subscribe({next:x=>{this.apiCallActive=!1,this.courseDetails=x.course},error:x=>{this.apiCallActive=!1,this.errorHandlingService.handle(x)}})}requestEnrollment(){"pending"!=this.courseDetails.enrollemtStatus&&(this.apiCallActive=!0,this.apiService.post(u.d.requestEnrollment.replace(":id",this.selectedCourseId),{}).subscribe({next:x=>{this.apiCallActive=!1,this.getCourseDetails()},error:x=>{this.apiCallActive=!1,this.errorHandlingService.handle(x)}}))}resumeCourse(){this.router.navigate([ne.g.Pages.MY_COURSE_DETAILS.replace(":id",this.selectedCourseId)])}enrollCourse(){this.apiCallActive=!0,this.apiService.post(u.d.enrollCourse.replace(":id",this.selectedCourseId),{}).subscribe({next:x=>{this.apiCallActive=!1,this.router.navigate([ne.g.Pages.MY_COURSE_DETAILS.replace(":id",x.enrollment.course)])},error:x=>{this.apiCallActive=!1,this.errorHandlingService.handle(x)}})}}return Z.\u0275fac=function(x){return new(x||Z)(e.Y36(d.F0),e.Y36(d.gz),e.Y36(n.a),e.Y36(A.r))},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["app-course-detail"]],decls:37,vars:16,consts:[[1,"container"],[1,"row"],[1,"col"],["aria-label","breadcrumb"],[1,"back-button",3,"click"],["width","7","height","12","viewBox","0 0 7 15","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M5.38247 10.9393L0.723485 6.37992C0.668185 6.32564 0.629107 6.26684 0.60625 6.20352C0.583024 6.14019 0.571411 6.07234 0.571411 5.99997C0.571411 5.9276 0.583024 5.85976 0.60625 5.79643C0.629107 5.73311 0.668185 5.6743 0.723485 5.62003L5.38247 1.04709C5.5115 0.920441 5.67279 0.857117 5.86634 0.857117C6.05989 0.857117 6.22579 0.924964 6.36404 1.06066C6.50229 1.19636 6.57141 1.35467 6.57141 1.53559C6.57141 1.71652 6.50229 1.87483 6.36404 2.01053L2.29952 5.99997L6.36404 9.98942C6.49307 10.1161 6.55759 10.272 6.55759 10.4573C6.55759 10.6429 6.48846 10.8036 6.35021 10.9393C6.21196 11.075 6.05067 11.1428 5.86634 11.1428C5.68201 11.1428 5.52072 11.075 5.38247 10.9393Z","fill","#3F3F3F"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"click"],["aria-current","page",1,"breadcrumb-item","active"],[1,"card-body"],[1,"card-title"],[1,"lesson"],[1,"d-flex"],["class","badge badge-pill badge-success",4,"ngIf"],["class","badge badge-pill badge-danger",4,"ngIf"],["class","badge badge-pill badge-light",4,"ngIf"],["class","btn enroll-btn",3,"click",4,"ngIf"],["class","badge-danger",4,"ngIf"],["alt","...",1,"card-img-top",3,"src"],[1,"badge","badge-pill","badge-success"],[1,"badge","badge-pill","badge-danger"],[1,"badge","badge-pill","badge-light"],[1,"btn","enroll-btn",3,"click"],[1,"badge-danger"]],template:function(x,W){1&x&&(e.TgZ(0,"main")(1,"div",0)(2,"div",1)(3,"div",2)(4,"nav",3)(5,"a",4),e.NdJ("click",function(){return W.back()}),e.O4$(),e.TgZ(6,"svg",5),e._UZ(7,"path",6),e.qZA(),e._uU(8,"\xa0 Back "),e.qZA(),e.kcU(),e.TgZ(9,"ol",7)(10,"li",8)(11,"a",9),e.NdJ("click",function(){return W.back()}),e._uU(12,"All Courses"),e.qZA()(),e.TgZ(13,"li",10),e._uU(14),e.ALo(15,"titlecase"),e.qZA()()()()(),e.TgZ(16,"section")(17,"div",1)(18,"div",2)(19,"div",11)(20,"h3",12),e._uU(21),e.ALo(22,"titlecase"),e.qZA(),e._UZ(23,"span",13),e.TgZ(24,"div",14),e.YNc(25,o,2,0,"span",15),e.YNc(26,c,2,0,"span",16),e.YNc(27,t,2,0,"span",17),e.qZA(),e.TgZ(28,"p"),e._uU(29),e.qZA(),e.YNc(30,l,2,0,"button",18),e.YNc(31,f,2,0,"button",18),e.YNc(32,P,2,0,"i",19),e.YNc(33,C,2,0,"i",19),e.YNc(34,E,2,0,"button",18),e.qZA()(),e.TgZ(35,"div",2),e._UZ(36,"img",20),e.qZA()()()()()),2&x&&(e.xp6(14),e.Oqu(e.lcZ(15,12,W.courseDetails.name)),e.xp6(7),e.Oqu(e.lcZ(22,14,W.courseDetails.name)),e.xp6(4),e.Q6J("ngIf","public"==W.courseDetails.type),e.xp6(1),e.Q6J("ngIf","paid"==W.courseDetails.type),e.xp6(1),e.Q6J("ngIf","private"==W.courseDetails.type),e.xp6(2),e.Oqu(W.courseDetails.description||"No description added"),e.xp6(1),e.Q6J("ngIf","paid"==W.courseDetails.type&&"not_enrolled"==W.courseDetails.enrollmentStatus),e.xp6(1),e.Q6J("ngIf",!W.courseDetails.hasAlreadyStarted&&"public"==W.courseDetails.type),e.xp6(1),e.Q6J("ngIf","paid"==W.courseDetails.type&&"pending"==W.courseDetails.enrollmentStatus),e.xp6(1),e.Q6J("ngIf","paid"==W.courseDetails.type&&"declined"==W.courseDetails.enrollmentStatus),e.xp6(1),e.Q6J("ngIf",W.courseDetails.hasAlreadyStarted||"private"==W.courseDetails.type||"paid"==W.courseDetails.type&&"accepted"==W.courseDetails.enrollmentStatus),e.xp6(2),e.Q6J("src",null!=W.courseDetails&&null!=W.courseDetails.cover&&W.courseDetails.cover.path?W.baseUrl+(null==W.courseDetails||null==W.courseDetails.cover?null:W.courseDetails.cover.path):"../assets/jillyAcadey.png",e.LSH))},dependencies:[p.O5,p.rS]}),Z})();var j=se(8421),V=se(9751),G=se(5577),Y=se(1144),ie=se(576),pe=se(3268);const Se=["addListener","removeListener"],ee=["addEventListener","removeEventListener"],oe=["on","off"];function Q(Z,he,x,W){if((0,ie.m)(x)&&(W=x,x=void 0),W)return Q(Z,he,x).pipe((0,pe.Z)(W));const[ue,Ee]=function ye(Z){return(0,ie.m)(Z.addEventListener)&&(0,ie.m)(Z.removeEventListener)}(Z)?ee.map(Re=>Ve=>Z[Re](he,Ve,x)):function I(Z){return(0,ie.m)(Z.addListener)&&(0,ie.m)(Z.removeListener)}(Z)?Se.map(v(Z,he)):function z(Z){return(0,ie.m)(Z.on)&&(0,ie.m)(Z.off)}(Z)?oe.map(v(Z,he)):[];if(!ue&&(0,Y.z)(Z))return(0,G.z)(Re=>Q(Re,he,x))((0,j.Xf)(Z));if(!ue)throw new TypeError("Invalid event target");return new V.y(Re=>{const Ve=(...$e)=>Re.next(1<$e.length?$e:$e[0]);return ue(Ve),()=>Ee(Ve)})}function v(Z,he){return x=>W=>Z[x](he,W)}var Ae=se(7579),ge=se(2076),Ce=se(5032);function _e(Z){return(0,_.e)((he,x)=>{(0,j.Xf)(Z).subscribe((0,i.x)(x,()=>x.complete(),Ce.Z)),!x.closed&&he.subscribe(x)})}var ke=se(9300),Te=se(6036),Oe=se.t(Te,2),te=se(2813),F=se.t(te,2);const O=["pdfViewerContainer"];function me(Z,he,x){Z[he]=x}function ve(){return typeof window>"u"}ve()||me(Oe,"verbosity",Te.VerbosityLevel.INFOS);var Me=(()=>{return(Z=Me||(Me={}))[Z.DISABLED=0]="DISABLED",Z[Z.ENABLED=1]="ENABLED",Z[Z.ENHANCED=2]="ENHANCED",Me;var Z})();let Le=(()=>{class Z{constructor(x,W){if(this.element=x,this.ngZone=W,this.isVisible=!1,this._cMapsUrl=typeof Oe<"u"?`https://unpkg.com/pdfjs-dist@${Te.version}/cmaps/`:null,this._imageResourcesPath=typeof Oe<"u"?`https://unpkg.com/pdfjs-dist@${Te.version}/web/images/`:null,this._renderText=!0,this._renderTextMode=Me.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new Ae.x,this.afterLoadComplete=new e.vpe,this.pageRendered=new e.vpe,this.pageInitialized=new e.vpe,this.textLayerRendered=new e.vpe,this.onError=new e.vpe,this.onProgress=new e.vpe,this.pageChange=new e.vpe(!0),ve())return;let ue;const Ee=Te.version;ue=window[`pdfWorkerSrc${Ee}`]||(window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${Ee}/legacy/build/pdf.worker.min.js`),me(Te.GlobalWorkerOptions,"workerSrc",ue)}set cMapsUrl(x){this._cMapsUrl=x}set page(x){const W=x=parseInt(x,10)||1;this._pdf&&(x=this.getValidPageNumber(x)),this._page=x,W!==x&&this.pageChange.emit(x)}set renderText(x){this._renderText=x}set renderTextMode(x){this._renderTextMode=x}set originalSize(x){this._originalSize=x}set showAll(x){this._showAll=x}set stickToPage(x){this._stickToPage=x}set zoom(x){x<=0||(this._zoom=x)}get zoom(){return this._zoom}set zoomScale(x){this._zoomScale=x}get zoomScale(){return this._zoomScale}set rotation(x){"number"==typeof x&&x%90==0?this._rotation=x:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(x){this._externalLinkTarget=x}set autoresize(x){this._canAutoResize=Boolean(x)}set fitToPage(x){this._fitToPage=Boolean(x)}set showBorders(x){this._showBorders=Boolean(x)}static getLinkTarget(x){switch(x){case"blank":return te.LinkTarget.BLANK;case"none":return te.LinkTarget.NONE;case"self":return te.LinkTarget.SELF;case"parent":return te.LinkTarget.PARENT;case"top":return te.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const x=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=x?!1===this.isVisible&&null!=x&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(x){if(!ve()&&this.isVisible)if("src"in x)this.loadPDF();else if(this._pdf){if("renderText"in x?(this.pdfViewer.textLayerMode=this._renderText?this._renderTextMode:Me.DISABLED,this.resetPdfDocument()):"showAll"in x&&(this.setupViewer(),this.resetPdfDocument()),"page"in x){const{page:W}=x;if(W.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){(0,ge.D)(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe(_e(this.destroy$)).subscribe({next:x=>{const W=this._rotation+x.rotate,ue=x.getViewport({scale:this._zoom,rotation:W}).width*Z.CSS_UNITS;let Ee=this._zoom,Re=!0;if(!this._originalSize||this._fitToPage&&ue>this.pdfViewerContainer.nativeElement.clientWidth){const Ve=x.getViewport({scale:1,rotation:W});Ee=this.getScale(Ve.width,Ve.height),Re=!this._stickToPage}this.pdfViewer._setScale(Ee,Re)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._latestScrolledPage=0,this._pdf.destroy(),this._pdf=null,this.pdfViewer.setDocument(null),this.pdfLinkService.setDocument(null,null),this.pdfFindController.setDocument(null))}getPDFLinkServiceConfig(){const x=Z.getLinkTarget(this._externalLinkTarget);return x?{externalLinkTarget:x}:{}}initEventBus(){this.eventBus=function ce(Z,he){const x=new Z.EventBus;return function fe(Z,he){Q(Z,"documentload").pipe(_e(he)).subscribe(()=>{const x=document.createEvent("CustomEvent");x.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(x)}),Q(Z,"pagerendered").pipe(_e(he)).subscribe(({pageNumber:x,cssTransform:W,source:ue})=>{const Ee=document.createEvent("CustomEvent");Ee.initCustomEvent("pagerendered",!0,!0,{pageNumber:x,cssTransform:W}),ue.div.dispatchEvent(Ee)}),Q(Z,"textlayerrendered").pipe(_e(he)).subscribe(({pageNumber:x,source:W})=>{const ue=document.createEvent("CustomEvent");ue.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:x}),W.textLayerDiv.dispatchEvent(ue)}),Q(Z,"pagechanging").pipe(_e(he)).subscribe(({pageNumber:x,source:W})=>{const ue=document.createEvent("UIEvents");ue.initEvent("pagechanging",!0,!0),ue.pageNumber=x,W.container.dispatchEvent(ue)}),Q(Z,"pagesinit").pipe(_e(he)).subscribe(({source:x})=>{const W=document.createEvent("CustomEvent");W.initCustomEvent("pagesinit",!0,!0,null),x.container.dispatchEvent(W)}),Q(Z,"pagesloaded").pipe(_e(he)).subscribe(({pagesCount:x,source:W})=>{const ue=document.createEvent("CustomEvent");ue.initCustomEvent("pagesloaded",!0,!0,{pagesCount:x}),W.container.dispatchEvent(ue)}),Q(Z,"scalechange").pipe(_e(he)).subscribe(({scale:x,presetValue:W,source:ue})=>{const Ee=document.createEvent("UIEvents");Ee.initEvent("scalechange",!0,!0),Ee.scale=x,Ee.presetValue=W,ue.container.dispatchEvent(Ee)}),Q(Z,"updateviewarea").pipe(_e(he)).subscribe(({location:x,source:W})=>{const ue=document.createEvent("UIEvents");ue.initEvent("updateviewarea",!0,!0),ue.location=x,W.container.dispatchEvent(ue)}),Q(Z,"find").pipe(_e(he)).subscribe(({source:x,type:W,query:ue,phraseSearch:Ee,caseSensitive:Re,highlightAll:Ve,findPrevious:$e})=>{if(x===window)return;const Ze=document.createEvent("CustomEvent");Ze.initCustomEvent("find"+W,!0,!0,{query:ue,phraseSearch:Ee,caseSensitive:Re,highlightAll:Ve,findPrevious:$e}),window.dispatchEvent(Ze)}),Q(Z,"attachmentsloaded").pipe(_e(he)).subscribe(({attachmentsCount:x,source:W})=>{const ue=document.createEvent("CustomEvent");ue.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:x}),W.container.dispatchEvent(ue)}),Q(Z,"sidebarviewchanged").pipe(_e(he)).subscribe(({view:x,source:W})=>{const ue=document.createEvent("CustomEvent");ue.initCustomEvent("sidebarviewchanged",!0,!0,{view:x}),W.outerContainer.dispatchEvent(ue)}),Q(Z,"pagemode").pipe(_e(he)).subscribe(({mode:x,source:W})=>{const ue=document.createEvent("CustomEvent");ue.initCustomEvent("pagemode",!0,!0,{mode:x}),W.pdfViewer.container.dispatchEvent(ue)}),Q(Z,"namedaction").pipe(_e(he)).subscribe(({action:x,source:W})=>{const ue=document.createEvent("CustomEvent");ue.initCustomEvent("namedaction",!0,!0,{action:x}),W.pdfViewer.container.dispatchEvent(ue)}),Q(Z,"presentationmodechanged").pipe(_e(he)).subscribe(({active:x,switchInProgress:W})=>{const ue=document.createEvent("CustomEvent");ue.initCustomEvent("presentationmodechanged",!0,!0,{active:x,switchInProgress:W}),window.dispatchEvent(ue)}),Q(Z,"outlineloaded").pipe(_e(he)).subscribe(({outlineCount:x,source:W})=>{const ue=document.createEvent("CustomEvent");ue.initCustomEvent("outlineloaded",!0,!0,{outlineCount:x}),W.container.dispatchEvent(ue)})}(x,he),x}(F,this.destroy$),Q(this.eventBus,"pagerendered").pipe(_e(this.destroy$)).subscribe(x=>{this.pageRendered.emit(x)}),Q(this.eventBus,"pagesinit").pipe(_e(this.destroy$)).subscribe(x=>{this.pageInitialized.emit(x)}),Q(this.eventBus,"pagechanging").pipe(_e(this.destroy$)).subscribe(({pageNumber:x})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=x,this.pageChange.emit(x)},100)}),Q(this.eventBus,"textlayerrendered").pipe(_e(this.destroy$)).subscribe(x=>{this.textLayerRendered.emit(x)})}initPDFServices(){this.pdfLinkService=new te.PDFLinkService({eventBus:this.eventBus,...this.getPDFLinkServiceConfig()}),this.pdfFindController=new te.PDFFindController({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:Me.DISABLED,findController:this.pdfFindController,renderer:"canvas",l10n:void 0,imageResourcesPath:this._imageResourcesPath}}setupViewer(){me(Oe,"disableTextLayer",!this._renderText),this.initPDFServices(),this.pdfViewer=this._showAll?new te.PDFViewer(this.getPDFOptions()):new te.PDFSinglePageViewer(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(x){return x<1?1:x>this._pdf.numPages?this._pdf.numPages:x}getDocumentParams(){const x=typeof this.src;if(!this._cMapsUrl)return this.src;const W={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0};return"string"===x?W.url=this.src:"object"===x&&(void 0!==this.src.byteLength?W.data=this.src:Object.assign(W,this.src)),W}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.setupViewer(),this.loadingTask=Te.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=W=>{this.onProgress.emit(W)};const x=this.src;(0,ge.D)(this.loadingTask.promise).pipe(_e(this.destroy$)).subscribe({next:W=>{this._pdf=W,this.lastLoaded=x,this.afterLoadComplete.emit(W),this.resetPdfDocument(),this.update()},error:W=>{this.lastLoaded=null,this.onError.emit(W)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page),(0!==this._rotation||this.pdfViewer.pagesRotation!==this._rotation)&&setTimeout(()=>{this.pdfViewer.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.updateSize()}getScale(x,W){const ue=this._showBorders?2*Z.BORDER_WIDTH:0,Ee=this.pdfViewerContainer.nativeElement.clientWidth-ue,Re=this.pdfViewerContainer.nativeElement.clientHeight-ue;if(0===Re||0===W||0===Ee||0===x)return 1;let Ve=1;switch(this._zoomScale){case"page-fit":Ve=Math.min(Re/W,Ee/x);break;case"page-height":Ve=Re/W;break;default:Ve=Ee/x}return this._zoom*Ve/Z.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){ve()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){ve()||this.ngZone.runOutsideAngular(()=>{Q(window,"resize").pipe(r(100),(0,ke.h)(()=>this._canAutoResize&&!!this._pdf),_e(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return Z.CSS_UNITS=96/72,Z.BORDER_WIDTH=9,Z.\u0275fac=function(x){return new(x||Z)(e.Y36(e.SBq),e.Y36(e.R0b))},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["pdf-viewer"]],viewQuery:function(x,W){if(1&x&&e.Gf(O,5),2&x){let ue;e.iGM(ue=e.CRH())&&(W.pdfViewerContainer=ue.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[e.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(x,W){1&x&&(e.TgZ(0,"div",0,1),e._UZ(2,"div",2),e.qZA())},styles:[".ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--zoom-factor: 1;--viewport-scale-factor: 1;--shadow: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=);--viewer-container-height: 0;--annotation-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\");--xfa-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\")}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 9px auto 0;--page-border: none;--spreadHorizontalWrapped-margin-LR: 4.5px}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:blue}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{position:relative;top:0;left:0;z-index:-1}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:yellow;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:\"\";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid #333333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:blue}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-feature-settings:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-feature-settings:\"kern\" off;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:1px;text-overflow:\"\"}}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);background-clip:content-box;border-image:var(--shadow) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}"]}),Z})(),De=(()=>{class Z{}return Z.\u0275fac=function(x){return new(x||Z)},Z.\u0275mod=e.oAB({type:Z}),Z.\u0275inj=e.cJS({}),Z})();function Fe(Z,he){if(1&Z){const x=e.EpF();e.TgZ(0,"a",24),e.NdJ("click",function(){e.CHM(x);const ue=e.oxw();return e.KtG(ue.nextSlide())}),e._uU(1,"Next \xa0 "),e.O4$(),e.TgZ(2,"svg",25),e._UZ(3,"path",26),e.qZA()()}}function Ue(Z,he){if(1&Z){const x=e.EpF();e.TgZ(0,"a",4),e.NdJ("click",function(){e.CHM(x);const ue=e.oxw();return e.KtG(ue.finishCourse())}),e._uU(1,"Finish"),e.qZA()}if(2&Z){const x=e.oxw();e.ekj("ml-auto",100==x.percentComplete&&x.slideDetails.position==x.slides.length)}}function Be(Z,he){1&Z&&(e.O4$(),e.TgZ(0,"svg",14),e._UZ(1,"path",33),e.qZA())}function qe(Z,he){1&Z&&(e.O4$(),e.TgZ(0,"svg",14),e._UZ(1,"circle",34),e.qZA())}function Ie(Z,he){1&Z&&e._UZ(0,"div",35)}function je(Z,he){if(1&Z){const x=e.EpF();e.TgZ(0,"div",27)(1,"div",28)(2,"div",29),e.YNc(3,Be,2,0,"svg",30),e.YNc(4,qe,2,0,"svg",30),e._uU(5," \xa0 "),e.qZA(),e.YNc(6,Ie,1,0,"div",31),e.qZA(),e.TgZ(7,"div",32),e.NdJ("click",function(){const Ee=e.CHM(x).$implicit,Re=e.oxw();return e.KtG(Re.getSlideDetails(Ee))}),e._uU(8),e.ALo(9,"titlecase"),e.qZA()()}if(2&Z){const x=he.$implicit,W=he.index,ue=e.oxw();e.xp6(3),e.Q6J("ngIf",x.isCompleted),e.xp6(1),e.Q6J("ngIf",!x.isCompleted),e.xp6(2),e.Q6J("ngIf",W+1<ue.slides.length),e.xp6(1),e.ekj("active",ue.selectedSlideId==x._id),e.xp6(1),e.hij(" ",e.lcZ(9,6,null==x?null:x.name)," ")}}function He(Z,he){if(1&Z&&(e.TgZ(0,"video",36),e._UZ(1,"source",37),e._uU(2," Your browser does not support the video tag. "),e.qZA()),2&Z){const x=e.oxw();e.xp6(1),e.Q6J("src",x.baseUrl+(null==x.slideDetails||null==x.slideDetails.file?null:x.slideDetails.file.path),e.LSH)}}function ze(Z,he){if(1&Z&&(e.TgZ(0,"audio",38),e._UZ(1,"source",39),e._uU(2," Sorry, your browser does not support the audio element. "),e.qZA()),2&Z){const x=e.oxw();e.xp6(1),e.Q6J("src",x.baseUrl+(null==x.slideDetails||null==x.slideDetails.file?null:x.slideDetails.file.path),e.LSH)}}function Ge(Z,he){if(1&Z&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&Z){const x=e.oxw();e.xp6(1),e.Oqu(null==x.slideDetails?null:x.slideDetails.text)}}function Xe(Z,he){if(1&Z&&e._UZ(0,"pdf-viewer",40),2&Z){const x=e.oxw();e.Q6J("src",x.baseUrl+(null==x.slideDetails||null==x.slideDetails.file?null:x.slideDetails.file.path))("render-text",!0)("original-size",!1)}}let We=(()=>{class Z{constructor(x,W,ue,Ee,Re){this.router=x,this.activeRoute=W,this.apiService=ue,this.errorHandlingService=Ee,this._location=Re,this.baseUrl=w.N.baseUrl,this.pdfSrc="https://vadimdez.github.io/ng2-pdf-viewer/assets/pdf-test.pdf",this.apiCallActive=!1,this.slides=[],this.slideDetails={},this.percentComplete=0,this.activeRoute.params.subscribe({next:Ve=>{this.selectedCourseId=Ve.id,this.getCourseDetails()}})}ngOnInit(){}back(){this.router.navigate(["/dashboard/courses/my-courses"])}getCourseDetails(){this.apiCallActive=!0,this.apiService.get(u.d.getMyCourseDetails.replace(":id",this.selectedCourseId)).subscribe({next:x=>{this.apiCallActive=!1,this.courseDetails=x.courseDetails,this.getProgress(),this.slides=x.slides},error:x=>{this.apiCallActive=!1,this.errorHandlingService.handle(x)}})}getSlideDetails(x){this.slideDetails?._id&&(this.slideDetails.isCompleted||this.markProgress(this.slideDetails,!0)),this.apiCallActive=!0,this.apiService.get(u.d.getSlideDetails.replace(":id",this.selectedCourseId).replace(":slideid",x._id)).subscribe({next:W=>{this.apiCallActive=!1,this.slideDetails=W.slide,console.log(this.slideDetails),this.selectedSlideId=this.slideDetails._id,this._location.go(ne.g.Pages.SLIDE_DETAILS.replace(":id",this.selectedCourseId).replace(":slideid",this.selectedSlideId)),console.log(this.slideDetails.name," = getSlideDetails:isCompleted = ",this.slideDetails.isCompleted),this.slideDetails.isCompleted||this.markProgress(this.slideDetails)},error:W=>{this.apiCallActive=!1,this.errorHandlingService.handle(W)}})}markProgress(x,W=!1){this.apiService.post(u.d.markProgress.replace(":id",this.selectedCourseId).replace(":slideid",x._id),{isCompleted:W}).subscribe({next:ue=>{this.slides[x.position-1].isCompleted=ue.progress.isCompleted,this.getProgress()},error:ue=>{this.errorHandlingService.handle(ue)}})}getProgress(){this.apiService.get(u.d.getProgress.replace(":id",this.selectedCourseId)).subscribe({next:({progress:x,percentComplete:W})=>{if(this.progress=x,this.percentComplete=W,!this.slideDetails._id){let ue=x[0]?x[0].slide:this.slides[0];this.getSlideDetails(ue),this.selectedSlideId=ue._id,this._location.go(ne.g.Pages.SLIDE_DETAILS.replace(":id",this.selectedCourseId).replace(":slideid",this.selectedSlideId))}},error:x=>{this.errorHandlingService.handle(x)}})}nextSlide(){let x=this.slides.filter(W=>this.slideDetails.position+1==W.position)[0];x&&(this.markProgress(this.slideDetails,!0),this.getSlideDetails(x))}finishCourse(){this.back()}}return Z.\u0275fac=function(x){return new(x||Z)(e.Y36(d.F0),e.Y36(d.gz),e.Y36(n.a),e.Y36(A.r),e.Y36(p.Ye))},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["app-my-courses-details"]],decls:37,vars:13,consts:[[1,"container"],[1,"row"],[1,"col"],["aria-label","breadcrumb"],[1,"back-button",3,"click"],["width","7","height","12","viewBox","0 0 7 15","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M5.38247 10.9393L0.723485 6.37992C0.668185 6.32564 0.629107 6.26684 0.60625 6.20352C0.583024 6.14019 0.571411 6.07234 0.571411 5.99997C0.571411 5.9276 0.583024 5.85976 0.60625 5.79643C0.629107 5.73311 0.668185 5.6743 0.723485 5.62003L5.38247 1.04709C5.5115 0.920441 5.67279 0.857117 5.86634 0.857117C6.05989 0.857117 6.22579 0.924964 6.36404 1.06066C6.50229 1.19636 6.57141 1.35467 6.57141 1.53559C6.57141 1.71652 6.50229 1.87483 6.36404 2.01053L2.29952 5.99997L6.36404 9.98942C6.49307 10.1161 6.55759 10.272 6.55759 10.4573C6.55759 10.6429 6.48846 10.8036 6.35021 10.9393C6.21196 11.075 6.05067 11.1428 5.86634 11.1428C5.68201 11.1428 5.52072 11.075 5.38247 10.9393Z","fill","#3F3F3F"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"click"],["aria-current","page",1,"breadcrumb-item","active"],["class","back-button ml-auto",3,"click",4,"ngIf"],["class","back-button",3,"ml-auto","click",4,"ngIf"],[1,"download"],["width","16","height","16","viewBox","0 0 16 16","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8 11.575C7.86667 11.575 7.74167 11.554 7.625 11.512C7.50833 11.4707 7.4 11.4 7.3 11.3L3.7 7.7C3.51667 7.51667 3.425 7.28333 3.425 7C3.425 6.71667 3.51667 6.48333 3.7 6.3C3.88333 6.11667 4.12067 6.02067 4.412 6.012C4.704 6.004 4.94167 6.09167 5.125 6.275L7 8.15V1C7 0.716667 7.096 0.479 7.288 0.287C7.47933 0.0956668 7.71667 0 8 0C8.28333 0 8.521 0.0956668 8.713 0.287C8.90433 0.479 9 0.716667 9 1V8.15L10.875 6.275C11.0583 6.09167 11.296 6.004 11.588 6.012C11.8793 6.02067 12.1167 6.11667 12.3 6.3C12.4833 6.48333 12.575 6.71667 12.575 7C12.575 7.28333 12.4833 7.51667 12.3 7.7L8.7 11.3C8.6 11.4 8.49167 11.4707 8.375 11.512C8.25833 11.554 8.13333 11.575 8 11.575ZM2 16C1.45 16 0.979333 15.8043 0.588 15.413C0.196 15.021 0 14.55 0 14V12C0 11.7167 0.0956668 11.479 0.287 11.287C0.479 11.0957 0.716667 11 1 11C1.28333 11 1.521 11.0957 1.713 11.287C1.90433 11.479 2 11.7167 2 12V14H14V12C14 11.7167 14.096 11.479 14.288 11.287C14.4793 11.0957 14.7167 11 15 11C15.2833 11 15.5207 11.0957 15.712 11.287C15.904 11.479 16 11.7167 16 12V14C16 14.55 15.8043 15.021 15.413 15.413C15.021 15.8043 14.55 16 14 16H2Z","fill","#3F3F3F"],[1,"p-0","bg-gray","mt-2"],[1,"col-3"],[1,"stepper","d-flex","flex-column","ml-2"],["class","align-items-baseline d-flex mt-n5",4,"ngFor","ngForOf"],["width","100%","height","340","controls","","autoplay","",4,"ngIf"],["controls","","width","100%","height","340","autoplay","",4,"ngIf"],[4,"ngIf"],["style","width: 100%; height: 555px",3,"src","render-text","original-size",4,"ngIf"],[1,"back-button","ml-auto",3,"click"],["width","7","height","12","viewBox","0 0 7 12","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M1.6175 1.06068L6.27648 5.62005C6.33178 5.67433 6.37086 5.73313 6.39372 5.79645C6.41695 5.85978 6.42856 5.92763 6.42856 6C6.42856 6.07237 6.41695 6.14021 6.39372 6.20354C6.37086 6.26686 6.33178 6.32567 6.27648 6.37994L1.6175 10.9529C1.48847 11.0795 1.32718 11.1429 1.13363 11.1429C0.940079 11.1429 0.77418 11.075 0.635931 10.9393C0.497683 10.8036 0.428558 10.6453 0.428558 10.4644C0.428558 10.2834 0.497683 10.1251 0.635931 9.98944L4.70045 6L0.635931 2.01055C0.506899 1.8839 0.442383 1.72794 0.442383 1.54267C0.442383 1.35704 0.511507 1.19638 0.649756 1.06068C0.788005 0.924987 0.949295 0.857139 1.13363 0.857139C1.31796 0.857139 1.47925 0.924987 1.6175 1.06068Z","fill","#3F3F3F"],[1,"align-items-baseline","d-flex","mt-n5"],[1,"d-flex","flex-column","pr-4","align-items-center"],[1,"mentor-detail"],["width","16","height","16","viewBox","0 0 16 16","fill","none","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["class","line h-100",4,"ngIf"],[1,"mt-2px","cursor-pointer","slide-name",3,"click"],["fill-rule","evenodd","clip-rule","evenodd","d","M16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8ZM11.2243 5.57574C11.4586 5.81005 11.4586 6.18995 11.2243 6.42426L7.22426 10.4243C6.98995 10.6586 6.61005 10.6586 6.37574 10.4243L4.77574 8.82426C4.54142 8.58995 4.54142 8.21005 4.77574 7.97574C5.01005 7.74142 5.38995 7.74142 5.62426 7.97574L6.8 9.15147L8.58787 7.3636L10.3757 5.57574C10.6101 5.34142 10.9899 5.34142 11.2243 5.57574Z","fill","#00CD83"],["cx","8","cy","8","r","7.25","fill","white","stroke","#7B8392","stroke-width","1.5"],[1,"line","h-100"],["width","100%","height","340","controls","","autoplay",""],["type","video/mp4",3,"src"],["controls","","width","100%","height","340","autoplay",""],[3,"src"],[2,"width","100%","height","555px",3,"src","render-text","original-size"]],template:function(x,W){1&x&&(e.TgZ(0,"main")(1,"div",0)(2,"div",1)(3,"div",2)(4,"nav",3)(5,"a",4),e.NdJ("click",function(){return W.back()}),e.O4$(),e.TgZ(6,"svg",5),e._UZ(7,"path",6),e.qZA(),e._uU(8," \xa0 Back"),e.qZA(),e.kcU(),e.TgZ(9,"ol",7)(10,"li",8)(11,"a",9),e.NdJ("click",function(){return W.back()}),e._uU(12,"My Courses"),e.qZA()(),e.TgZ(13,"li",10),e._uU(14),e.ALo(15,"titlecase"),e.qZA()(),e.YNc(16,Fe,4,0,"a",11),e.YNc(17,Ue,2,2,"a",12),e.TgZ(18,"a",13),e.O4$(),e.TgZ(19,"svg",14),e._UZ(20,"path",15),e.qZA()()()()(),e.kcU(),e._UZ(21,"hr"),e.TgZ(22,"section",16)(23,"div",1)(24,"div",17)(25,"article")(26,"div",18),e.YNc(27,je,10,8,"div",19),e.qZA()()(),e.TgZ(28,"div",2)(29,"section")(30,"h3"),e._uU(31),e.ALo(32,"titlecase"),e.qZA(),e.YNc(33,He,3,1,"video",20),e.YNc(34,ze,3,1,"audio",21),e.YNc(35,Ge,2,1,"p",22),e.YNc(36,Xe,1,3,"pdf-viewer",23),e.qZA()()()()()()),2&x&&(e.xp6(14),e.Oqu(e.lcZ(15,9,null==W.courseDetails?null:W.courseDetails.name)),e.xp6(2),e.Q6J("ngIf",W.slideDetails.position!=W.slides.length),e.xp6(1),e.Q6J("ngIf",100==W.percentComplete),e.xp6(10),e.Q6J("ngForOf",W.slides),e.xp6(4),e.Oqu(e.lcZ(32,11,null==W.slideDetails?null:W.slideDetails.name)),e.xp6(2),e.Q6J("ngIf","video"==(null==W.slideDetails?null:W.slideDetails.type)),e.xp6(1),e.Q6J("ngIf","audio"==(null==W.slideDetails?null:W.slideDetails.type)),e.xp6(1),e.Q6J("ngIf","text"==(null==W.slideDetails?null:W.slideDetails.type)),e.xp6(1),e.Q6J("ngIf","pdf"==(null==W.slideDetails?null:W.slideDetails.type)))},dependencies:[p.sg,p.O5,Le,p.rS],styles:[".slide-name.active[_ngcontent-%COMP%]{font-size:18px}"]}),Z})();const Ye=[{path:"all",component:X},{path:"course/:id/details",component:U},{path:"my-courses",component:T},{path:"my-course/:id/details",component:We},{path:"my-course/:id/slide/:slideid",component:We},{path:"**",redirectTo:"all"}];let Ke=(()=>{class Z{}return Z.\u0275fac=function(x){return new(x||Z)},Z.\u0275mod=e.oAB({type:Z}),Z.\u0275inj=e.cJS({imports:[d.Bz,d.Bz.forChild(Ye),p.ez,s.UX,s.u5,De]}),Z})()},6036:function(module,__unused_webpack_exports,__webpack_require__){var _asyncToGenerator=__webpack_require__(7156).default,se;se=()=>(()=>{"use strict";var __webpack_modules__=[,(be,M,se)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.VerbosityLevel=M.Util=M.UnknownErrorException=M.UnexpectedResponseException=M.UNSUPPORTED_FEATURES=M.TextRenderingMode=M.StreamType=M.RenderingIntentFlag=M.PermissionFlag=M.PasswordResponses=M.PasswordException=M.PageActionEventType=M.OPS=M.MissingPDFException=M.InvalidPDFException=M.ImageKind=M.IDENTITY_MATRIX=M.FormatError=M.FontType=M.FeatureTest=M.FONT_IDENTITY_MATRIX=M.DocumentActionEventType=M.CMapCompressionType=M.BaseException=M.AnnotationType=M.AnnotationStateModelType=M.AnnotationReviewState=M.AnnotationReplyType=M.AnnotationMode=M.AnnotationMarkedState=M.AnnotationFlag=M.AnnotationFieldFlag=M.AnnotationBorderStyleType=M.AnnotationActionEventType=M.AbortException=void 0,M.arrayByteLength=j,M.arraysToBytes=function V(te){const F=te.length;if(1===F&&te[0]instanceof Uint8Array)return te[0];let O=0;for(let me=0;me<F;me++)O+=j(te[me]);let ce=0;const fe=new Uint8Array(O);for(let me=0;me<F;me++){let ve=te[me];ve instanceof Uint8Array||(ve="string"==typeof ve?U(ve):new Uint8Array(ve));const Me=ve.byteLength;fe.set(ve,ce),ce+=Me}return fe},M.assert=function q(te,F){te||B(F)},M.bytesToString=function E(te){("object"!=typeof te||null===te||void 0===te.length)&&B("Invalid argument for bytesToString");const F=te.length,O=8192;if(F<O)return String.fromCharCode.apply(null,te);const ce=[];for(let fe=0;fe<F;fe+=O){const me=Math.min(fe+O,F),ve=te.subarray(fe,me);ce.push(String.fromCharCode.apply(null,ve))}return ce.join("")},M.createPromiseCapability=function Oe(){const te=Object.create(null);let F=!1;return Object.defineProperty(te,"settled",{get:()=>F}),te.promise=new Promise(function(O,ce){te.resolve=function(fe){F=!0,O(fe)},te.reject=function(fe){F=!0,ce(fe)}}),te},M.createValidAbsoluteUrl=function re(te,F=null,O=null){if(!te)return null;try{if(O&&"string"==typeof te){if(O.addDefaultProtocol&&te.startsWith("www.")){const fe=te.match(/\./g);fe&&fe.length>=2&&(te=`http://${te}`)}if(O.tryConvertEncoding)try{te=ge(te)}catch{}}const ce=F?new URL(te,F):new URL(te);if(function J(te){if(!te)return!1;switch(te.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(ce))return ce}catch{}return null},M.escapeString=function z(te){return te.replace(/([()\\\n\r])/g,F=>"\n"===F?"\\n":"\r"===F?"\\r":`\\${F}`)},M.getModificationDate=function Te(te=new Date){return[te.getUTCFullYear().toString(),(te.getUTCMonth()+1).toString().padStart(2,"0"),te.getUTCDate().toString().padStart(2,"0"),te.getUTCHours().toString().padStart(2,"0"),te.getUTCMinutes().toString().padStart(2,"0"),te.getUTCSeconds().toString().padStart(2,"0")].join("")},M.getVerbosityLevel=function H(){return R},M.info=function X(te){R>=A.INFOS&&console.log(`Info: ${te}`)},M.isArrayBuffer=function _e(te){return"object"==typeof te&&null!==te&&void 0!==te.byteLength},M.isArrayEqual=function ke(te,F){if(te.length!==F.length)return!1;for(let O=0,ce=te.length;O<ce;O++)if(te[O]!==F[O])return!1;return!0},M.isAscii=function ye(te){return/^[\x00-\x7F]*$/.test(te)},M.objectFromMap=function ie(te){const F=Object.create(null);for(const[O,ce]of te)F[O]=ce;return F},M.objectSize=function Y(te){return Object.keys(te).length},M.setVerbosityLevel=function N(te){Number.isInteger(te)&&(R=te)},M.shadow=le,M.string32=function G(te){return String.fromCharCode(te>>24&255,te>>16&255,te>>8&255,255&te)},M.stringToBytes=U,M.stringToPDFString=function I(te){if(te[0]>="\xef"){let O;if("\xfe"===te[0]&&"\xff"===te[1]?O="utf-16be":"\xff"===te[0]&&"\xfe"===te[1]?O="utf-16le":"\xef"===te[0]&&"\xbb"===te[1]&&"\xbf"===te[2]&&(O="utf-8"),O)try{const ce=new TextDecoder(O,{fatal:!0}),fe=U(te);return ce.decode(fe)}catch(ce){ne(`stringToPDFString: "${ce}".`)}}const F=[];for(let O=0,ce=te.length;O<ce;O++){const fe=v[te.charCodeAt(O)];F.push(fe?String.fromCharCode(fe):te.charAt(O))}return F.join("")},M.stringToUTF16BEString=function Ae(te){const F=["\xfe\xff"];for(let O=0,ce=te.length;O<ce;O++){const fe=te.charCodeAt(O);F.push(String.fromCharCode(fe>>8&255),String.fromCharCode(255&fe))}return F.join("")},M.stringToUTF8String=ge,M.unreachable=B,M.utf8StringToString=function Ce(te){return unescape(encodeURIComponent(te))},M.warn=ne,se(2),M.IDENTITY_MATRIX=[1,0,0,1,0,0],M.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],M.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},M.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},M.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},M.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},M.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},M.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},M.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},M.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},M.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},M.AnnotationReplyType={GROUP:"Group",REPLY:"R"},M.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},M.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},M.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},M.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},M.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},M.PageActionEventType={O:"PageOpen",C:"PageClose"},M.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},M.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const A={ERRORS:0,WARNINGS:1,INFOS:5};M.VerbosityLevel=A,M.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},M.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},M.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},M.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let R=A.WARNINGS;function ne(te){R>=A.WARNINGS&&console.log(`Warning: ${te}`)}function B(te){throw new Error(te)}function le(te,F,O){return Object.defineProperty(te,F,{value:O,enumerable:!0,configurable:!0,writable:!1}),O}const T=function(){function F(O,ce){this.constructor===F&&B("Cannot initialize BaseException."),this.message=O,this.name=ce}return F.prototype=new Error,F.constructor=F,F}();function U(te){"string"!=typeof te&&B("Invalid argument for stringToBytes");const F=te.length,O=new Uint8Array(F);for(let ce=0;ce<F;++ce)O[ce]=255&te.charCodeAt(ce);return O}function j(te){return void 0!==te.length?te.length:void 0!==te.byteLength?te.byteLength:void B("Invalid argument for arrayByteLength")}M.BaseException=T,M.PasswordException=class o extends T{constructor(F,O){super(F,"PasswordException"),this.code=O}},M.UnknownErrorException=class c extends T{constructor(F,O){super(F,"UnknownErrorException"),this.details=O}},M.InvalidPDFException=class t extends T{constructor(F){super(F,"InvalidPDFException")}},M.MissingPDFException=class l extends T{constructor(F){super(F,"MissingPDFException")}},M.UnexpectedResponseException=class f extends T{constructor(F,O){super(F,"UnexpectedResponseException"),this.status=O}},M.FormatError=class P extends T{constructor(F){super(F,"FormatError")}},M.AbortException=class C extends T{constructor(F){super(F,"AbortException")}},M.FeatureTest=class ee{static get isLittleEndian(){return le(this,"isLittleEndian",function pe(){const te=new Uint8Array(4);return te[0]=1,1===new Uint32Array(te.buffer,0,1)[0]}())}static get isEvalSupported(){return le(this,"isEvalSupported",function Se(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return le(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}};const oe=[...Array(256).keys()].map(te=>te.toString(16).padStart(2,"0"));class Q{static makeHexColor(F,O,ce){return`#${oe[F]}${oe[O]}${oe[ce]}`}static scaleMinMax(F,O){let ce;F[0]?(F[0]<0&&(ce=O[0],O[0]=O[1],O[1]=ce),O[0]*=F[0],O[1]*=F[0],F[3]<0&&(ce=O[2],O[2]=O[3],O[3]=ce),O[2]*=F[3],O[3]*=F[3]):(ce=O[0],O[0]=O[2],O[2]=ce,ce=O[1],O[1]=O[3],O[3]=ce,F[1]<0&&(ce=O[2],O[2]=O[3],O[3]=ce),O[2]*=F[1],O[3]*=F[1],F[2]<0&&(ce=O[0],O[0]=O[1],O[1]=ce),O[0]*=F[2],O[1]*=F[2]),O[0]+=F[4],O[1]+=F[4],O[2]+=F[5],O[3]+=F[5]}static transform(F,O){return[F[0]*O[0]+F[2]*O[1],F[1]*O[0]+F[3]*O[1],F[0]*O[2]+F[2]*O[3],F[1]*O[2]+F[3]*O[3],F[0]*O[4]+F[2]*O[5]+F[4],F[1]*O[4]+F[3]*O[5]+F[5]]}static applyTransform(F,O){return[F[0]*O[0]+F[1]*O[2]+O[4],F[0]*O[1]+F[1]*O[3]+O[5]]}static applyInverseTransform(F,O){const ce=O[0]*O[3]-O[1]*O[2];return[(F[0]*O[3]-F[1]*O[2]+O[2]*O[5]-O[4]*O[3])/ce,(-F[0]*O[1]+F[1]*O[0]+O[4]*O[1]-O[5]*O[0])/ce]}static getAxialAlignedBoundingBox(F,O){const ce=Q.applyTransform(F,O),fe=Q.applyTransform(F.slice(2,4),O),me=Q.applyTransform([F[0],F[3]],O),ve=Q.applyTransform([F[2],F[1]],O);return[Math.min(ce[0],fe[0],me[0],ve[0]),Math.min(ce[1],fe[1],me[1],ve[1]),Math.max(ce[0],fe[0],me[0],ve[0]),Math.max(ce[1],fe[1],me[1],ve[1])]}static inverseTransform(F){const O=F[0]*F[3]-F[1]*F[2];return[F[3]/O,-F[1]/O,-F[2]/O,F[0]/O,(F[2]*F[5]-F[4]*F[3])/O,(F[4]*F[1]-F[5]*F[0])/O]}static apply3dTransform(F,O){return[F[0]*O[0]+F[1]*O[1]+F[2]*O[2],F[3]*O[0]+F[4]*O[1]+F[5]*O[2],F[6]*O[0]+F[7]*O[1]+F[8]*O[2]]}static singularValueDecompose2dScale(F){const O=[F[0],F[2],F[1],F[3]],ce=F[0]*O[0]+F[1]*O[2],ve=F[2]*O[1]+F[3]*O[3],Me=(ce+ve)/2,Le=Math.sqrt((ce+ve)**2-4*(ce*ve-(F[2]*O[0]+F[3]*O[2])*(F[0]*O[1]+F[1]*O[3])))/2,Fe=Me-Le||1;return[Math.sqrt(Me+Le||1),Math.sqrt(Fe)]}static normalizeRect(F){const O=F.slice(0);return F[0]>F[2]&&(O[0]=F[2],O[2]=F[0]),F[1]>F[3]&&(O[1]=F[3],O[3]=F[1]),O}static intersect(F,O){const ce=Math.max(Math.min(F[0],F[2]),Math.min(O[0],O[2])),fe=Math.min(Math.max(F[0],F[2]),Math.max(O[0],O[2]));if(ce>fe)return null;const me=Math.max(Math.min(F[1],F[3]),Math.min(O[1],O[3])),ve=Math.min(Math.max(F[1],F[3]),Math.max(O[1],O[3]));return me>ve?null:[ce,me,fe,ve]}static bezierBoundingBox(F,O,ce,fe,me,ve,Me,Le){const De=[],Fe=[[],[]];let Ue,Be,qe,Ie,je,He,ze,Ge;for(let Ke=0;Ke<2;++Ke)if(0===Ke?(Be=6*F-12*ce+6*me,Ue=-3*F+9*ce-9*me+3*Me,qe=3*ce-3*F):(Be=6*O-12*fe+6*ve,Ue=-3*O+9*fe-9*ve+3*Le,qe=3*fe-3*O),Math.abs(Ue)<1e-12){if(Math.abs(Be)<1e-12)continue;Ie=-qe/Be,0<Ie&&Ie<1&&De.push(Ie)}else ze=Be*Be-4*qe*Ue,Ge=Math.sqrt(ze),!(ze<0)&&(je=(-Be+Ge)/(2*Ue),0<je&&je<1&&De.push(je),He=(-Be-Ge)/(2*Ue),0<He&&He<1&&De.push(He));let We,Xe=De.length;const Ye=Xe;for(;Xe--;)Ie=De[Xe],We=1-Ie,Fe[0][Xe]=We*We*We*F+3*We*We*Ie*ce+3*We*Ie*Ie*me+Ie*Ie*Ie*Me,Fe[1][Xe]=We*We*We*O+3*We*We*Ie*fe+3*We*Ie*Ie*ve+Ie*Ie*Ie*Le;return Fe[0][Ye]=F,Fe[1][Ye]=O,Fe[0][Ye+1]=Me,Fe[1][Ye+1]=Le,Fe[0].length=Fe[1].length=Ye+2,[Math.min(...Fe[0]),Math.min(...Fe[1]),Math.max(...Fe[0]),Math.max(...Fe[1])]}}M.Util=Q;const v=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function ge(te){return decodeURIComponent(escape(te))}},(be,M,se)=>{se(3)},(be,M)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.isNodeJS=void 0;const se=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);M.isNodeJS=se},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var be,se,p,de,ae,$,K,D,ot,S;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_annotation_storage=__w_pdfjs_require__(8),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(13),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(14),_metadata=__w_pdfjs_require__(15),_optional_content_config=__w_pdfjs_require__(16),_transport_stream=__w_pdfjs_require__(17),_xfa_text=__w_pdfjs_require__(18);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:g,NodeCMapReaderFactory:a,NodeStandardFontDataFactory:_}=__w_pdfjs_require__(19);exports.DefaultCanvasFactory=DefaultCanvasFactory=g,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=a,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=_}function setPDFNetworkStreamFactory(g){createPDFNetworkStream=g}function getDocument(g){const a=new PDFDocumentLoadingTask;let _;if("string"==typeof g||g instanceof URL)_={url:g};else if((0,_util.isArrayBuffer)(g))_={data:g};else if(g instanceof PDFDataRangeTransport)_={range:g};else{if("object"!=typeof g)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!g.url&&!g.data&&!g.range)throw new Error("Invalid parameter object: need either .data, .range or .url");_=g}const i=Object.create(null);let r=null,u=null;for(const e in _){const d=_[e];switch(e){case"url":if(typeof window<"u")try{i[e]=new URL(d,window.location).href;continue}catch(n){(0,_util.warn)(`Cannot create valid URL: "${n}".`)}else if("string"==typeof d||d instanceof URL){i[e]=d.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":r=d;continue;case"worker":u=d;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&d instanceof Buffer)i[e]=new Uint8Array(d);else{if(d instanceof Uint8Array)break;if("string"==typeof d)i[e]=(0,_util.stringToBytes)(d);else if("object"!=typeof d||null===d||isNaN(d.length)){if(!(0,_util.isArrayBuffer)(d))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");i[e]=new Uint8Array(d)}else i[e]=new Uint8Array(d)}continue}i[e]=d}if(i.CMapReaderFactory=i.CMapReaderFactory||DefaultCMapReaderFactory,i.StandardFontDataFactory=i.StandardFontDataFactory||DefaultStandardFontDataFactory,i.ignoreErrors=!0!==i.stopAtErrors,i.fontExtraProperties=!0===i.fontExtraProperties,i.pdfBug=!0===i.pdfBug,i.enableXfa=!0===i.enableXfa,(!Number.isInteger(i.rangeChunkSize)||i.rangeChunkSize<1)&&(i.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof i.docBaseUrl||(0,_display_utils.isDataScheme)(i.docBaseUrl))&&(i.docBaseUrl=null),(!Number.isInteger(i.maxImageSize)||i.maxImageSize<-1)&&(i.maxImageSize=-1),"string"!=typeof i.cMapUrl&&(i.cMapUrl=null),"string"!=typeof i.standardFontDataUrl&&(i.standardFontDataUrl=null),"boolean"!=typeof i.useWorkerFetch&&(i.useWorkerFetch=i.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&i.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof i.isEvalSupported&&(i.isEvalSupported=!0),"boolean"!=typeof i.disableFontFace&&(i.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof i.useSystemFonts&&(i.useSystemFonts=!_is_node.isNodeJS&&!i.disableFontFace),("object"!=typeof i.ownerDocument||null===i.ownerDocument)&&(i.ownerDocument=globalThis.document),"boolean"!=typeof i.disableRange&&(i.disableRange=!1),"boolean"!=typeof i.disableStream&&(i.disableStream=!1),"boolean"!=typeof i.disableAutoFetch&&(i.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(i.verbosity),!u){const e={verbosity:i.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};u=e.port?PDFWorker.fromPort(e):new PDFWorker(e),a._worker=u}const w=a.docId;return u.promise.then(function(){if(a.destroyed)throw new Error("Loading aborted");const e=_fetchDocument(u,i,r,w),d=new Promise(function(n){let s;r?s=new _transport_stream.PDFDataTransportStream({length:i.length,initialData:i.initialData,progressiveDone:i.progressiveDone,contentDispositionFilename:i.contentDispositionFilename,disableRange:i.disableRange,disableStream:i.disableStream},r):i.data||(s=createPDFNetworkStream({url:i.url,length:i.length,httpHeaders:i.httpHeaders,withCredentials:i.withCredentials,rangeChunkSize:i.rangeChunkSize,disableRange:i.disableRange,disableStream:i.disableStream})),n(s)});return Promise.all([e,d]).then(function([n,s]){if(a.destroyed)throw new Error("Loading aborted");const A=new _message_handler.MessageHandler(w,n,u.port),b=new WorkerTransport(A,a,s,i);a._transport=b,A.send("Ready",null)})}).catch(a._capability.reject),a}function _fetchDocument(g,a,_,i){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(g,a,_,i){if(g.destroyed)throw new Error("Worker was destroyed");_&&(a.length=_.length,a.initialData=_.initialData,a.progressiveDone=_.progressiveDone,a.contentDispositionFilename=_.contentDispositionFilename);const r=yield g.messageHandler.sendWithPromise("GetDocRequest",{docId:i,apiVersion:"2.14.305",source:{data:a.data,url:a.url,password:a.password,disableAutoFetch:a.disableAutoFetch,rangeChunkSize:a.rangeChunkSize,length:a.length},maxImageSize:a.maxImageSize,disableFontFace:a.disableFontFace,docBaseUrl:a.docBaseUrl,ignoreErrors:a.ignoreErrors,isEvalSupported:a.isEvalSupported,fontExtraProperties:a.fontExtraProperties,enableXfa:a.enableXfa,useSystemFonts:a.useSystemFonts,cMapUrl:a.useWorkerFetch?a.cMapUrl:null,standardFontDataUrl:a.useWorkerFetch?a.standardFontDataUrl:null});if(g.destroyed)throw new Error("Worker was destroyed");return r})).apply(this,arguments)}const M=class{constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+At(M,be)._++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var a=this;return _asyncToGenerator(function*(){a.destroyed=!0,yield a._transport?.destroy(),a._transport=null,a._worker&&(a._worker.destroy(),a._worker=null)})()}};let PDFDocumentLoadingTask=M;be=new WeakMap,xe(PDFDocumentLoadingTask,be,0),exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(a,_,i=!1,r=null){this.length=a,this.initialData=_,this.progressiveDone=i,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(a){this._rangeListeners.push(a)}addProgressListener(a){this._progressListeners.push(a)}addProgressiveReadListener(a){this._progressiveReadListeners.push(a)}addProgressiveDoneListener(a){this._progressiveDoneListeners.push(a)}onDataRange(a,_){for(const i of this._rangeListeners)i(a,_)}onDataProgress(a,_){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(a,_)})}onDataProgressiveRead(a){this._readyCapability.promise.then(()=>{for(const _ of this._progressiveReadListeners)_(a)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const a of this._progressiveDoneListeners)a()})}transportReady(){this._readyCapability.resolve()}requestDataRange(a,_){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(a,_){var r,i=this;this._pdfInfo=a,this._transport=_,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(r=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),i.stats||{streamTypes:{},fontTypes:{}}}),function(){return r.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(a){return this._transport.getPage(a)}getPageIndex(a){return this._transport.getPageIndex(a)}getDestinations(){return this._transport.getDestinations()}getDestination(a){return this._transport.getDestination(a)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(a=!1){return this._transport.startCleanup(a||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(a,_,i,r,u=!1){this._pageIndex=a,this._pageInfo=_,this._ownerDocument=r,this._transport=i,this._stats=u?new _display_utils.StatTimer:null,this._pdfBug=u,this.commonObjs=i.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:a,rotation:_=this.rotate,offsetX:i=0,offsetY:r=0,dontFlip:u=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:a,rotation:_,offsetX:i,offsetY:r,dontFlip:u})}getAnnotations({intent:a="display"}={}){const _=this._transport.getRenderingIntent(a);let i=this._annotationPromises.get(_.cacheKey);return i||(i=this._transport.getAnnotations(this._pageIndex,_.renderingIntent),this._annotationPromises.set(_.cacheKey,i),i=i.then(r=>{for(const u of r)void 0!==u.titleObj&&Object.defineProperty(u,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),u.titleObj.str)}),void 0!==u.contentsObj&&Object.defineProperty(u,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),u.contentsObj.str)});return r})),i}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}getXfa(){var a=this;return _asyncToGenerator(function*(){return a._transport._htmlForXfa?.children[a._pageIndex]||null})()}render({canvasContext:a,viewport:_,intent:i="display",annotationMode:r=_util.AnnotationMode.ENABLE,transform:u=null,imageLayer:w=null,canvasFactory:e=null,background:d=null,optionalContentConfigPromise:n=null,annotationCanvasMap:s=null,pageColors:A=null}){void 0!==arguments[0]?.renderInteractiveForms&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&r===_util.AnnotationMode.ENABLE&&(r=_util.AnnotationMode.ENABLE_FORMS)),void 0!==arguments[0]?.includeAnnotationStorage&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&r===_util.AnnotationMode.ENABLE&&(r=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const b=this._transport.getRenderingIntent(i,r);this.pendingCleanup=!1,n||(n=this._transport.getOptionalContentConfig());let y=this._intentStates.get(b.cacheKey);y||(y=Object.create(null),this._intentStates.set(b.cacheKey,y)),y.streamReaderCancelTimeout&&(clearTimeout(y.streamReaderCancelTimeout),y.streamReaderCancelTimeout=null);const k=e||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),L=!!(b.renderingIntent&_util.RenderingIntentFlag.PRINT);y.displayReadyCapability||(y.displayReadyCapability=(0,_util.createPromiseCapability)(),y.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(b));const R=X=>{y.renderTasks.delete(N),(this.cleanupAfterRender||L)&&(this.pendingCleanup=!0),this._tryCleanup(),X?(N.capability.reject(X),this._abortOperatorList({intentState:y,reason:X instanceof Error?X:new Error(X)})):N.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},N=new InternalRenderTask({callback:R,params:{canvasContext:a,viewport:_,transform:u,imageLayer:w,background:d},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:s,operatorList:y.operatorList,pageIndex:this._pageIndex,canvasFactory:k,useRequestAnimationFrame:!L,pdfBug:this._pdfBug,pageColors:A});(y.renderTasks||(y.renderTasks=new Set)).add(N);const H=N.task;return Promise.all([y.displayReadyCapability.promise,n]).then(([X,ne])=>{this.pendingCleanup?R():(this._stats&&this._stats.time("Rendering"),N.initializeGraphics({transparency:X,optionalContentConfig:ne}),N.operatorListChanged())}).catch(R),H}getOperatorList({intent:a="display",annotationMode:_=_util.AnnotationMode.ENABLE}={}){const r=this._transport.getRenderingIntent(a,_,!0);let w,u=this._intentStates.get(r.cacheKey);return u||(u=Object.create(null),this._intentStates.set(r.cacheKey,u)),u.opListReadCapability||(w=Object.create(null),w.operatorListChanged=function i(){u.operatorList.lastChunk&&(u.opListReadCapability.resolve(u.operatorList),u.renderTasks.delete(w))},u.opListReadCapability=(0,_util.createPromiseCapability)(),(u.renderTasks||(u.renderTasks=new Set)).add(w),u.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(r)),u.opListReadCapability.promise}streamTextContent({disableCombineTextItems:a=!1,includeMarkedContent:_=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==a,includeMarkedContent:!0===_},{highWaterMark:100,size:r=>r.items.length})}getTextContent(a={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>_xfa_text.XfaText.textContent(i));const _=this.streamTextContent(a);return new Promise(function(i,r){const w=_.getReader(),e={items:[],styles:Object.create(null)};!function u(){w.read().then(function({value:d,done:n}){n?i(e):(Object.assign(e.styles,d.styles),e.items.push(...d.items),u())},r)}()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const a=[];for(const _ of this._intentStates.values())if(this._abortOperatorList({intentState:_,reason:new Error("Page was destroyed."),force:!0}),!_.opListReadCapability)for(const i of _.renderTasks)a.push(i.completed),i.cancel();this.objs.clear();for(const _ of this._bitmaps)_.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(a)}cleanup(a=!1){return this.pendingCleanup=!0,this._tryCleanup(a)}_tryCleanup(a=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:_,operatorList:i}of this._intentStates.values())if(_.size>0||!i.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,a&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const _ of this._bitmaps)_.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(a,_){const i=this._intentStates.get(_);!i||(this._stats&&this._stats.timeEnd("Page Request"),i.displayReadyCapability&&i.displayReadyCapability.resolve(a))}_renderPageChunk(a,_){for(let i=0,r=a.length;i<r;i++)_.operatorList.fnArray.push(a.fnArray[i]),_.operatorList.argsArray.push(a.argsArray[i]);_.operatorList.lastChunk=a.lastChunk;for(const i of _.renderTasks)i.operatorListChanged();a.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:a,cacheKey:_}){const r=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:a,cacheKey:_,annotationStorage:a&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),u=this._intentStates.get(_);u.streamReader=r;const w=()=>{r.read().then(({value:e,done:d})=>{d?u.streamReader=null:this._transport.destroyed||(this._renderPageChunk(e,u),w())},e=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const d of u.renderTasks)d.operatorListChanged();this._tryCleanup()}if(u.displayReadyCapability)u.displayReadyCapability.reject(e);else{if(!u.opListReadCapability)throw e;u.opListReadCapability.reject(e)}}})};w()}_abortOperatorList({intentState:a,reason:_,force:i=!1}){if(a.streamReader){if(!i){if(a.renderTasks.size>0)return;if(_ instanceof _display_utils.RenderingCancelledException)return void(a.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:a,reason:_,force:!0}),a.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(a.streamReader.cancel(new _util.AbortException(_.message)).catch(()=>{}),a.streamReader=null,!this._transport.destroyed){for(const[r,u]of this._intentStates)if(u===a){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(a,_){const i={data:structuredClone(a,_)};this._deferred.then(()=>{for(const r of this._listeners)r.call(this,i)})}addEventListener(a,_){this._listeners.push(_)}removeEventListener(a,_){const i=this._listeners.indexOf(_);this._listeners.splice(i,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const g=document?.currentScript?.src;g&&(PDFWorkerUtil.fallbackWorkerSrc=g.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(g,a){let _;try{if(_=new URL(g),!_.origin||"null"===_.origin)return!1}catch{return!1}const i=new URL(a,_);return _.origin===i.origin},PDFWorkerUtil.createCDNWrapper=function(g){return URL.createObjectURL(new Blob([`importScripts("${g}");`]))};const _PDFWorker=class{constructor({name:g=null,port:a=null,verbosity:_=(0,_util.getVerbosityLevel)()}={}){if(a&&Pe(_PDFWorker,se).has(a))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=g,this.destroyed=!1,this.verbosity=_,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,a)return Pe(_PDFWorker,se).set(a,this),void this._initializeFromPort(a);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(g){this._port=g,this._messageHandler=new _message_handler.MessageHandler("main","worker",g),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(typeof Worker<"u"&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let g=_PDFWorker.workerSrc;try{PDFWorkerUtil.isSameOrigin(window.location.href,g)||(g=PDFWorkerUtil.createCDNWrapper(new URL(g,window.location).href));const a=new Worker(g),_=new _message_handler.MessageHandler("main","worker",a),i=()=>{a.removeEventListener("error",r),_.destroy(),a.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},r=()=>{this._webWorker||i()};a.addEventListener("error",r),_.on("test",w=>{a.removeEventListener("error",r),this.destroyed?i():w?(this._messageHandler=_,this._port=a,this._webWorker=a,this._readyCapability.resolve(),_.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),_.destroy(),a.terminate())}),_.on("ready",w=>{if(a.removeEventListener("error",r),this.destroyed)i();else try{u()}catch{this._setupFakeWorker()}});const u=()=>{const w=new Uint8Array;_.send("test",w,[w.buffer])};return void u()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(g=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const a=new LoopbackPort;this._port=a;const _="fake"+PDFWorkerUtil.fakeWorkerId++,i=new _message_handler.MessageHandler(_+"_worker",_,a);g.setup(i,a);const r=new _message_handler.MessageHandler(_,_+"_worker",a);this._messageHandler=r,this._readyCapability.resolve(),r.send("configure",{verbosity:this.verbosity})}).catch(g=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${g.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),Pe(_PDFWorker,se).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(g){if(!g?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return Pe(this,se).has(g.port)?Pe(this,se).get(g.port):new _PDFWorker(g)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function g(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};let PDFWorker=_PDFWorker;se=new WeakMap,xe(PDFWorker,se,new WeakMap),exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{constructor(a,_,i,r){xe(this,p,null),xe(this,de,new Map),xe(this,ae,new Map),xe(this,$,null),this.messageHandler=a,this.loadingTask=_,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:_.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this._params=r,r.useWorkerFetch||(this.CMapReaderFactory=new r.CMapReaderFactory({baseUrl:r.cMapUrl,isCompressed:r.cMapPacked}),this.StandardFontDataFactory=new r.StandardFontDataFactory({baseUrl:r.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return Pe(this,p)}getRenderingIntent(a,_=_util.AnnotationMode.ENABLE,i=!1){let r=_util.RenderingIntentFlag.DISPLAY,u="";switch(a){case"any":r=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":r=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${a}`)}switch(_){case _util.AnnotationMode.DISABLE:r+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:r+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:r+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,u=this.annotationStorage.hash;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${_}`)}return i&&(r+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:r,cacheKey:`${r}_${u}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const a=[];for(const i of Pe(this,de).values())a.push(i._destroy());Pe(this,de).clear(),Pe(this,ae).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const _=this.messageHandler.sendWithPromise("Terminate",null);return a.push(_),Promise.all(a).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),Ne(this,$,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:a,loadingTask:_}=this;a.on("GetReader",(i,r)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=u=>{this._lastProgress={loaded:u.loaded,total:u.total}},r.onPull=()=>{this._fullReader.read().then(function({value:u,done:w}){w?r.close():((0,_util.assert)((0,_util.isArrayBuffer)(u),"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(u),1,[u]))}).catch(u=>{r.error(u)})},r.onCancel=u=>{this._fullReader.cancel(u),r.ready.catch(w=>{if(!this.destroyed)throw w})}}),a.on("ReaderHeadersReady",i=>{const r=(0,_util.createPromiseCapability)(),u=this._fullReader;return u.headersReady.then(()=>{(!u.isStreamingSupported||!u.isRangeSupported)&&(this._lastProgress&&_.onProgress?.(this._lastProgress),u.onProgress=w=>{_.onProgress?.({loaded:w.loaded,total:w.total})}),r.resolve({isStreamingSupported:u.isStreamingSupported,isRangeSupported:u.isRangeSupported,contentLength:u.contentLength})},r.reject),r.promise}),a.on("GetRangeReader",(i,r)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const u=this._networkStream.getRangeReader(i.begin,i.end);u?(r.onPull=()=>{u.read().then(function({value:w,done:e}){e?r.close():((0,_util.assert)((0,_util.isArrayBuffer)(w),"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(w),1,[w]))}).catch(w=>{r.error(w)})},r.onCancel=w=>{u.cancel(w),r.ready.catch(e=>{if(!this.destroyed)throw e})}):r.close()}),a.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,_._capability.resolve(new PDFDocumentProxy(i,this))}),a.on("DocException",function(i){let r;switch(i.name){case"PasswordException":r=new _util.PasswordException(i.message,i.code);break;case"InvalidPDFException":r=new _util.InvalidPDFException(i.message);break;case"MissingPDFException":r=new _util.MissingPDFException(i.message);break;case"UnexpectedResponseException":r=new _util.UnexpectedResponseException(i.message,i.status);break;case"UnknownErrorException":r=new _util.UnknownErrorException(i.message,i.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}_._capability.reject(r)}),a.on("PasswordRequest",i=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),_.onPassword){const r=u=>{u instanceof Error?this._passwordCapability.reject(u):this._passwordCapability.resolve({password:u})};try{_.onPassword(r,i.code)}catch(u){this._passwordCapability.reject(u)}}else this._passwordCapability.reject(new _util.PasswordException(i.message,i.code));return this._passwordCapability.promise}),a.on("DataLoaded",i=>{_.onProgress?.({loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),a.on("StartRenderPage",i=>{this.destroyed||Pe(this,de).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),a.on("commonobj",([i,r,u])=>{if(!this.destroyed&&!this.commonObjs.has(i))switch(r){case"Font":const w=this._params;if("error"in u){const n=u.error;(0,_util.warn)(`Error during font loading: ${n}`),this.commonObjs.resolve(i,n);break}let e=null;w.pdfBug&&globalThis.FontInspector?.enabled&&(e={registerFont(n,s){globalThis.FontInspector.fontAdded(n,s)}});const d=new _font_loader.FontFaceObject(u,{isEvalSupported:w.isEvalSupported,disableFontFace:w.disableFontFace,ignoreErrors:w.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:e});this.fontLoader.bind(d).catch(n=>a.sendWithPromise("FontFallback",{id:i})).finally(()=>{!w.fontExtraProperties&&d.data&&(d.data=null),this.commonObjs.resolve(i,d)});break;case"FontPath":case"Image":this.commonObjs.resolve(i,u);break;default:throw new Error(`Got unknown common object type ${r}`)}}),a.on("obj",([i,r,u,w])=>{if(this.destroyed)return;const e=Pe(this,de).get(r);if(!e.objs.has(i))switch(u){case"Image":e.objs.resolve(i,w);const d=8e6;if(w){let n;if(w.bitmap){const{bitmap:s,width:A,height:b}=w;n=A*b*4,e._bitmaps.add(s)}else n=w.data?.length||0;n>d&&(e.cleanupAfterRender=!0)}break;case"Pattern":e.objs.resolve(i,w);break;default:throw new Error(`Got unknown object type ${u}`)}}),a.on("DocProgress",i=>{this.destroyed||_.onProgress?.({loaded:i.loaded,total:i.total})}),a.on("DocStats",i=>{this.destroyed||Ne(this,p,Object.freeze({streamTypes:Object.freeze(i.streamTypes),fontTypes:Object.freeze(i.fontTypes)}))}),a.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),a.on("FetchBuiltInCMap",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(i):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),a.on("FetchStandardFontData",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(i):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:a}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(a)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(a){if(!Number.isInteger(a)||a<=0||a>this._numPages)return Promise.reject(new Error("Invalid page request."));const _=a-1,i=Pe(this,ae).get(_);if(i)return i;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:_}).then(u=>{if(this.destroyed)throw new Error("Transport destroyed");const w=new PDFPageProxy(_,u,this,this._params.ownerDocument,this._params.pdfBug);return Pe(this,de).set(_,w),w});return Pe(this,ae).set(_,r),r}getPageIndex(a){return"object"!=typeof a||null===a||!Number.isInteger(a.num)||a.num<0||!Number.isInteger(a.gen)||a.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:a.num,gen:a.gen})}getAnnotations(a,_){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:a,intent:_})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(a){return"string"!=typeof a?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:a})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(a){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:a})}getStructTree(a){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:a})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(a=>new _optional_content_config.OptionalContentConfig(a))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return Pe(this,$)||Ne(this,$,this.messageHandler.sendWithPromise("GetMetadata",null).then(a=>({info:a[0],metadata:a[1]?new _metadata.Metadata(a[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(a=!1){var _=this;return _asyncToGenerator(function*(){if(yield _.messageHandler.sendWithPromise("Cleanup",null),!_.destroyed){for(const i of Pe(_,de).values())if(!i.cleanup())throw new Error(`startCleanup: Page ${i.pageNumber} is currently rendering.`);_.commonObjs.clear(),a||_.fontLoader.clear(),Ne(_,$,null),_._getFieldObjectsPromise=null,_._hasJSActionsPromise=null}})()}get loadingParams(){const a=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:a.disableAutoFetch,enableXfa:a.enableXfa})}}p=new WeakMap,de=new WeakMap,ae=new WeakMap,$=new WeakMap;class PDFObjects{constructor(){xe(this,D),xe(this,K,Object.create(null))}get(a,_=null){if(_){const r=we(this,D,ot).call(this,a);return r.capability.promise.then(()=>_(r.data)),null}const i=Pe(this,K)[a];if(!i?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${a}.`);return i.data}has(a){return Pe(this,K)[a]?.capability.settled||!1}resolve(a,_=null){const i=we(this,D,ot).call(this,a);i.data=_,i.capability.resolve()}clear(){Ne(this,K,Object.create(null))}}K=new WeakMap,D=new WeakSet,ot=function(a){return Pe(this,K)[a]||(Pe(this,K)[a]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(a){this._internalRenderTask=a,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;const m=class{constructor({callback:a,params:_,objs:i,commonObjs:r,annotationCanvasMap:u,operatorList:w,pageIndex:e,canvasFactory:d,useRequestAnimationFrame:n=!1,pdfBug:s=!1,pageColors:A=null}){this.callback=a,this.params=_,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=u,this.operatorListIdx=null,this.operatorList=w,this._pageIndex=e,this.canvasFactory=d,this._pdfBug=s,this.pageColors=A,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===n&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=_.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:a=!1,optionalContentConfig:_}){if(this.cancelled)return;if(this._canvas){if(Pe(m,S).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Pe(m,S).add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:r,transform:u,imageLayer:w,background:e}=this.params;this.gfx=new _canvas.CanvasGraphics(i,this.commonObjs,this.objs,this.canvasFactory,w,_,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:u,viewport:r,transparency:a,background:e}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(a=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&Pe(m,S).delete(this._canvas),this.callback(a||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var a=this;return _asyncToGenerator(function*(){a.cancelled||(a.operatorListIdx=a.gfx.executeOperatorList(a.operatorList,a.operatorListIdx,a._continueBound,a.stepper),a.operatorListIdx===a.operatorList.argsArray.length&&(a.running=!1,a.operatorList.lastChunk&&(a.gfx.endDrawing(),a._canvas&&Pe(m,S).delete(a._canvas),a.callback())))})()}};let InternalRenderTask=m;S=new WeakMap,xe(InternalRenderTask,S,new WeakSet);const version="2.14.305";exports.version=version;const build="eaaa8b4ad";exports.build=build},(be,M,se)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.StatTimer=M.RenderingCancelledException=M.PixelsPerInch=M.PageViewport=M.PDFDateString=M.DOMStandardFontDataFactory=M.DOMSVGFactory=M.DOMCanvasFactory=M.DOMCMapReaderFactory=void 0,M.deprecated=function s(L){console.log("Deprecated API usage: "+L)},M.getFilenameFromUrl=function u(L){const R=L.indexOf("#"),N=L.indexOf("?"),H=Math.min(R>0?R:L.length,N>0?N:L.length);return L.substring(L.lastIndexOf("/",H)+1,H)},M.getPdfFilenameFromUrl=function w(L,R="document.pdf"){if("string"!=typeof L)return R;if(i(L))return(0,de.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),R;const H=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,X=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(L);let ne=H.exec(X[1])||H.exec(X[2])||H.exec(X[3]);if(ne&&(ne=ne[0],ne.includes("%")))try{ne=H.exec(decodeURIComponent(ne))[0]}catch{}return ne||R},M.getXfaPageViewport=function y(L,{scale:R=1,rotation:N=0}){const{width:H,height:X}=L.attributes.style,ne=[0,0,parseInt(H),parseInt(X)];return new a({viewBox:ne,scale:R,rotation:N})},M.isDataScheme=i,M.isPdfFile=function r(L){return"string"==typeof L&&/\.pdf$/i.test(L)},M.isValidFetchUrl=d,M.loadScript=function n(L,R=!1){return new Promise((N,H)=>{const X=document.createElement("script");X.src=L,X.onload=function(ne){R&&X.remove(),N(ne)},X.onerror=function(){H(new Error(`Cannot load script at: ${X.src}`))},(document.head||document.documentElement).appendChild(X)})};var p=se(6),de=se(1);const k=class{};let A,$=k;function D(L){return h.apply(this,arguments)}function h(){return(h=_asyncToGenerator(function*(L,R=!1){if(d(L,document.baseURI)){const N=yield fetch(L);if(!N.ok)throw new Error(N.statusText);return R?new Uint8Array(yield N.arrayBuffer()):(0,de.stringToBytes)(yield N.text())}return new Promise((N,H)=>{const X=new XMLHttpRequest;X.open("GET",L,!0),R&&(X.responseType="arraybuffer"),X.onreadystatechange=()=>{if(X.readyState===XMLHttpRequest.DONE){if(200===X.status||0===X.status){let ne;if(R&&X.response?ne=new Uint8Array(X.response):!R&&X.responseText&&(ne=(0,de.stringToBytes)(X.responseText)),ne)return void N(ne)}H(new Error(X.statusText))}},X.send(null)})})).apply(this,arguments)}nt($,"CSS",96),nt($,"PDF",72),nt($,"PDF_TO_CSS_UNITS",k.CSS/k.PDF),M.PixelsPerInch=$,M.DOMCanvasFactory=class K extends p.BaseCanvasFactory{constructor({ownerDocument:R=globalThis.document}={}){super(),this._document=R}_createCanvas(R,N){const H=this._document.createElement("canvas");return H.width=R,H.height=N,H}},M.DOMCMapReaderFactory=class S extends p.BaseCMapReaderFactory{_fetchData(R,N){return D(R,this.isCompressed).then(H=>({cMapData:H,compressionType:N}))}},M.DOMStandardFontDataFactory=class m extends p.BaseStandardFontDataFactory{_fetchData(R){return D(R,!0)}},M.DOMSVGFactory=class g extends p.BaseSVGFactory{_createSVG(R){return document.createElementNS("http://www.w3.org/2000/svg",R)}};class a{constructor({viewBox:R,scale:N,rotation:H,offsetX:X=0,offsetY:ne=0,dontFlip:B=!1}){this.viewBox=R,this.scale=N,this.rotation=H,this.offsetX=X,this.offsetY=ne;const q=(R[2]+R[0])/2,J=(R[3]+R[1])/2;let re,le,T,o,c,t,l,f;switch((H%=360)<0&&(H+=360),H){case 180:re=-1,le=0,T=0,o=1;break;case 90:re=0,le=1,T=1,o=0;break;case 270:re=0,le=-1,T=-1,o=0;break;case 0:re=1,le=0,T=0,o=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}B&&(T=-T,o=-o),0===re?(c=Math.abs(J-R[1])*N+X,t=Math.abs(q-R[0])*N+ne,l=Math.abs(R[3]-R[1])*N,f=Math.abs(R[2]-R[0])*N):(c=Math.abs(q-R[0])*N+X,t=Math.abs(J-R[1])*N+ne,l=Math.abs(R[2]-R[0])*N,f=Math.abs(R[3]-R[1])*N),this.transform=[re*N,le*N,T*N,o*N,c-re*N*q-T*N*J,t-le*N*q-o*N*J],this.width=l,this.height=f}clone({scale:R=this.scale,rotation:N=this.rotation,offsetX:H=this.offsetX,offsetY:X=this.offsetY,dontFlip:ne=!1}={}){return new a({viewBox:this.viewBox.slice(),scale:R,rotation:N,offsetX:H,offsetY:X,dontFlip:ne})}convertToViewportPoint(R,N){return de.Util.applyTransform([R,N],this.transform)}convertToViewportRectangle(R){const N=de.Util.applyTransform([R[0],R[1]],this.transform),H=de.Util.applyTransform([R[2],R[3]],this.transform);return[N[0],N[1],H[0],H[1]]}convertToPdfPoint(R,N){return de.Util.applyInverseTransform([R,N],this.transform)}}function i(L){const R=L.length;let N=0;for(;N<R&&""===L[N].trim();)N++;return"data:"===L.substring(N,N+5).toLowerCase()}function d(L,R){try{const{protocol:N}=R?new URL(L,R):new URL(L);return"http:"===N||"https:"===N}catch{return!1}}M.PageViewport=a,M.RenderingCancelledException=class _ extends de.BaseException{constructor(R,N){super(R,"RenderingCancelledException"),this.type=N}},M.StatTimer=class e{constructor(){this.started=Object.create(null),this.times=[]}time(R){R in this.started&&(0,de.warn)(`Timer is already running for ${R}`),this.started[R]=Date.now()}timeEnd(R){R in this.started||(0,de.warn)(`Timer has not been started for ${R}`),this.times.push({name:R,start:this.started[R],end:Date.now()}),delete this.started[R]}toString(){const R=[];let N=0;for(const H of this.times){const X=H.name;X.length>N&&(N=X.length)}for(const H of this.times){const X=H.end-H.start;R.push(`${H.name.padEnd(N)} ${X}ms\n`)}return R.join("")}},M.PDFDateString=class b{static toDateObject(R){if(!R||"string"!=typeof R)return null;A||(A=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const N=A.exec(R);if(!N)return null;const H=parseInt(N[1],10);let X=parseInt(N[2],10);X=X>=1&&X<=12?X-1:0;let ne=parseInt(N[3],10);ne=ne>=1&&ne<=31?ne:1;let B=parseInt(N[4],10);B=B>=0&&B<=23?B:0;let q=parseInt(N[5],10);q=q>=0&&q<=59?q:0;let J=parseInt(N[6],10);J=J>=0&&J<=59?J:0;const re=N[7]||"Z";let le=parseInt(N[8],10);le=le>=0&&le<=23?le:0;let T=parseInt(N[9],10)||0;return T=T>=0&&T<=59?T:0,"-"===re?(B+=le,q+=T):"+"===re&&(B-=le,q-=T),new Date(Date.UTC(H,X,ne,B,q,J))}}},(be,M,se)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.BaseStandardFontDataFactory=M.BaseSVGFactory=M.BaseCanvasFactory=M.BaseCMapReaderFactory=void 0;var p=se(1);class de{constructor(){this.constructor===de&&(0,p.unreachable)("Cannot initialize BaseCanvasFactory.")}create(h,S){if(h<=0||S<=0)throw new Error("Invalid canvas size");const m=this._createCanvas(h,S);return{canvas:m,context:m.getContext("2d")}}reset(h,S,m){if(!h.canvas)throw new Error("Canvas is not specified");if(S<=0||m<=0)throw new Error("Invalid canvas size");h.canvas.width=S,h.canvas.height=m}destroy(h){if(!h.canvas)throw new Error("Canvas is not specified");h.canvas.width=0,h.canvas.height=0,h.canvas=null,h.context=null}_createCanvas(h,S){(0,p.unreachable)("Abstract method `_createCanvas` called.")}}M.BaseCanvasFactory=de;class ae{constructor({baseUrl:h=null,isCompressed:S=!1}){this.constructor===ae&&(0,p.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=h,this.isCompressed=S}fetch({name:h}){var S=this;return _asyncToGenerator(function*(){if(!S.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!h)throw new Error("CMap name must be specified.");const m=S.baseUrl+h+(S.isCompressed?".bcmap":"");return S._fetchData(m,S.isCompressed?p.CMapCompressionType.BINARY:p.CMapCompressionType.NONE).catch(a=>{throw new Error(`Unable to load ${S.isCompressed?"binary ":""}CMap at: ${m}`)})})()}_fetchData(h,S){(0,p.unreachable)("Abstract method `_fetchData` called.")}}M.BaseCMapReaderFactory=ae;class ${constructor({baseUrl:h=null}){this.constructor===$&&(0,p.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=h}fetch({filename:h}){var S=this;return _asyncToGenerator(function*(){if(!S.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!h)throw new Error("Font filename must be specified.");const m=`${S.baseUrl}${h}`;return S._fetchData(m).catch(g=>{throw new Error(`Unable to load font data at: ${m}`)})})()}_fetchData(h){(0,p.unreachable)("Abstract method `_fetchData` called.")}}M.BaseStandardFontDataFactory=$;class K{constructor(){this.constructor===K&&(0,p.unreachable)("Cannot initialize BaseSVGFactory.")}create(h,S){if(h<=0||S<=0)throw new Error("Invalid SVG dimensions");const m=this._createSVG("svg:svg");return m.setAttribute("version","1.1"),m.setAttribute("width",`${h}px`),m.setAttribute("height",`${S}px`),m.setAttribute("preserveAspectRatio","none"),m.setAttribute("viewBox",`0 0 ${h} ${S}`),m}createElement(h){if("string"!=typeof h)throw new Error("Invalid SVG element type");return this._createSVG(h)}_createSVG(h){(0,p.unreachable)("Abstract method `_createSVG` called.")}}M.BaseSVGFactory=K},(be,M,se)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.FontLoader=M.FontFaceObject=void 0;var p=se(1);class de{constructor({docId:D,onUnsupportedFeature:h,ownerDocument:S=globalThis.document,styleElement:m=null}){this.constructor===de&&(0,p.unreachable)("Cannot initialize BaseFontLoader."),this.docId=D,this._onUnsupportedFeature=h,this._document=S,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(D){this.nativeFontFaces.push(D),this._document.fonts.add(D)}insertRule(D){let h=this.styleElement;h||(h=this.styleElement=this._document.createElement("style"),h.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(h));const S=h.sheet;S.insertRule(D,S.cssRules.length)}clear(){for(const D of this.nativeFontFaces)this._document.fonts.delete(D);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(D){var h=this;return _asyncToGenerator(function*(){if(D.attached||D.missingFile)return;if(D.attached=!0,h.isFontLoadingAPISupported){const m=D.createNativeFontFace();if(m){h.addNativeFontFace(m);try{yield m.loaded}catch(g){throw h._onUnsupportedFeature({featureId:p.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,p.warn)(`Failed to load font '${m.family}': '${g}'.`),D.disableFontFace=!0,g}}return}const S=D.createFontFaceRule();if(S){if(h.insertRule(S),h.isSyncFontLoadingSupported)return;yield new Promise(m=>{const g=h._queueLoadingCallback(m);h._prepareFontLoadEvent([S],[D],g)})}})()}_queueLoadingCallback(D){(0,p.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){return(0,p.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){(0,p.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,p.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(D,h,S){(0,p.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let ae;M.FontLoader=ae,M.FontLoader=ae=class extends de{constructor(D){super(D),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let D=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(D=!0),(0,p.shadow)(this,"isSyncFontLoadingSupported",D)}_queueLoadingCallback(D){const S=this.loadingContext,m={id:"pdfjs-font-loading-"+S.nextRequestId++,done:!1,complete:function h(){for((0,p.assert)(!m.done,"completeRequest() cannot be called twice."),m.done=!0;S.requests.length>0&&S.requests[0].done;){const g=S.requests.shift();setTimeout(g.callback,0)}},callback:D};return S.requests.push(m),m}get _loadTestFont(){return(0,p.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(D,h,S){function m(N,H){return N.charCodeAt(H)<<24|N.charCodeAt(H+1)<<16|N.charCodeAt(H+2)<<8|255&N.charCodeAt(H+3)}function g(N,H,X,ne){return N.substring(0,H)+ne+N.substring(H+X)}let a,_;const i=this._document.createElement("canvas");i.width=1,i.height=1;const r=i.getContext("2d");let u=0;const e=`lt${Date.now()}${this.loadTestFontId++}`;let d=this._loadTestFont;d=g(d,976,e.length,e);const A=1482184792;let b=m(d,16);for(a=0,_=e.length-3;a<_;a+=4)b=b-A+m(e,a)|0;a<e.length&&(b=b-A+m(e+"XXX",a)|0),d=g(d,16,4,(0,p.string32)(b));const y=`url(data:font/opentype;base64,${btoa(d)});`;this.insertRule(`@font-face {font-family:"${e}";src:${y}}`);const L=[];for(const N of h)L.push(N.loadedName);L.push(e);const R=this._document.createElement("div");R.style.visibility="hidden",R.style.width=R.style.height="10px",R.style.position="absolute",R.style.top=R.style.left="0px";for(const N of L){const H=this._document.createElement("span");H.textContent="Hi",H.style.fontFamily=N,R.appendChild(H)}this._document.body.appendChild(R),function w(N,H){if(u++,u>30)return(0,p.warn)("Load test font never loaded."),void H();r.font="30px "+N,r.fillText(".",0,20),r.getImageData(0,0,1,1).data[3]>0?H():setTimeout(w.bind(null,N,H))}(e,()=>{R.remove(),S.complete()})}},M.FontFaceObject=class ${constructor(D,{isEvalSupported:h=!0,disableFontFace:S=!1,ignoreErrors:m=!1,onUnsupportedFeature:g,fontRegistry:a=null}){this.compiledGlyphs=Object.create(null);for(const _ in D)this[_]=D[_];this.isEvalSupported=!1!==h,this.disableFontFace=!0===S,this.ignoreErrors=!0===m,this._onUnsupportedFeature=g,this.fontRegistry=a}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let D;if(this.cssFontInfo){const h={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(h.style=`oblique ${this.cssFontInfo.italicAngle}deg`),D=new FontFace(this.cssFontInfo.fontFamily,this.data,h)}else D=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),D}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const D=(0,p.bytesToString)(this.data),h=`url(data:${this.mimetype};base64,${btoa(D)});`;let S;if(this.cssFontInfo){let m=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(m+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),S=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${m}src:${h}}`}else S=`@font-face {font-family:"${this.loadedName}";src:${h}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,h),S}getPathGenerator(D,h){if(void 0!==this.compiledGlyphs[h])return this.compiledGlyphs[h];let S;try{S=D.get(this.loadedName+"_path_"+h)}catch(m){if(!this.ignoreErrors)throw m;return this._onUnsupportedFeature({featureId:p.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,p.warn)(`getPathGenerator - ignoring character: "${m}".`),this.compiledGlyphs[h]=function(g,a){}}if(this.isEvalSupported&&p.FeatureTest.isEvalSupported){const m=[];for(const g of S){const a=void 0!==g.args?g.args.join(","):"";m.push("c.",g.cmd,"(",a,");\n")}return this.compiledGlyphs[h]=new Function("c","size",m.join(""))}return this.compiledGlyphs[h]=function(m,g){for(const a of S)"scale"===a.cmd&&(a.args=[g,-g]),m[a.cmd].apply(m,a.args)}}}},(be,M,se)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.AnnotationStorage=void 0;var p=se(9),de=se(1);M.AnnotationStorage=class ae{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(K,D){const h=this._storage.get(K);return void 0===h?D:Object.assign(D,h)}getRawValue(K){return this._storage.get(K)}setValue(K,D){const h=this._storage.get(K);let S=!1;if(void 0!==h)for(const[m,g]of Object.entries(D))h[m]!==g&&(S=!0,h[m]=g);else S=!0,this._storage.set(K,D);S&&this._setModified()}getAll(){return this._storage.size>0?(0,de.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get hash(){const K=new p.MurmurHash3_64;for(const[D,h]of this._storage)K.update(`${D}:${JSON.stringify(h)}`);return K.hexdigest()}}},(be,M,se)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.MurmurHash3_64=void 0;var p=se(1);const de=3285377520,ae=4294901760,$=65535;M.MurmurHash3_64=class K{constructor(h){this.h1=h?4294967295&h:de,this.h2=h?4294967295&h:de}update(h){let S,m;if("string"==typeof h){S=new Uint8Array(2*h.length),m=0;for(let A=0,b=h.length;A<b;A++){const y=h.charCodeAt(A);y<=255?S[m++]=y:(S[m++]=y>>>8,S[m++]=255&y)}}else{if(!(0,p.isArrayBuffer)(h))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");S=h.slice(),m=S.byteLength}const g=m>>2,a=m-4*g,_=new Uint32Array(S.buffer,0,g);let i=0,r=0,u=this.h1,w=this.h2;const e=3432918353,d=461845907,n=e&$,s=d&$;for(let A=0;A<g;A++)1&A?(i=_[A],i=i*e&ae|i*n&$,i=i<<15|i>>>17,i=i*d&ae|i*s&$,u^=i,u=u<<13|u>>>19,u=5*u+3864292196):(r=_[A],r=r*e&ae|r*n&$,r=r<<15|r>>>17,r=r*d&ae|r*s&$,w^=r,w=w<<13|w>>>19,w=5*w+3864292196);switch(i=0,a){case 3:i^=S[4*g+2]<<16;case 2:i^=S[4*g+1]<<8;case 1:i^=S[4*g],i=i*e&ae|i*n&$,i=i<<15|i>>>17,i=i*d&ae|i*s&$,1&g?u^=i:w^=i}this.h1=u,this.h2=w}hexdigest(){let h=this.h1,S=this.h2;h^=S>>>1,h=3981806797*h&ae|36045*h&$,S=4283543511*S&ae|(2950163797*(S<<16|h>>>16)&ae)>>>16,h^=S>>>1,h=444984403*h&ae|60499*h&$,S=3301882366*S&ae|(3120437893*(S<<16|h>>>16)&ae)>>>16,h^=S>>>1;const m=(h>>>0).toString(16),g=(S>>>0).toString(16);return m.padStart(8,"0")+g.padStart(8,"0")}}},(be,M,se)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.CanvasGraphics=void 0;var p=se(1),de=se(11),ae=se(12),$=se(3),K=se(5);const S=4096,i=16;function w(T){if(T._transformStack&&(T._transformStack=[]),!T.mozCurrentTransform){T._originalSave=T.save,T._originalRestore=T.restore,T._originalRotate=T.rotate,T._originalScale=T.scale,T._originalTranslate=T.translate,T._originalTransform=T.transform,T._originalSetTransform=T.setTransform,T._originalResetTransform=T.resetTransform,T._transformMatrix=T._transformMatrix||[1,0,0,1,0,0],T._transformStack=[];try{const o=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(T),"lineWidth");T._setLineWidth=o.set,T._getLineWidth=o.get,Object.defineProperty(T,"lineWidth",{set:function(t){this._setLineWidth(1.000001*t)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(T,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(T,"mozCurrentTransformInverse",{get:function(){const[c,t,l,f,P,C]=this._transformMatrix,E=c*f-t*l,U=t*l-c*f;return[f/E,t/U,l/U,c/E,(f*P-l*C)/U,(t*P-c*C)/E]}}),T.save=function(){const c=this._transformMatrix;this._transformStack.push(c),this._transformMatrix=c.slice(0,6),this._originalSave()},T.restore=function(){0===this._transformStack.length&&(0,p.warn)("Tried to restore a ctx when the stack was already empty.");const c=this._transformStack.pop();c&&(this._transformMatrix=c,this._originalRestore())},T.translate=function(c,t){const l=this._transformMatrix;l[4]=l[0]*c+l[2]*t+l[4],l[5]=l[1]*c+l[3]*t+l[5],this._originalTranslate(c,t)},T.scale=function(c,t){const l=this._transformMatrix;l[0]*=c,l[1]*=c,l[2]*=t,l[3]*=t,this._originalScale(c,t)},T.transform=function(c,t,l,f,P,C){const E=this._transformMatrix;this._transformMatrix=[E[0]*c+E[2]*t,E[1]*c+E[3]*t,E[0]*l+E[2]*f,E[1]*l+E[3]*f,E[0]*P+E[2]*C+E[4],E[1]*P+E[3]*C+E[5]],T._originalTransform(c,t,l,f,P,C)},T.setTransform=function(c,t,l,f,P,C){this._transformMatrix=[c,t,l,f,P,C],T._originalSetTransform(c,t,l,f,P,C)},T.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],T._originalResetTransform()},T.rotate=function(c){const t=Math.cos(c),l=Math.sin(c),f=this._transformMatrix;this._transformMatrix=[f[0]*t+f[2]*l,f[1]*t+f[3]*l,f[0]*-l+f[2]*t,f[1]*-l+f[3]*t,f[4],f[5]],this._originalRotate(c)}}}class e{constructor(o){this.canvasFactory=o,this.cache=Object.create(null)}getCanvas(o,c,t,l){let f;return void 0!==this.cache[o]?(f=this.cache[o],this.canvasFactory.reset(f,c,t),f.context.setTransform(1,0,0,1,0,0)):(f=this.canvasFactory.create(c,t),this.cache[o]=f),l&&w(f.context),f}delete(o){delete this.cache[o]}clear(){for(const o in this.cache)this.canvasFactory.destroy(this.cache[o]),delete this.cache[o]}}function d(T,o,c,t,l,f,P,C,E,U){const[j,V,G,Y,ie,pe]=T.mozCurrentTransform;if(0===V&&0===G){const Q=Math.round(P*j+ie),I=Math.round(C*Y+pe),ye=Math.abs(Math.round((P+E)*j+ie)-Q)||1,ge=Math.abs(Math.round((C+U)*Y+pe)-I)||1;return T.setTransform(Math.sign(j),0,0,Math.sign(Y),Q,I),T.drawImage(o,c,t,l,f,0,0,ye,ge),T.setTransform(j,V,G,Y,ie,pe),[ye,ge]}if(0===j&&0===Y){const Q=Math.round(C*G+ie),I=Math.round(P*V+pe),ye=Math.abs(Math.round((C+U)*G+ie)-Q)||1,ge=Math.abs(Math.round((P+E)*V+pe)-I)||1;return T.setTransform(0,Math.sign(V),Math.sign(G),0,Q,I),T.drawImage(o,c,t,l,f,0,0,ge,ye),T.setTransform(j,V,G,Y,ie,pe),[ge,ye]}return T.drawImage(o,c,t,l,f,P,C,E,U),[Math.hypot(j,V)*E,Math.hypot(G,Y)*U]}class s{constructor(o,c){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=p.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=p.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=p.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,o,c])}clone(){const o=Object.create(this);return o.clipBox=this.clipBox.slice(),o}setCurrentPoint(o,c){this.x=o,this.y=c}updatePathMinMax(o,c,t){[c,t]=p.Util.applyTransform([c,t],o),this.minX=Math.min(this.minX,c),this.minY=Math.min(this.minY,t),this.maxX=Math.max(this.maxX,c),this.maxY=Math.max(this.maxY,t)}updateRectMinMax(o,c){const t=p.Util.applyTransform(c,o),l=p.Util.applyTransform(c.slice(2),o);this.minX=Math.min(this.minX,t[0],l[0]),this.minY=Math.min(this.minY,t[1],l[1]),this.maxX=Math.max(this.maxX,t[0],l[0]),this.maxY=Math.max(this.maxY,t[1],l[1])}updateScalingPathMinMax(o,c){p.Util.scaleMinMax(o,c),this.minX=Math.min(this.minX,c[0]),this.maxX=Math.max(this.maxX,c[1]),this.minY=Math.min(this.minY,c[2]),this.maxY=Math.max(this.maxY,c[3])}updateCurvePathMinMax(o,c,t,l,f,P,C,E,U,j){const V=p.Util.bezierBoundingBox(c,t,l,f,P,C,E,U);if(j)return j[0]=Math.min(j[0],V[0],V[2]),j[1]=Math.max(j[1],V[0],V[2]),j[2]=Math.min(j[2],V[1],V[3]),void(j[3]=Math.max(j[3],V[1],V[3]));this.updateRectMinMax(o,V)}getPathBoundingBox(o=de.PathType.FILL,c=null){const t=[this.minX,this.minY,this.maxX,this.maxY];if(o===de.PathType.STROKE){c||(0,p.unreachable)("Stroke bounding box must include transform.");const l=p.Util.singularValueDecompose2dScale(c),f=l[0]*this.lineWidth/2,P=l[1]*this.lineWidth/2;t[0]-=f,t[1]-=P,t[2]+=f,t[3]+=P}return t}updateClipFromPath(){const o=p.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(o||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(o){this.clipBox=o,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(o=de.PathType.FILL,c=null){return p.Util.intersect(this.clipBox,this.getPathBoundingBox(o,c))}}function A(T,o,c=null){if(typeof ImageData<"u"&&o instanceof ImageData)return void T.putImageData(o,0,0);const t=o.height,l=o.width,f=t%i,P=(t-f)/i,C=0===f?P:P+1,E=T.createImageData(l,i);let j,U=0;const V=o.data,G=E.data;let Y,ie,pe,Se,ee,oe,Q,v;if(c)switch(c.length){case 1:ee=c[0],oe=c[0],Q=c[0],v=c[0];break;case 4:ee=c[0],oe=c[1],Q=c[2],v=c[3]}if(o.kind===p.ImageKind.GRAYSCALE_1BPP){const I=V.byteLength,z=new Uint32Array(G.buffer,0,G.byteLength>>2),ye=z.length,Ae=l+7>>3;let ge=4294967295,Ce=p.FeatureTest.isLittleEndian?4278190080:255;for(v&&255===v[0]&&0===v[255]&&([ge,Ce]=[Ce,ge]),Y=0;Y<C;Y++){for(pe=Y<P?i:f,j=0,ie=0;ie<pe;ie++){const _e=I-U;let ke=0;const Te=_e>Ae?l:8*_e-7,Oe=-8&Te;let te=0,F=0;for(;ke<Oe;ke+=8)F=V[U++],z[j++]=128&F?ge:Ce,z[j++]=64&F?ge:Ce,z[j++]=32&F?ge:Ce,z[j++]=16&F?ge:Ce,z[j++]=8&F?ge:Ce,z[j++]=4&F?ge:Ce,z[j++]=2&F?ge:Ce,z[j++]=1&F?ge:Ce;for(;ke<Te;ke++)0===te&&(F=V[U++],te=128),z[j++]=F&te?ge:Ce,te>>=1}for(;j<ye;)z[j++]=0;T.putImageData(E,0,Y*i)}}else if(o.kind===p.ImageKind.RGBA_32BPP){const I=!!(ee||oe||Q);for(ie=0,Se=l*i*4,Y=0;Y<P;Y++){if(G.set(V.subarray(U,U+Se)),U+=Se,I)for(let z=0;z<Se;z+=4)ee&&(G[z+0]=ee[G[z+0]]),oe&&(G[z+1]=oe[G[z+1]]),Q&&(G[z+2]=Q[G[z+2]]);T.putImageData(E,0,ie),ie+=i}if(Y<C){if(Se=l*f*4,G.set(V.subarray(U,U+Se)),I)for(let z=0;z<Se;z+=4)ee&&(G[z+0]=ee[G[z+0]]),oe&&(G[z+1]=oe[G[z+1]]),Q&&(G[z+2]=Q[G[z+2]]);T.putImageData(E,0,ie)}}else{if(o.kind!==p.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${o.kind}`);{const I=!!(ee||oe||Q);for(pe=i,Se=l*pe,Y=0;Y<C;Y++){for(Y>=P&&(pe=f,Se=l*pe),j=0,ie=Se;ie--;)G[j++]=V[U++],G[j++]=V[U++],G[j++]=V[U++],G[j++]=255;if(I)for(let z=0;z<j;z+=4)ee&&(G[z+0]=ee[G[z+0]]),oe&&(G[z+1]=oe[G[z+1]]),Q&&(G[z+2]=Q[G[z+2]]);T.putImageData(E,0,Y*i)}}}}function b(T,o){if(o.bitmap)return void T.drawImage(o.bitmap,0,0);const c=o.height,t=o.width,l=c%i,f=(c-l)/i,P=0===l?f:f+1,C=T.createImageData(t,i);let E=0;const U=o.data,j=C.data;for(let V=0;V<P;V++){const G=V<f?i:l;({srcPos:E}=(0,ae.applyMaskImageData)({src:U,srcPos:E,dest:j,width:t,height:G})),T.putImageData(C,0,V*i)}}function y(T,o){const c=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let t=0,l=c.length;t<l;t++){const f=c[t];void 0!==T[f]&&(o[f]=T[f])}void 0!==T.setLineDash&&(o.setLineDash(T.getLineDash()),o.lineDashOffset=T.lineDashOffset)}function k(T,o){T.strokeStyle=T.fillStyle=o||"#000000",T.fillRule="nonzero",T.globalAlpha=1,T.lineWidth=1,T.lineCap="butt",T.lineJoin="miter",T.miterLimit=10,T.globalCompositeOperation="source-over",T.font="10px sans-serif",void 0!==T.setLineDash&&(T.setLineDash([]),T.lineDashOffset=0)}function L(T,o,c,t){const l=T.length;for(let f=3;f<l;f+=4){const P=T[f];if(0===P)T[f-3]=o,T[f-2]=c,T[f-1]=t;else if(P<255){const C=255-P;T[f-3]=T[f-3]*P+o*C>>8,T[f-2]=T[f-2]*P+c*C>>8,T[f-1]=T[f-1]*P+t*C>>8}}}function R(T,o,c){const t=T.length;for(let f=3;f<t;f+=4)o[f]=o[f]*(c?c[T[f]]:T[f])*.00392156862745098|0}function N(T,o,c){const t=T.length;for(let l=3;l<t;l+=4){const f=77*T[l-3]+152*T[l-2]+28*T[l-1];o[l]=c?o[l]*c[f>>8]>>8:o[l]*f>>16}}function ne(T,o){const c=p.Util.singularValueDecompose2dScale(T);c[0]=Math.fround(c[0]),c[1]=Math.fround(c[1]);const t=Math.fround((globalThis.devicePixelRatio||1)*K.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==o?o:c[0]<=t||c[1]<=t}const B=["butt","round","square"],q=["miter","round","bevel"],J={},re={};class le{constructor(o,c,t,l,f,P,C,E){this.ctx=o,this.current=new s(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=c,this.objs=t,this.canvasFactory=l,this.imageLayer=f,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=P,this.cachedCanvases=new e(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=C,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=E?.background||null,this.foregroundColor=E?.foreground||null,o&&w(o),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(o,c=null){return"string"==typeof o?o.startsWith("g_")?this.commonObjs.get(o):this.objs.get(o):c}beginDrawing({transform:o,viewport:c,transparency:t=!1,background:l=null}){const f=this.ctx.canvas.width,P=this.ctx.canvas.height,C=l||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const E=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const U=this.backgroundColor=this.ctx.fillStyle;let j=!0,V=C;if(this.ctx.fillStyle=C,V=this.ctx.fillStyle,j="string"==typeof V&&/^#[0-9A-Fa-f]{6}$/.test(V),"#000000"===E&&"#ffffff"===U||E===U||!j)this.foregroundColor=this.backgroundColor=null;else{const G=parseInt(V.slice(1),16),ie=(G&&65280)>>8,pe=G&&255,Se=oe=>(oe/=255)<=.03928?oe/12.92:((oe+.055)/1.055)**2.4,ee=Math.round(.2126*Se((G&&16711680)>>16)+.7152*Se(ie)+.0722*Se(pe));this.selectColor=(oe,Q,v)=>{const I=.2126*Se(oe)+.7152*Se(Q)+.0722*Se(v);return Math.round(I)===ee?U:E}}}if(this.ctx.fillStyle=this.backgroundColor||C,this.ctx.fillRect(0,0,f,P),this.ctx.restore(),t){const E=this.cachedCanvases.getCanvas("transparent",f,P,!0);this.compositeCtx=this.ctx,this.transparentCanvas=E.canvas,this.ctx=E.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),k(this.ctx,this.foregroundColor),o&&(this.ctx.transform.apply(this.ctx,o),this.outputScaleX=o[0],this.outputScaleY=o[0]),this.ctx.transform.apply(this.ctx,c.transform),this.viewportScale=c.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(o,c,t,l){const f=o.argsArray,P=o.fnArray;let C=c||0;const E=f.length;if(E===C)return C;const U=E-C>10&&"function"==typeof t,j=U?Date.now()+15:0;let V=0;const G=this.commonObjs,Y=this.objs;let ie;for(;;){if(void 0!==l&&C===l.nextBreakPoint)return l.breakIt(C,t),C;if(ie=P[C],ie!==p.OPS.dependency)this[ie].apply(this,f[C]);else for(const pe of f[C]){const Se=pe.startsWith("g_")?G:Y;if(!Se.has(pe))return Se.get(pe,t),C}if(C++,C===E)return C;if(U&&++V>10){if(Date.now()>j)return t(),C;V=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const o of this._cachedBitmapsMap.values()){for(const c of o.values())typeof HTMLCanvasElement<"u"&&c instanceof HTMLCanvasElement&&(c.width=c.height=0);o.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(o,c){const t=o.width,l=o.height;let j,V,f=Math.max(Math.hypot(c[0],c[1]),1),P=Math.max(Math.hypot(c[2],c[3]),1),C=t,E=l,U="prescale1";for(;f>2&&C>1||P>2&&E>1;){let G=C,Y=E;f>2&&C>1&&(G=Math.ceil(C/2),f/=C/G),P>2&&E>1&&(Y=Math.ceil(E/2),P/=E/Y),j=this.cachedCanvases.getCanvas(U,G,Y,!1),V=j.context,V.clearRect(0,0,G,Y),V.drawImage(o,0,0,C,E,0,0,G,Y),o=j.canvas,C=G,E=Y,U="prescale1"===U?"prescale2":"prescale1"}return{img:o,paintWidth:C,paintHeight:E}}_createMaskCanvas(o){const c=this.ctx,{width:t,height:l}=o,f=this.current.fillColor,P=this.current.patternFill,C=c.mozCurrentTransform;let E,U,j,V;if((o.bitmap||o.data)&&o.count>1){const ye=o.bitmap||o.data.buffer,Ae=C.slice(0,4);U=JSON.stringify(P?Ae:[Ae,f]),E=this._cachedBitmapsMap.get(ye),E||(E=new Map,this._cachedBitmapsMap.set(ye,E));const ge=E.get(U);if(ge&&!P)return{canvas:ge,offsetX:Math.round(Math.min(C[0],C[2])+C[4]),offsetY:Math.round(Math.min(C[1],C[3])+C[5])};j=ge}j||(V=this.cachedCanvases.getCanvas("maskCanvas",t,l,!1),b(V.context,o));let G=p.Util.transform(C,[1/t,0,0,-1/l,0,0]);G=p.Util.transform(G,[1,0,0,1,0,-l]);const Y=p.Util.applyTransform([0,0],G),ie=p.Util.applyTransform([t,l],G),pe=p.Util.normalizeRect([Y[0],Y[1],ie[0],ie[1]]),Se=Math.round(pe[2]-pe[0])||1,ee=Math.round(pe[3]-pe[1])||1,oe=this.cachedCanvases.getCanvas("fillCanvas",Se,ee,!0),Q=oe.context,v=Math.min(Y[0],ie[0]),I=Math.min(Y[1],ie[1]);Q.translate(-v,-I),Q.transform.apply(Q,G),j||(j=this._scaleImage(V.canvas,Q.mozCurrentTransformInverse),j=j.img,E&&P&&E.set(U,j)),Q.imageSmoothingEnabled=ne(Q.mozCurrentTransform,o.interpolate),d(Q,j,0,0,j.width,j.height,0,0,t,l),Q.globalCompositeOperation="source-in";const z=p.Util.transform(Q.mozCurrentTransformInverse,[1,0,0,1,-v,-I]);return Q.fillStyle=P?f.getPattern(c,this,z,de.PathType.FILL):f,Q.fillRect(0,0,t,l),E&&!P&&(this.cachedCanvases.delete("fillCanvas"),E.set(U,oe.canvas)),{canvas:oe.canvas,offsetX:Math.round(v),offsetY:Math.round(I)}}setLineWidth(o){o!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=o,this.ctx.lineWidth=o}setLineCap(o){this.ctx.lineCap=B[o]}setLineJoin(o){this.ctx.lineJoin=q[o]}setMiterLimit(o){this.ctx.miterLimit=o}setDash(o,c){const t=this.ctx;void 0!==t.setLineDash&&(t.setLineDash(o),t.lineDashOffset=c)}setRenderingIntent(o){}setFlatness(o){}setGState(o){for(let c=0,t=o.length;c<t;c++){const l=o[c],P=l[1];switch(l[0]){case"LW":this.setLineWidth(P);break;case"LC":this.setLineCap(P);break;case"LJ":this.setLineJoin(P);break;case"ML":this.setMiterLimit(P);break;case"D":this.setDash(P[0],P[1]);break;case"RI":this.setRenderingIntent(P);break;case"FL":this.setFlatness(P);break;case"Font":this.setFont(P[0],P[1]);break;case"CA":this.current.strokeAlpha=l[1];break;case"ca":this.current.fillAlpha=l[1],this.ctx.globalAlpha=l[1];break;case"BM":this.ctx.globalCompositeOperation=P;break;case"SMask":this.current.activeSMask=P?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=P}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const o=this.inSMaskMode;this.current.activeSMask&&!o?this.beginSMaskMode():!this.current.activeSMask&&o&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const l=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=l.context;const f=this.ctx;f.setTransform.apply(f,this.suspendedCtx.mozCurrentTransform),y(this.suspendedCtx,f),function u(T,o){if(T._removeMirroring)throw new Error("Context is already forwarding operations.");T.__originalSave=T.save,T.__originalRestore=T.restore,T.__originalRotate=T.rotate,T.__originalScale=T.scale,T.__originalTranslate=T.translate,T.__originalTransform=T.transform,T.__originalSetTransform=T.setTransform,T.__originalResetTransform=T.resetTransform,T.__originalClip=T.clip,T.__originalMoveTo=T.moveTo,T.__originalLineTo=T.lineTo,T.__originalBezierCurveTo=T.bezierCurveTo,T.__originalRect=T.rect,T.__originalClosePath=T.closePath,T.__originalBeginPath=T.beginPath,T._removeMirroring=()=>{T.save=T.__originalSave,T.restore=T.__originalRestore,T.rotate=T.__originalRotate,T.scale=T.__originalScale,T.translate=T.__originalTranslate,T.transform=T.__originalTransform,T.setTransform=T.__originalSetTransform,T.resetTransform=T.__originalResetTransform,T.clip=T.__originalClip,T.moveTo=T.__originalMoveTo,T.lineTo=T.__originalLineTo,T.bezierCurveTo=T.__originalBezierCurveTo,T.rect=T.__originalRect,T.closePath=T.__originalClosePath,T.beginPath=T.__originalBeginPath,delete T._removeMirroring},T.save=function(){o.save(),this.__originalSave()},T.restore=function(){o.restore(),this.__originalRestore()},T.translate=function(t,l){o.translate(t,l),this.__originalTranslate(t,l)},T.scale=function(t,l){o.scale(t,l),this.__originalScale(t,l)},T.transform=function(t,l,f,P,C,E){o.transform(t,l,f,P,C,E),this.__originalTransform(t,l,f,P,C,E)},T.setTransform=function(t,l,f,P,C,E){o.setTransform(t,l,f,P,C,E),this.__originalSetTransform(t,l,f,P,C,E)},T.resetTransform=function(){o.resetTransform(),this.__originalResetTransform()},T.rotate=function(t){o.rotate(t),this.__originalRotate(t)},T.clip=function(t){o.clip(t),this.__originalClip(t)},T.moveTo=function(c,t){o.moveTo(c,t),this.__originalMoveTo(c,t)},T.lineTo=function(c,t){o.lineTo(c,t),this.__originalLineTo(c,t)},T.bezierCurveTo=function(c,t,l,f,P,C){o.bezierCurveTo(c,t,l,f,P,C),this.__originalBezierCurveTo(c,t,l,f,P,C)},T.rect=function(c,t,l,f){o.rect(c,t,l,f),this.__originalRect(c,t,l,f)},T.closePath=function(){o.closePath(),this.__originalClosePath()},T.beginPath=function(){o.beginPath(),this.__originalBeginPath()}}(f,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),y(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(o){this.current.activeSMask&&(o?(o[0]=Math.floor(o[0]),o[1]=Math.floor(o[1]),o[2]=Math.ceil(o[2]),o[3]=Math.ceil(o[3])):o=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function X(T,o,c,t){const l=t[0],f=t[1],P=t[2]-l,C=t[3]-f;0===P||0===C||(function H(T,o,c,t,l,f,P,C,E,U,j){const V=!!f,G=V?f[0]:0,Y=V?f[1]:0,ie=V?f[2]:0;let pe;pe="Luminosity"===l?N:R;const ee=Math.min(t,Math.ceil(1048576/c));for(let oe=0;oe<t;oe+=ee){const Q=Math.min(ee,t-oe),v=T.getImageData(C-U,oe+(E-j),c,Q),I=o.getImageData(C,oe+E,c,Q);V&&L(v.data,G,Y,ie),pe(v.data,I.data,P),o.putImageData(I,C,oe+E)}}(o.context,c,P,C,o.subtype,o.backdrop,o.transferMap,l,f,o.offsetX,o.offsetY),T.save(),T.globalAlpha=1,T.globalCompositeOperation="source-over",T.setTransform(1,0,0,1,0,0),T.drawImage(c.canvas,0,0),T.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,o),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(y(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const o=this.current;this.stateStack.push(o),this.current=o.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),y(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(o,c,t,l,f,P){this.ctx.transform(o,c,t,l,f,P),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(o,c,t){const l=this.ctx,f=this.current;let E,U,P=f.x,C=f.y;const j=l.mozCurrentTransform,V=0===j[0]&&0===j[3]||0===j[1]&&0===j[2],G=V?t.slice(0):null;for(let Y=0,ie=0,pe=o.length;Y<pe;Y++)switch(0|o[Y]){case p.OPS.rectangle:P=c[ie++],C=c[ie++];const Se=c[ie++],ee=c[ie++],oe=P+Se,Q=C+ee;l.moveTo(P,C),0===Se||0===ee?l.lineTo(oe,Q):(l.lineTo(oe,C),l.lineTo(oe,Q),l.lineTo(P,Q)),V||f.updateRectMinMax(j,[P,C,oe,Q]),l.closePath();break;case p.OPS.moveTo:P=c[ie++],C=c[ie++],l.moveTo(P,C),V||f.updatePathMinMax(j,P,C);break;case p.OPS.lineTo:P=c[ie++],C=c[ie++],l.lineTo(P,C),V||f.updatePathMinMax(j,P,C);break;case p.OPS.curveTo:E=P,U=C,P=c[ie+4],C=c[ie+5],l.bezierCurveTo(c[ie],c[ie+1],c[ie+2],c[ie+3],P,C),f.updateCurvePathMinMax(j,E,U,c[ie],c[ie+1],c[ie+2],c[ie+3],P,C,G),ie+=6;break;case p.OPS.curveTo2:E=P,U=C,l.bezierCurveTo(P,C,c[ie],c[ie+1],c[ie+2],c[ie+3]),f.updateCurvePathMinMax(j,E,U,P,C,c[ie],c[ie+1],c[ie+2],c[ie+3],G),P=c[ie+2],C=c[ie+3],ie+=4;break;case p.OPS.curveTo3:E=P,U=C,P=c[ie+2],C=c[ie+3],l.bezierCurveTo(c[ie],c[ie+1],P,C,P,C),f.updateCurvePathMinMax(j,E,U,c[ie],c[ie+1],P,C,P,C,G),ie+=4;break;case p.OPS.closePath:l.closePath()}V&&f.updateScalingPathMinMax(j,G),f.setCurrentPoint(P,C)}closePath(){this.ctx.closePath()}stroke(o){o=!(typeof o<"u")||o;const c=this.ctx,t=this.current.strokeColor;c.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof t&&t?.getPattern?(c.save(),c.strokeStyle=t.getPattern(c,this,c.mozCurrentTransformInverse,de.PathType.STROKE),this.rescaleAndStroke(!1),c.restore()):this.rescaleAndStroke(!0)),o&&this.consumePath(this.current.getClippedPathBoundingBox()),c.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(o){o=!(typeof o<"u")||o;const c=this.ctx,t=this.current.fillColor;let f=!1;this.current.patternFill&&(c.save(),c.fillStyle=t.getPattern(c,this,c.mozCurrentTransformInverse,de.PathType.FILL),f=!0);const P=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==P&&(this.pendingEOFill?(c.fill("evenodd"),this.pendingEOFill=!1):c.fill()),f&&c.restore(),o&&this.consumePath(P)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=J}eoClip(){this.pendingClip=re}beginText(){this.current.textMatrix=p.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const o=this.pendingTextPaths,c=this.ctx;if(void 0!==o){c.save(),c.beginPath();for(let t=0;t<o.length;t++){const l=o[t];c.setTransform.apply(c,l.transform),c.translate(l.x,l.y),l.addToPath(c,l.fontSize)}c.restore(),c.clip(),c.beginPath(),delete this.pendingTextPaths}else c.beginPath()}setCharSpacing(o){this.current.charSpacing=o}setWordSpacing(o){this.current.wordSpacing=o}setHScale(o){this.current.textHScale=o/100}setLeading(o){this.current.leading=-o}setFont(o,c){const t=this.commonObjs.get(o),l=this.current;if(!t)throw new Error(`Can't find font for ${o}`);if(l.fontMatrix=t.fontMatrix||p.FONT_IDENTITY_MATRIX,(0===l.fontMatrix[0]||0===l.fontMatrix[3])&&(0,p.warn)("Invalid font matrix for font "+o),c<0?(c=-c,l.fontDirection=-1):l.fontDirection=1,this.current.font=t,this.current.fontSize=c,t.isType3Font)return;let P="normal";t.black?P="900":t.bold&&(P="bold");const C=t.italic?"italic":"normal",E=`"${t.loadedName||"sans-serif"}", ${t.fallbackName}`;let U=c;c<16?U=16:c>100&&(U=100),this.current.fontSizeScale=c/U,this.ctx.font=`${C} ${P} ${U}px ${E}`}setTextRenderingMode(o){this.current.textRenderingMode=o}setTextRise(o){this.current.textRise=o}moveText(o,c){this.current.x=this.current.lineX+=o,this.current.y=this.current.lineY+=c}setLeadingMoveText(o,c){this.setLeading(-c),this.moveText(o,c)}setTextMatrix(o,c,t,l,f,P){this.current.textMatrix=[o,c,t,l,f,P],this.current.textMatrixScale=Math.hypot(o,c),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(o,c,t,l){const f=this.ctx,P=this.current,C=P.font,E=P.textRenderingMode,U=P.fontSize/P.fontSizeScale,j=E&p.TextRenderingMode.FILL_STROKE_MASK,V=!!(E&p.TextRenderingMode.ADD_TO_PATH_FLAG),G=P.patternFill&&!C.missingFile;let Y;(C.disableFontFace||V||G)&&(Y=C.getPathGenerator(this.commonObjs,o)),C.disableFontFace||G?(f.save(),f.translate(c,t),f.beginPath(),Y(f,U),l&&f.setTransform.apply(f,l),(j===p.TextRenderingMode.FILL||j===p.TextRenderingMode.FILL_STROKE)&&f.fill(),(j===p.TextRenderingMode.STROKE||j===p.TextRenderingMode.FILL_STROKE)&&f.stroke(),f.restore()):((j===p.TextRenderingMode.FILL||j===p.TextRenderingMode.FILL_STROKE)&&f.fillText(o,c,t),(j===p.TextRenderingMode.STROKE||j===p.TextRenderingMode.FILL_STROKE)&&f.strokeText(o,c,t)),V&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:f.mozCurrentTransform,x:c,y:t,fontSize:U,addToPath:Y})}get isFontSubpixelAAEnabled(){const{context:o}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10,!1);o.scale(1.5,1),o.fillText("I",0,10);const c=o.getImageData(0,0,10,10).data;let t=!1;for(let l=3;l<c.length;l+=4)if(c[l]>0&&c[l]<255){t=!0;break}return(0,p.shadow)(this,"isFontSubpixelAAEnabled",t)}showText(o){const c=this.current,t=c.font;if(t.isType3Font)return this.showType3Text(o);const l=c.fontSize;if(0===l)return;const f=this.ctx,P=c.fontSizeScale,C=c.charSpacing,E=c.wordSpacing,U=c.fontDirection,j=c.textHScale*U,V=o.length,G=t.vertical,Y=G?1:-1,ie=t.defaultVMetrics,pe=l*c.fontMatrix[0],Se=c.textRenderingMode===p.TextRenderingMode.FILL&&!t.disableFontFace&&!c.patternFill;let ee;if(f.save(),f.transform.apply(f,c.textMatrix),f.translate(c.x,c.y+c.textRise),f.scale(j,U>0?-1:1),c.patternFill){f.save();const z=c.fillColor.getPattern(f,this,f.mozCurrentTransformInverse,de.PathType.FILL);ee=f.mozCurrentTransform,f.restore(),f.fillStyle=z}let oe=c.lineWidth;const Q=c.textMatrixScale;if(0===Q||0===oe){const z=c.textRenderingMode&p.TextRenderingMode.FILL_STROKE_MASK;(z===p.TextRenderingMode.STROKE||z===p.TextRenderingMode.FILL_STROKE)&&(oe=this.getSinglePixelWidth())}else oe/=Q;1!==P&&(f.scale(P,P),oe/=P),f.lineWidth=oe;let I,v=0;for(I=0;I<V;++I){const z=o[I];if("number"==typeof z){v+=Y*z*l/1e3;continue}let ye=!1;const Ae=(z.isSpace?E:0)+C,ge=z.fontChar,Ce=z.accent;let _e,ke,Oe,Te=z.width;if(G){const te=z.vmetric||ie,F=-(z.vmetric?te[1]:.5*Te)*pe;Te=te?-te[0]:Te,_e=F/P,ke=(v+te[2]*pe)/P}else _e=v/P,ke=0;if(t.remeasure&&Te>0){const te=1e3*f.measureText(ge).width/l*P;if(Te<te&&this.isFontSubpixelAAEnabled){const F=Te/te;ye=!0,f.save(),f.scale(F,1),_e/=F}else Te!==te&&(_e+=(Te-te)/2e3*l/P)}this.contentVisible&&(z.isInFont||t.missingFile)&&(Se&&!Ce?f.fillText(ge,_e,ke):(this.paintChar(ge,_e,ke,ee),Ce&&this.paintChar(Ce.fontChar,_e+l*Ce.offset.x/P,ke-l*Ce.offset.y/P,ee))),Oe=G?Te*pe-Ae*U:Te*pe+Ae*U,v+=Oe,ye&&f.restore()}G?c.y-=v:c.x+=v*j,f.restore(),this.compose()}showType3Text(o){const c=this.ctx,t=this.current,l=t.font,f=t.fontSize,P=t.fontDirection,C=l.vertical?1:-1,E=t.charSpacing,U=t.wordSpacing,j=t.textHScale*P,V=t.fontMatrix||p.FONT_IDENTITY_MATRIX,G=o.length;let ie,pe,Se,ee;if(t.textRenderingMode!==p.TextRenderingMode.INVISIBLE&&0!==f){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,c.save(),c.transform.apply(c,t.textMatrix),c.translate(t.x,t.y),c.scale(j,P),ie=0;ie<G;++ie){if(pe=o[ie],"number"==typeof pe){ee=C*pe*f/1e3,this.ctx.translate(ee,0),t.x+=ee*j;continue}const oe=(pe.isSpace?U:0)+E,Q=l.charProcOperatorList[pe.operatorListId];Q?(this.contentVisible&&(this.processingType3=pe,this.save(),c.scale(f,f),c.transform.apply(c,V),this.executeOperatorList(Q),this.restore()),Se=p.Util.applyTransform([pe.width,0],V)[0]*f+oe,c.translate(Se,0),t.x+=Se*j):(0,p.warn)(`Type3 character "${pe.operatorListId}" is not available.`)}c.restore(),this.processingType3=null}}setCharWidth(o,c){}setCharWidthAndBounds(o,c,t,l,f,P){this.ctx.rect(t,l,f-t,P-l),this.ctx.clip(),this.endPath()}getColorN_Pattern(o){let c;if("TilingPattern"===o[0]){const t=o[1],l=this.baseTransform||this.ctx.mozCurrentTransform.slice();c=new de.TilingPattern(o,t,this.ctx,{createCanvasGraphics:P=>new le(P,this.commonObjs,this.objs,this.canvasFactory)},l)}else c=this._getPattern(o[1],o[2]);return c}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(o,c,t){const l=this.selectColor?.(o,c,t)||p.Util.makeHexColor(o,c,t);this.ctx.strokeStyle=l,this.current.strokeColor=l}setFillRGBColor(o,c,t){const l=this.selectColor?.(o,c,t)||p.Util.makeHexColor(o,c,t);this.ctx.fillStyle=l,this.current.fillColor=l,this.current.patternFill=!1}_getPattern(o,c=null){let t;return this.cachedPatterns.has(o)?t=this.cachedPatterns.get(o):(t=(0,de.getShadingPattern)(this.objs.get(o)),this.cachedPatterns.set(o,t)),c&&(t.matrix=c),t}shadingFill(o){if(!this.contentVisible)return;const c=this.ctx;this.save();const t=this._getPattern(o);c.fillStyle=t.getPattern(c,this,c.mozCurrentTransformInverse,de.PathType.SHADING);const l=c.mozCurrentTransformInverse;if(l){const f=c.canvas,P=f.width,C=f.height,E=p.Util.applyTransform([0,0],l),U=p.Util.applyTransform([0,C],l),j=p.Util.applyTransform([P,0],l),V=p.Util.applyTransform([P,C],l),G=Math.min(E[0],U[0],j[0],V[0]),Y=Math.min(E[1],U[1],j[1],V[1]),ie=Math.max(E[0],U[0],j[0],V[0]),pe=Math.max(E[1],U[1],j[1],V[1]);this.ctx.fillRect(G,Y,ie-G,pe-Y)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,p.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,p.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(o,c){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(o)&&6===o.length&&this.transform.apply(this,o),this.baseTransform=this.ctx.mozCurrentTransform,c)&&(this.ctx.rect(c[0],c[1],c[2]-c[0],c[3]-c[1]),this.current.updateRectMinMax(this.ctx.mozCurrentTransform,c),this.clip(),this.endPath())}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(o){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const c=this.ctx;o.isolated||(0,p.info)("TODO: Support non-isolated groups."),o.knockout&&(0,p.warn)("Knockout groups not supported.");const t=c.mozCurrentTransform;if(o.matrix&&c.transform.apply(c,o.matrix),!o.bbox)throw new Error("Bounding box is required.");let l=p.Util.getAxialAlignedBoundingBox(o.bbox,c.mozCurrentTransform);l=p.Util.intersect(l,[0,0,c.canvas.width,c.canvas.height])||[0,0,0,0];const P=Math.floor(l[0]),C=Math.floor(l[1]);let E=Math.max(Math.ceil(l[2])-P,1),U=Math.max(Math.ceil(l[3])-C,1),j=1,V=1;E>S&&(j=E/S,E=S),U>S&&(V=U/S,U=S),this.current.startNewPathAndClipBox([0,0,E,U]);let G="groupAt"+this.groupLevel;o.smask&&(G+="_smask_"+this.smaskCounter++%2);const Y=this.cachedCanvases.getCanvas(G,E,U,!0),ie=Y.context;ie.scale(1/j,1/V),ie.translate(-P,-C),ie.transform.apply(ie,t),o.smask?this.smaskStack.push({canvas:Y.canvas,context:ie,offsetX:P,offsetY:C,scaleX:j,scaleY:V,subtype:o.smask.subtype,backdrop:o.smask.backdrop,transferMap:o.smask.transferMap||null,startTransformInverse:null}):(c.setTransform(1,0,0,1,0,0),c.translate(P,C),c.scale(j,V),c.save()),y(c,ie),this.ctx=ie,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(c),this.groupLevel++}endGroup(o){if(!this.contentVisible)return;this.groupLevel--;const c=this.ctx,t=this.groupStack.pop();if(this.ctx=t,this.ctx.imageSmoothingEnabled=!1,o.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const l=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,l);const f=p.Util.getAxialAlignedBoundingBox([0,0,c.canvas.width,c.canvas.height],l);this.ctx.drawImage(c.canvas,0,0),this.ctx.restore(),this.compose(f)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(o,c,t,l,f){if(this.save(),Array.isArray(c)&&4===c.length){const P=c[2]-c[0],C=c[3]-c[1];if(f&&this.annotationCanvasMap){(t=t.slice())[4]-=c[0],t[5]-=c[1],(c=c.slice())[0]=c[1]=0,c[2]=P,c[3]=C;const[E,U]=p.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:j}=this,V=Math.ceil(P*this.outputScaleX*j),G=Math.ceil(C*this.outputScaleY*j);this.annotationCanvas=this.canvasFactory.create(V,G);const{canvas:Y,context:ie}=this.annotationCanvas,pe=`var(--zoom-factor) * ${K.PixelsPerInch.PDF_TO_CSS_UNITS}`;Y.style.width=`calc(${P}px * ${pe})`,Y.style.height=`calc(${C}px * ${pe})`,this.annotationCanvasMap.set(o,Y),this.annotationCanvas.savedCtx=this.ctx,this.ctx=ie,this.ctx.setTransform(E,0,0,-U,0,C*U),w(this.ctx),k(this.ctx,this.foregroundColor)}else k(this.ctx,this.foregroundColor),this.ctx.rect(c[0],c[1],P,C),this.ctx.clip(),this.endPath()}this.current=new s(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,t),this.transform.apply(this,l)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(o){if(!this.contentVisible)return;const c=o.count;(o=this.getObject(o.data,o)).count=c;const t=this.ctx,l=this.processingType3;if(l&&(void 0===l.compiled&&(l.compiled=function n(T){const{width:o,height:c}=T;if(o>1e3||c>1e3)return null;const l=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),f=o+1;let C,E,U,P=new Uint8Array(f*(c+1));const j=o+7&-8;let V=new Uint8Array(j*c),G=0;for(const Q of T.data){let v=128;for(;v>0;)V[G++]=Q&v?0:255,v>>=1}let Y=0;for(G=0,0!==V[G]&&(P[0]=1,++Y),E=1;E<o;E++)V[G]!==V[G+1]&&(P[E]=V[G]?2:1,++Y),G++;for(0!==V[G]&&(P[E]=2,++Y),C=1;C<c;C++){G=C*j,U=C*f,V[G-j]!==V[G]&&(P[U]=V[G]?1:8,++Y);let Q=(V[G]?4:0)+(V[G-j]?8:0);for(E=1;E<o;E++)Q=(Q>>2)+(V[G+1]?4:0)+(V[G-j+1]?8:0),l[Q]&&(P[U+E]=l[Q],++Y),G++;if(V[G-j]!==V[G]&&(P[U+E]=V[G]?2:4,++Y),Y>1e3)return null}for(G=j*(c-1),U=C*f,0!==V[G]&&(P[U]=8,++Y),E=1;E<o;E++)V[G]!==V[G+1]&&(P[U+E]=V[G]?4:8,++Y),G++;if(0!==V[G]&&(P[U+E]=4,++Y),Y>1e3)return null;const ie=new Int32Array([0,f,-1,0,-f,0,0,0,1]);let pe,Se,ee;for($.isNodeJS?Se=[]:pe=new Path2D,C=0;Y&&C<=c;C++){let Q=C*f;const v=Q+o;for(;Q<v&&!P[Q];)Q++;if(Q===v)continue;pe?pe.moveTo(Q%f,C):ee=[Q%f,C];const I=Q;let z=P[Q];do{const ye=ie[z];do{Q+=ye}while(!P[Q]);const Ae=P[Q];5!==Ae&&10!==Ae?(z=Ae,P[Q]=0):(z=Ae&51*z>>4,P[Q]&=z>>2|z<<2),pe?pe.lineTo(Q%f,Q/f|0):ee.push(Q%f,Q/f|0),P[Q]||--Y}while(I!==Q);pe||Se.push(ee),--C}return V=null,P=null,function(Q){if(Q.save(),Q.scale(1/o,-1/c),Q.translate(0,-c),pe)Q.fill(pe);else{Q.beginPath();for(const v of Se){Q.moveTo(v[0],v[1]);for(let I=2,z=v.length;I<z;I+=2)Q.lineTo(v[I],v[I+1])}Q.fill()}Q.beginPath(),Q.restore()}}(o)),l.compiled))return void l.compiled(t);const f=this._createMaskCanvas(o),P=f.canvas;t.save(),t.setTransform(1,0,0,1,0,0),t.drawImage(P,f.offsetX,f.offsetY),t.restore(),this.compose()}paintImageMaskXObjectRepeat(o,c,t=0,l=0,f,P){if(!this.contentVisible)return;o=this.getObject(o.data,o);const C=this.ctx;C.save();const E=C.mozCurrentTransform;C.transform(c,t,l,f,0,0);const U=this._createMaskCanvas(o);C.setTransform(1,0,0,1,0,0);for(let j=0,V=P.length;j<V;j+=2){const G=p.Util.transform(E,[c,t,l,f,P[j],P[j+1]]),[Y,ie]=p.Util.applyTransform([0,0],G);C.drawImage(U.canvas,Y,ie)}C.restore(),this.compose()}paintImageMaskXObjectGroup(o){if(!this.contentVisible)return;const c=this.ctx,t=this.current.fillColor,l=this.current.patternFill;for(let f=0,P=o.length;f<P;f++){const C=o[f],E=C.width,U=C.height,j=this.cachedCanvases.getCanvas("maskCanvas",E,U,!1),V=j.context;V.save(),b(V,C),V.globalCompositeOperation="source-in",V.fillStyle=l?t.getPattern(V,this,c.mozCurrentTransformInverse,de.PathType.FILL):t,V.fillRect(0,0,E,U),V.restore(),c.save(),c.transform.apply(c,C.transform),c.scale(1,-1),d(c,j.canvas,0,0,E,U,0,-1,1,1),c.restore()}this.compose()}paintImageXObject(o){if(!this.contentVisible)return;const c=this.getObject(o);c?this.paintInlineImageXObject(c):(0,p.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(o,c,t,l){if(!this.contentVisible)return;const f=this.getObject(o);if(!f)return void(0,p.warn)("Dependent image isn't ready yet");const P=f.width,C=f.height,E=[];for(let U=0,j=l.length;U<j;U+=2)E.push({transform:[c,0,0,t,l[U],l[U+1]],x:0,y:0,w:P,h:C});this.paintInlineImageXObjectGroup(f,E)}paintInlineImageXObject(o){if(!this.contentVisible)return;const c=o.width,t=o.height,l=this.ctx;let f;if(this.save(),l.scale(1/c,-1/t),"function"==typeof HTMLElement&&o instanceof HTMLElement||!o.data)f=o;else{const U=this.cachedCanvases.getCanvas("inlineImage",c,t,!1);A(U.context,o,this.current.transferMaps),f=U.canvas}const P=this._scaleImage(f,l.mozCurrentTransformInverse);l.imageSmoothingEnabled=ne(l.mozCurrentTransform,o.interpolate);const[C,E]=d(l,P.img,0,0,P.paintWidth,P.paintHeight,0,-t,c,t);if(this.imageLayer){const U=this.getCanvasPosition(0,-t);this.imageLayer.appendImage({imgData:o,left:U[0],top:U[1],width:C,height:E})}this.compose(),this.restore()}paintInlineImageXObjectGroup(o,c){if(!this.contentVisible)return;const t=this.ctx,l=o.width,f=o.height,P=this.cachedCanvases.getCanvas("inlineImage",l,f,!1);A(P.context,o,this.current.transferMaps);for(let E=0,U=c.length;E<U;E++){const j=c[E];if(t.save(),t.transform.apply(t,j.transform),t.scale(1,-1),d(t,P.canvas,j.x,j.y,j.w,j.h,0,-1,1,1),this.imageLayer){const V=this.getCanvasPosition(j.x,j.y);this.imageLayer.appendImage({imgData:o,left:V[0],top:V[1],width:l,height:f})}t.restore()}this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(o){}markPointProps(o,c){}beginMarkedContent(o){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(o,c){this.markedContentStack.push("OC"===o?{visible:this.optionalContentConfig.isVisible(c)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(o){const c=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(o);const t=this.ctx;this.pendingClip&&(c||(this.pendingClip===re?t.clip("evenodd"):t.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),t.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const o=this.ctx.mozCurrentTransform;if(0===o[1]&&0===o[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(o[0]),Math.abs(o[3]));else{const c=Math.abs(o[0]*o[3]-o[2]*o[1]),t=Math.hypot(o[0],o[2]),l=Math.hypot(o[1],o[3]);this._cachedGetSinglePixelWidth=Math.max(t,l)/c}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:o}=this.current,c=this.ctx.mozCurrentTransform;let t,l;if(0===c[1]&&0===c[2]){const f=Math.abs(c[0]),P=Math.abs(c[3]);if(0===o)t=1/f,l=1/P;else{const C=f*o,E=P*o;t=C<1?1/C:1,l=E<1?1/E:1}}else{const f=Math.abs(c[0]*c[3]-c[2]*c[1]),P=Math.hypot(c[0],c[1]),C=Math.hypot(c[2],c[3]);if(0===o)t=C/f,l=P/f;else{const E=o*f;t=C>E?C/E:1,l=P>E?P/E:1}}this._cachedScaleForStroking=[t,l]}return this._cachedScaleForStroking}rescaleAndStroke(o){const{ctx:c}=this,{lineWidth:t}=this.current,[l,f]=this.getScaleForStroking();if(c.lineWidth=t||1,1===l&&1===f)return void c.stroke();let P,C,E;o&&(P=c.mozCurrentTransform.slice(),C=c.getLineDash().slice(),E=c.lineDashOffset),c.scale(l,f);const U=Math.max(l,f);c.setLineDash(c.getLineDash().map(j=>j/U)),c.lineDashOffset/=U,c.stroke(),o&&(c.setTransform(...P),c.setLineDash(C),c.lineDashOffset=E)}getCanvasPosition(o,c){const t=this.ctx.mozCurrentTransform;return[t[0]*o+t[2]*c+t[4],t[1]*o+t[3]*c+t[5]]}isContentVisible(){for(let o=this.markedContentStack.length-1;o>=0;o--)if(!this.markedContentStack[o].visible)return!1;return!0}}M.CanvasGraphics=le;for(const T in p.OPS)void 0!==le.prototype[T]&&(le.prototype[p.OPS[T]]=le.prototype[T])},(be,M,se)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.TilingPattern=M.PathType=void 0,M.getShadingPattern=function a(r){switch(r[0]){case"RadialAxial":return new D(r);case"Mesh":return new m(r);case"Dummy":return new g}throw new Error(`Unknown IR type: ${r[0]}`)};var p=se(1),de=se(3);const ae={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function $(r,u){if(!u||de.isNodeJS)return;const w=u[2]-u[0],e=u[3]-u[1],d=new Path2D;d.rect(u[0],u[1],w,e),r.clip(d)}M.PathType=ae;class K{constructor(){this.constructor===K&&(0,p.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,p.unreachable)("Abstract method `getPattern` called.")}}class D extends K{constructor(u){super(),this._type=u[1],this._bbox=u[2],this._colorStops=u[3],this._p0=u[4],this._p1=u[5],this._r0=u[6],this._r1=u[7],this.matrix=null}_createGradient(u){let w;"axial"===this._type?w=u.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(w=u.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const e of this._colorStops)w.addColorStop(e[0],e[1]);return w}getPattern(u,w,e,d){let n;if(d===ae.STROKE||d===ae.FILL){const s=w.current.getClippedPathBoundingBox(d,u.mozCurrentTransform)||[0,0,0,0],A=Math.ceil(s[2]-s[0])||1,b=Math.ceil(s[3]-s[1])||1,y=w.cachedCanvases.getCanvas("pattern",A,b,!0),k=y.context;k.clearRect(0,0,k.canvas.width,k.canvas.height),k.beginPath(),k.rect(0,0,k.canvas.width,k.canvas.height),k.translate(-s[0],-s[1]),e=p.Util.transform(e,[1,0,0,1,s[0],s[1]]),k.transform.apply(k,w.baseTransform),this.matrix&&k.transform.apply(k,this.matrix),$(k,this._bbox),k.fillStyle=this._createGradient(k),k.fill(),n=u.createPattern(y.canvas,"no-repeat");const L=new DOMMatrix(e);try{n.setTransform(L)}catch(R){(0,p.warn)(`RadialAxialShadingPattern.getPattern: "${R?.message}".`)}}else $(u,this._bbox),n=this._createGradient(u);return n}}function h(r,u,w,e,d,n,s,A){const b=u.coords,y=u.colors,k=r.data,L=4*r.width;let R;b[w+1]>b[e+1]&&(R=w,w=e,e=R,R=n,n=s,s=R),b[e+1]>b[d+1]&&(R=e,e=d,d=R,R=s,s=A,A=R),b[w+1]>b[e+1]&&(R=w,w=e,e=R,R=n,n=s,s=R);const N=(b[w]+u.offsetX)*u.scaleX,H=(b[w+1]+u.offsetY)*u.scaleY,X=(b[e]+u.offsetX)*u.scaleX,ne=(b[e+1]+u.offsetY)*u.scaleY,B=(b[d]+u.offsetX)*u.scaleX,q=(b[d+1]+u.offsetY)*u.scaleY;if(H>=q)return;const J=y[n],re=y[n+1],le=y[n+2],T=y[s],o=y[s+1],c=y[s+2],t=y[A],l=y[A+1],f=y[A+2],P=Math.round(H),C=Math.round(q);let E,U,j,V,G,Y,ie,pe;for(let Se=P;Se<=C;Se++){if(Se<ne){let I;I=Se<H?0:(H-Se)/(H-ne),E=N-(N-X)*I,U=J-(J-T)*I,j=re-(re-o)*I,V=le-(le-c)*I}else{let I;I=Se>q?1:ne===q?0:(ne-Se)/(ne-q),E=X-(X-B)*I,U=T-(T-t)*I,j=o-(o-l)*I,V=c-(c-f)*I}let ee;ee=Se<H?0:Se>q?1:(H-Se)/(H-q),G=N-(N-B)*ee,Y=J-(J-t)*ee,ie=re-(re-l)*ee,pe=le-(le-f)*ee;const oe=Math.round(Math.min(E,G)),Q=Math.round(Math.max(E,G));let v=L*Se+4*oe;for(let I=oe;I<=Q;I++)ee=(E-I)/(E-G),ee<0?ee=0:ee>1&&(ee=1),k[v++]=U-(U-Y)*ee|0,k[v++]=j-(j-ie)*ee|0,k[v++]=V-(V-pe)*ee|0,k[v++]=255}}function S(r,u,w){const e=u.coords,d=u.colors;let n,s;switch(u.type){case"lattice":const A=u.verticesPerRow,b=Math.floor(e.length/A)-1,y=A-1;for(n=0;n<b;n++){let k=n*A;for(let L=0;L<y;L++,k++)h(r,w,e[k],e[k+1],e[k+A],d[k],d[k+1],d[k+A]),h(r,w,e[k+A+1],e[k+1],e[k+A],d[k+A+1],d[k+1],d[k+A])}break;case"triangles":for(n=0,s=e.length;n<s;n+=3)h(r,w,e[n],e[n+1],e[n+2],d[n],d[n+1],d[n+2]);break;default:throw new Error("illegal figure")}}class m extends K{constructor(u){super(),this._coords=u[2],this._colors=u[3],this._figures=u[4],this._bounds=u[5],this._bbox=u[7],this._background=u[8],this.matrix=null}_createMeshCanvas(u,w,e){const A=Math.floor(this._bounds[0]),b=Math.floor(this._bounds[1]),y=Math.ceil(this._bounds[2])-A,k=Math.ceil(this._bounds[3])-b,L=Math.min(Math.ceil(Math.abs(y*u[0]*1.1)),3e3),R=Math.min(Math.ceil(Math.abs(k*u[1]*1.1)),3e3),N=y/L,H=k/R,X={coords:this._coords,colors:this._colors,offsetX:-A,offsetY:-b,scaleX:1/N,scaleY:1/H},q=e.getCanvas("mesh",L+4,R+4,!1),J=q.context,re=J.createImageData(L,R);if(w){const T=re.data;for(let o=0,c=T.length;o<c;o+=4)T[o]=w[0],T[o+1]=w[1],T[o+2]=w[2],T[o+3]=255}for(const T of this._figures)S(re,T,X);return J.putImageData(re,2,2),{canvas:q.canvas,offsetX:A-2*N,offsetY:b-2*H,scaleX:N,scaleY:H}}getPattern(u,w,e,d){let n;if($(u,this._bbox),d===ae.SHADING)n=p.Util.singularValueDecompose2dScale(u.mozCurrentTransform);else if(n=p.Util.singularValueDecompose2dScale(w.baseTransform),this.matrix){const A=p.Util.singularValueDecompose2dScale(this.matrix);n=[n[0]*A[0],n[1]*A[1]]}const s=this._createMeshCanvas(n,d===ae.SHADING?null:this._background,w.cachedCanvases);return d!==ae.SHADING&&(u.setTransform.apply(u,w.baseTransform),this.matrix&&u.transform.apply(u,this.matrix)),u.translate(s.offsetX,s.offsetY),u.scale(s.scaleX,s.scaleY),u.createPattern(s.canvas,"no-repeat")}}class g extends K{getPattern(){return"hotpink"}}class i{static get MAX_PATTERN_SIZE(){return(0,p.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(u,w,e,d,n){this.operatorList=u[2],this.matrix=u[3]||[1,0,0,1,0,0],this.bbox=u[4],this.xstep=u[5],this.ystep=u[6],this.paintType=u[7],this.tilingType=u[8],this.color=w,this.ctx=e,this.canvasGraphicsFactory=d,this.baseTransform=n}createPatternCanvas(u){const w=this.operatorList,e=this.bbox,d=this.xstep,n=this.ystep,s=this.paintType,b=this.color,y=this.canvasGraphicsFactory;(0,p.info)("TilingType: "+this.tilingType);const k=e[0],L=e[1],R=e[2],N=e[3],H=p.Util.singularValueDecompose2dScale(this.matrix),X=p.Util.singularValueDecompose2dScale(this.baseTransform),ne=[H[0]*X[0],H[1]*X[1]],B=this.getSizeAndScale(d,this.ctx.canvas.width,ne[0]),q=this.getSizeAndScale(n,this.ctx.canvas.height,ne[1]),J=u.cachedCanvases.getCanvas("pattern",B.size,q.size,!0),re=J.context,le=y.createCanvasGraphics(re);le.groupLevel=u.groupLevel,this.setFillAndStrokeStyleToContext(le,s,b);let T=k,o=L,c=R,t=N;return k<0&&(T=0,c+=Math.abs(k)),L<0&&(o=0,t+=Math.abs(L)),re.translate(-B.scale*T,-q.scale*o),le.transform(B.scale,0,0,q.scale,0,0),re.save(),this.clipBbox(le,T,o,c,t),le.baseTransform=le.ctx.mozCurrentTransform.slice(),le.executeOperatorList(w),le.endDrawing(),{canvas:J.canvas,scaleX:B.scale,scaleY:q.scale,offsetX:T,offsetY:o}}getSizeAndScale(u,w,e){u=Math.abs(u);const d=Math.max(i.MAX_PATTERN_SIZE,w);let n=Math.ceil(u*e);return n>=d?n=d:e=n/u,{scale:e,size:n}}clipBbox(u,w,e,d,n){u.ctx.rect(w,e,d-w,n-e),u.current.updateRectMinMax(u.ctx.mozCurrentTransform,[w,e,d,n]),u.clip(),u.endPath()}setFillAndStrokeStyleToContext(u,w,e){const d=u.ctx,n=u.current;switch(w){case 1:const s=this.ctx;d.fillStyle=s.fillStyle,d.strokeStyle=s.strokeStyle,n.fillColor=s.fillStyle,n.strokeColor=s.strokeStyle;break;case 2:const A=p.Util.makeHexColor(e[0],e[1],e[2]);d.fillStyle=A,d.strokeStyle=A,n.fillColor=A,n.strokeColor=A;break;default:throw new p.FormatError(`Unsupported paint type: ${w}`)}}getPattern(u,w,e,d){let n=e;d!==ae.SHADING&&(n=p.Util.transform(n,w.baseTransform),this.matrix&&(n=p.Util.transform(n,this.matrix)));const s=this.createPatternCanvas(w);let A=new DOMMatrix(n);A=A.translate(s.offsetX,s.offsetY),A=A.scale(1/s.scaleX,1/s.scaleY);const b=u.createPattern(s.canvas,"repeat");try{b.setTransform(A)}catch(y){(0,p.warn)(`TilingPattern.getPattern: "${y?.message}".`)}return b}}M.TilingPattern=i},(be,M,se)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.applyMaskImageData=function de({src:ae,srcPos:$=0,dest:K,destPos:D=0,width:h,height:S,inverseDecode:m=!1}){const g=p.FeatureTest.isLittleEndian?4278190080:255,[a,_]=m?[0,g]:[g,0],i=h>>3,r=7&h,u=ae.length;K=new Uint32Array(K.buffer);for(let w=0;w<S;w++){for(const d=$+i;$<d;$++){const n=$<u?ae[$]:255;K[D++]=128&n?_:a,K[D++]=64&n?_:a,K[D++]=32&n?_:a,K[D++]=16&n?_:a,K[D++]=8&n?_:a,K[D++]=4&n?_:a,K[D++]=2&n?_:a,K[D++]=1&n?_:a}if(0===r)continue;const e=$<u?ae[$++]:255;for(let d=0;d<r;d++)K[D++]=e&1<<7-d?_:a}return{srcPos:$,destPos:D}};var p=se(1)},(be,M)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.GlobalWorkerOptions=void 0;const se=Object.create(null);M.GlobalWorkerOptions=se,se.workerPort=void 0===se.workerPort?null:se.workerPort,se.workerSrc=void 0===se.workerSrc?"":se.workerSrc},(be,M,se)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.MessageHandler=void 0;var p=se(1);function $(D){switch(D instanceof Error||"object"==typeof D&&null!==D||(0,p.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),D.name){case"AbortException":return new p.AbortException(D.message);case"MissingPDFException":return new p.MissingPDFException(D.message);case"PasswordException":return new p.PasswordException(D.message,D.code);case"UnexpectedResponseException":return new p.UnexpectedResponseException(D.message,D.status);case"UnknownErrorException":return new p.UnknownErrorException(D.message,D.details);default:return new p.UnknownErrorException(D.message,D.toString())}}M.MessageHandler=class K{constructor(h,S,m){this.sourceName=h,this.targetName=S,this.comObj=m,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=g=>{const a=g.data;if(a.targetName!==this.sourceName)return;if(a.stream)return void this._processStreamMessage(a);if(a.callback){const i=a.callbackId,r=this.callbackCapabilities[i];if(!r)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],1===a.callback)r.resolve(a.data);else{if(2!==a.callback)throw new Error("Unexpected callback case");r.reject($(a.reason))}return}const _=this.actionHandler[a.action];if(!_)throw new Error(`Unknown action from worker: ${a.action}`);if(a.callbackId){const i=this.sourceName,r=a.sourceName;new Promise(function(u){u(_(a.data))}).then(function(u){m.postMessage({sourceName:i,targetName:r,callback:1,callbackId:a.callbackId,data:u})},function(u){m.postMessage({sourceName:i,targetName:r,callback:2,callbackId:a.callbackId,reason:$(u)})})}else a.streamId?this._createStreamSink(a):_(a.data)},m.addEventListener("message",this._onComObjOnMessage)}on(h,S){const m=this.actionHandler;if(m[h])throw new Error(`There is already an actionName called "${h}"`);m[h]=S}send(h,S,m){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:h,data:S},m)}sendWithPromise(h,S,m){const g=this.callbackId++,a=(0,p.createPromiseCapability)();this.callbackCapabilities[g]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:h,callbackId:g,data:S},m)}catch(_){a.reject(_)}return a.promise}sendWithStream(h,S,m,g){const a=this.streamId++,_=this.sourceName,i=this.targetName,r=this.comObj;return new ReadableStream({start:u=>{const w=(0,p.createPromiseCapability)();return this.streamControllers[a]={controller:u,startCall:w,pullCall:null,cancelCall:null,isClosed:!1},r.postMessage({sourceName:_,targetName:i,action:h,streamId:a,data:S,desiredSize:u.desiredSize},g),w.promise},pull:u=>{const w=(0,p.createPromiseCapability)();return this.streamControllers[a].pullCall=w,r.postMessage({sourceName:_,targetName:i,stream:6,streamId:a,desiredSize:u.desiredSize}),w.promise},cancel:u=>{(0,p.assert)(u instanceof Error,"cancel must have a valid reason");const w=(0,p.createPromiseCapability)();return this.streamControllers[a].cancelCall=w,this.streamControllers[a].isClosed=!0,r.postMessage({sourceName:_,targetName:i,stream:1,streamId:a,reason:$(u)}),w.promise}},m)}_createStreamSink(h){const S=h.streamId,m=this.sourceName,g=h.sourceName,a=this.comObj,_=this,i=this.actionHandler[h.action],r={enqueue(u,w=1,e){if(this.isCancelled)return;const d=this.desiredSize;this.desiredSize-=w,d>0&&this.desiredSize<=0&&(this.sinkCapability=(0,p.createPromiseCapability)(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:m,targetName:g,stream:4,streamId:S,chunk:u},e)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:m,targetName:g,stream:3,streamId:S}),delete _.streamSinks[S])},error(u){(0,p.assert)(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:m,targetName:g,stream:5,streamId:S,reason:$(u)}))},sinkCapability:(0,p.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:h.desiredSize,ready:null};r.sinkCapability.resolve(),r.ready=r.sinkCapability.promise,this.streamSinks[S]=r,new Promise(function(u){u(i(h.data,r))}).then(function(){a.postMessage({sourceName:m,targetName:g,stream:8,streamId:S,success:!0})},function(u){a.postMessage({sourceName:m,targetName:g,stream:8,streamId:S,reason:$(u)})})}_processStreamMessage(h){const S=h.streamId,m=this.sourceName,g=h.sourceName,a=this.comObj,_=this.streamControllers[S],i=this.streamSinks[S];switch(h.stream){case 8:h.success?_.startCall.resolve():_.startCall.reject($(h.reason));break;case 7:h.success?_.pullCall.resolve():_.pullCall.reject($(h.reason));break;case 6:if(!i){a.postMessage({sourceName:m,targetName:g,stream:7,streamId:S,success:!0});break}i.desiredSize<=0&&h.desiredSize>0&&i.sinkCapability.resolve(),i.desiredSize=h.desiredSize,new Promise(function(r){r(i.onPull&&i.onPull())}).then(function(){a.postMessage({sourceName:m,targetName:g,stream:7,streamId:S,success:!0})},function(r){a.postMessage({sourceName:m,targetName:g,stream:7,streamId:S,reason:$(r)})});break;case 4:if((0,p.assert)(_,"enqueue should have stream controller"),_.isClosed)break;_.controller.enqueue(h.chunk);break;case 3:if((0,p.assert)(_,"close should have stream controller"),_.isClosed)break;_.isClosed=!0,_.controller.close(),this._deleteStreamController(_,S);break;case 5:(0,p.assert)(_,"error should have stream controller"),_.controller.error($(h.reason)),this._deleteStreamController(_,S);break;case 2:h.success?_.cancelCall.resolve():_.cancelCall.reject($(h.reason)),this._deleteStreamController(_,S);break;case 1:if(!i)break;new Promise(function(r){r(i.onCancel&&i.onCancel($(h.reason)))}).then(function(){a.postMessage({sourceName:m,targetName:g,stream:2,streamId:S,success:!0})},function(r){a.postMessage({sourceName:m,targetName:g,stream:2,streamId:S,reason:$(r)})}),i.sinkCapability.reject($(h.reason)),i.isCancelled=!0,delete this.streamSinks[S];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(h,S){var m=this;return _asyncToGenerator(function*(){yield Promise.allSettled([h.startCall&&h.startCall.promise,h.pullCall&&h.pullCall.promise,h.cancelCall&&h.cancelCall.promise]),delete m.streamControllers[S]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(be,M,se)=>{var ae,$;Object.defineProperty(M,"__esModule",{value:!0}),M.Metadata=void 0;var p=se(1);ae=new WeakMap,$=new WeakMap,M.Metadata=class de{constructor({parsedData:D,rawData:h}){xe(this,ae,void 0),xe(this,$,void 0),Ne(this,ae,D),Ne(this,$,h)}getRaw(){return Pe(this,$)}get(D){return Pe(this,ae).get(D)??null}getAll(){return(0,p.objectFromMap)(Pe(this,ae))}has(D){return Pe(this,ae).has(D)}}},(be,M,se)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.OptionalContentConfig=void 0;var p=se(1);class de{constructor(K,D){this.visible=!0,this.name=K,this.intent=D}}M.OptionalContentConfig=class ae{constructor(K){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==K){this.name=K.name,this.creator=K.creator,this._order=K.order;for(const D of K.groups)this._groups.set(D.id,new de(D.name,D.intent));if("OFF"===K.baseState)for(const D of this._groups)D.visible=!1;for(const D of K.on)this._groups.get(D).visible=!0;for(const D of K.off)this._groups.get(D).visible=!1}}_evaluateVisibilityExpression(K){const D=K.length;if(D<2)return!0;const h=K[0];for(let S=1;S<D;S++){const m=K[S];let g;if(Array.isArray(m))g=this._evaluateVisibilityExpression(m);else{if(!this._groups.has(m))return(0,p.warn)(`Optional content group not found: ${m}`),!0;g=this._groups.get(m).visible}switch(h){case"And":if(!g)return!1;break;case"Or":if(g)return!0;break;case"Not":return!g;default:return!0}}return"And"===h}isVisible(K){if(0===this._groups.size)return!0;if(!K)return(0,p.warn)("Optional content group not defined."),!0;if("OCG"===K.type)return this._groups.has(K.id)?this._groups.get(K.id).visible:((0,p.warn)(`Optional content group not found: ${K.id}`),!0);if("OCMD"===K.type){if(K.expression)return this._evaluateVisibilityExpression(K.expression);if(!K.policy||"AnyOn"===K.policy){for(const D of K.ids){if(!this._groups.has(D))return(0,p.warn)(`Optional content group not found: ${D}`),!0;if(this._groups.get(D).visible)return!0}return!1}if("AllOn"===K.policy){for(const D of K.ids){if(!this._groups.has(D))return(0,p.warn)(`Optional content group not found: ${D}`),!0;if(!this._groups.get(D).visible)return!1}return!0}if("AnyOff"===K.policy){for(const D of K.ids){if(!this._groups.has(D))return(0,p.warn)(`Optional content group not found: ${D}`),!0;if(!this._groups.get(D).visible)return!0}return!1}if("AllOff"===K.policy){for(const D of K.ids){if(!this._groups.has(D))return(0,p.warn)(`Optional content group not found: ${D}`),!0;if(this._groups.get(D).visible)return!1}return!0}return(0,p.warn)(`Unknown optional content policy ${K.policy}.`),!0}return(0,p.warn)(`Unknown group type ${K.type}.`),!0}setVisibility(K,D=!0){this._groups.has(K)?this._groups.get(K).visible=!!D:(0,p.warn)(`Optional content group not found: ${K}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,p.objectFromMap)(this._groups):null}getGroup(K){return this._groups.get(K)||null}}},(be,M,se)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.PDFDataTransportStream=void 0;var p=se(1),de=se(5);M.PDFDataTransportStream=class ae{constructor(h,S){(0,p.assert)(S,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=h.progressiveDone||!1,this._contentDispositionFilename=h.contentDispositionFilename||null;const m=h.initialData;if(m?.length>0){const g=new Uint8Array(m).buffer;this._queuedChunks.push(g)}this._pdfDataRangeTransport=S,this._isStreamingSupported=!h.disableStream,this._isRangeSupported=!h.disableRange,this._contentLength=h.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((g,a)=>{this._onReceiveData({begin:g,chunk:a})}),this._pdfDataRangeTransport.addProgressListener((g,a)=>{this._onProgress({loaded:g,total:a})}),this._pdfDataRangeTransport.addProgressiveReadListener(g=>{this._onReceiveData({chunk:g})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(h){const S=new Uint8Array(h.chunk).buffer;if(void 0===h.begin)this._fullRequestReader?this._fullRequestReader._enqueue(S):this._queuedChunks.push(S);else{const m=this._rangeReaders.some(function(g){return g._begin===h.begin&&(g._enqueue(S),!0)});(0,p.assert)(m,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(h){if(void 0===h.total){const S=this._rangeReaders[0];S?.onProgress&&S.onProgress({loaded:h.loaded})}else{const S=this._fullRequestReader;S?.onProgress&&S.onProgress({loaded:h.loaded,total:h.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(h){const S=this._rangeReaders.indexOf(h);S>=0&&this._rangeReaders.splice(S,1)}getFullReader(){(0,p.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const h=this._queuedChunks;return this._queuedChunks=null,new $(this,h,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(h,S){if(S<=this._progressiveDataLength)return null;const m=new K(this,h,S);return this._pdfDataRangeTransport.requestDataRange(h,S),this._rangeReaders.push(m),m}cancelAllRequests(h){this._fullRequestReader&&this._fullRequestReader.cancel(h);for(const S of this._rangeReaders.slice(0))S.cancel(h);this._pdfDataRangeTransport.abort()}};class ${constructor(h,S,m=!1,g=null){this._stream=h,this._done=m||!1,this._filename=(0,de.isPdfFile)(g)?g:null,this._queuedChunks=S||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),h._fullRequestReader=this,this.onProgress=null}_enqueue(h){this._done||(this._requests.length>0?this._requests.shift().resolve({value:h,done:!1}):this._queuedChunks.push(h),this._loaded+=h.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var h=this;return _asyncToGenerator(function*(){if(h._queuedChunks.length>0)return{value:h._queuedChunks.shift(),done:!1};if(h._done)return{value:void 0,done:!0};const S=(0,p.createPromiseCapability)();return h._requests.push(S),S.promise})()}cancel(h){this._done=!0;for(const S of this._requests)S.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class K{constructor(h,S,m){this._stream=h,this._begin=S,this._end=m,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(h){if(!this._done){if(0===this._requests.length)this._queuedChunk=h;else{this._requests.shift().resolve({value:h,done:!1});for(const m of this._requests)m.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var h=this;return _asyncToGenerator(function*(){if(h._queuedChunk){const m=h._queuedChunk;return h._queuedChunk=null,{value:m,done:!1}}if(h._done)return{value:void 0,done:!0};const S=(0,p.createPromiseCapability)();return h._requests.push(S),S.promise})()}cancel(h){this._done=!0;for(const S of this._requests)S.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(be,M)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.XfaText=void 0;class se{static textContent(de){const ae=[],$={items:ae,styles:Object.create(null)};return function K(D){if(!D)return;let h=null;const S=D.name;if("#text"===S)h=D.value;else{if(!se.shouldBuildText(S))return;D?.attributes?.textContent?h=D.attributes.textContent:D.value&&(h=D.value)}if(null!==h&&ae.push({str:h}),D.children)for(const m of D.children)K(m)}(de),$}static shouldBuildText(de){return!("textarea"===de||"input"===de||"option"===de||"select"===de)}}M.XfaText=se},(be,M,se)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.NodeStandardFontDataFactory=M.NodeCanvasFactory=M.NodeCMapReaderFactory=void 0;var p=se(6);const de=function(D){return new Promise((h,S)=>{__webpack_require__(172).readFile(D,(g,a)=>{!g&&a?h(new Uint8Array(a)):S(new Error(g))})})};M.NodeCanvasFactory=class ae extends p.BaseCanvasFactory{_createCanvas(h,S){return __webpack_require__(3414).createCanvas(h,S)}},M.NodeCMapReaderFactory=class $ extends p.BaseCMapReaderFactory{_fetchData(h,S){return de(h).then(m=>({cMapData:m,compressionType:S}))}},M.NodeStandardFontDataFactory=class K extends p.BaseStandardFontDataFactory{_fetchData(h){return de(h)}}},(be,M,se)=>{var T,lt;Object.defineProperty(M,"__esModule",{value:!0}),M.AnnotationLayer=void 0;var p=se(1),de=se(5),ae=se(8),$=se(21),K=se(22);const D=1e3,h=new WeakSet;function S(c){return{width:c[2]-c[0],height:c[3]-c[1]}}class m{static create(t){switch(t.data.annotationType){case p.AnnotationType.LINK:return new a(t);case p.AnnotationType.TEXT:return new _(t);case p.AnnotationType.WIDGET:switch(t.data.fieldType){case"Tx":return new r(t);case"Btn":return t.data.radioButton?new w(t):t.data.checkBox?new u(t):new e(t);case"Ch":return new d(t)}return new i(t);case p.AnnotationType.POPUP:return new n(t);case p.AnnotationType.FREETEXT:return new A(t);case p.AnnotationType.LINE:return new b(t);case p.AnnotationType.SQUARE:return new y(t);case p.AnnotationType.CIRCLE:return new k(t);case p.AnnotationType.POLYLINE:return new L(t);case p.AnnotationType.CARET:return new N(t);case p.AnnotationType.INK:return new H(t);case p.AnnotationType.POLYGON:return new R(t);case p.AnnotationType.HIGHLIGHT:return new X(t);case p.AnnotationType.UNDERLINE:return new ne(t);case p.AnnotationType.SQUIGGLY:return new B(t);case p.AnnotationType.STRIKEOUT:return new q(t);case p.AnnotationType.STAMP:return new J(t);case p.AnnotationType.FILEATTACHMENT:return new re(t);default:return new g(t)}}}class g{constructor(t,{isRenderable:l=!1,ignoreBorder:f=!1,createQuadrilaterals:P=!1}={}){this.isRenderable=l,this.data=t.data,this.layer=t.layer,this.page=t.page,this.viewport=t.viewport,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this._mouseState=t.mouseState,l&&(this.container=this._createContainer(f)),P&&(this.quadrilaterals=this._createQuadrilaterals(f))}_createContainer(t=!1){const l=this.data,f=this.page,P=this.viewport,C=document.createElement("section");let{width:E,height:U}=S(l.rect);C.setAttribute("data-annotation-id",l.id);const j=p.Util.normalizeRect([l.rect[0],f.view[3]-l.rect[1]+f.view[1],l.rect[2],f.view[3]-l.rect[3]+f.view[1]]);if(l.hasOwnCanvas){const V=P.transform.slice(),[G,Y]=p.Util.singularValueDecompose2dScale(V);E=Math.ceil(E*G),U=Math.ceil(U*Y),j[0]*=G,j[1]*=Y;for(let ie=0;ie<4;ie++)V[ie]=Math.sign(V[ie]);C.style.transform=`matrix(${V.join(",")})`}else C.style.transform=`matrix(${P.transform.join(",")})`;if(C.style.transformOrigin=`${-j[0]}px ${-j[1]}px`,!t&&l.borderStyle.width>0){C.style.borderWidth=`${l.borderStyle.width}px`,l.borderStyle.style!==p.AnnotationBorderStyleType.UNDERLINE&&(E-=2*l.borderStyle.width,U-=2*l.borderStyle.width);const V=l.borderStyle.horizontalCornerRadius,G=l.borderStyle.verticalCornerRadius;switch((V>0||G>0)&&(C.style.borderRadius=`${V}px / ${G}px`),l.borderStyle.style){case p.AnnotationBorderStyleType.SOLID:C.style.borderStyle="solid";break;case p.AnnotationBorderStyleType.DASHED:C.style.borderStyle="dashed";break;case p.AnnotationBorderStyleType.BEVELED:(0,p.warn)("Unimplemented border style: beveled");break;case p.AnnotationBorderStyleType.INSET:(0,p.warn)("Unimplemented border style: inset");break;case p.AnnotationBorderStyleType.UNDERLINE:C.style.borderBottomStyle="solid"}l.borderColor||l.color?C.style.borderColor=p.Util.makeHexColor(0|l.color[0],0|l.color[1],0|l.color[2]):C.style.borderWidth=0}return C.style.left=`${j[0]}px`,C.style.top=`${j[1]}px`,l.hasOwnCanvas?C.style.width=C.style.height="auto":(C.style.width=`${E}px`,C.style.height=`${U}px`),C}get _commonActions(){const t=(l,f,P)=>{const C=P.detail[l];P.target.style[f]=$.ColorConverters[`${C[0]}_HTML`](C.slice(1))};return(0,p.shadow)(this,"_commonActions",{display:l=>{const f=l.detail.display%2==1;l.target.style.visibility=f?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:f,print:0===l.detail.display||3===l.detail.display})},print:l=>{this.annotationStorage.setValue(this.data.id,{print:l.detail.print})},hidden:l=>{l.target.style.visibility=l.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:l.detail.hidden})},focus:l=>{setTimeout(()=>l.target.focus({preventScroll:!1}),0)},userName:l=>{l.target.title=l.detail.userName},readonly:l=>{l.detail.readonly?l.target.setAttribute("readonly",""):l.target.removeAttribute("readonly")},required:l=>{l.detail.required?l.target.setAttribute("required",""):l.target.removeAttribute("required")},bgColor:l=>{t("bgColor","backgroundColor",l)},fillColor:l=>{t("fillColor","backgroundColor",l)},fgColor:l=>{t("fgColor","color",l)},textColor:l=>{t("textColor","color",l)},borderColor:l=>{t("borderColor","borderColor",l)},strokeColor:l=>{t("strokeColor","borderColor",l)}})}_dispatchEventFromSandbox(t,l){const f=this._commonActions;for(const P of Object.keys(l.detail)){const C=t[P]||f[P];C&&C(l)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const l=this.annotationStorage.getRawValue(this.data.id);if(!l)return;const f=this._commonActions;for(const[P,C]of Object.entries(l)){const E=f[P];E&&(E({detail:C,target:t}),delete l[P])}}_createQuadrilaterals(t=!1){if(!this.data.quadPoints)return null;const l=[],f=this.data.rect;for(const P of this.data.quadPoints)this.data.rect=[P[2].x,P[2].y,P[1].x,P[1].y],l.push(this._createContainer(t));return this.data.rect=f,l}_createPopup(t,l){let f=this.container;this.quadrilaterals&&(t=t||this.quadrilaterals,f=this.quadrilaterals[0]),t||((t=document.createElement("div")).style.height=f.style.height,t.style.width=f.style.width,f.appendChild(t));const C=new s({container:f,trigger:t,color:l.color,titleObj:l.titleObj,modificationDate:l.modificationDate,contentsObj:l.contentsObj,richText:l.richText,hideWrapper:!0}).render();C.style.left=f.style.width,f.appendChild(C)}_renderQuadrilaterals(t){for(const l of this.quadrilaterals)l.className=t;return this.quadrilaterals}render(){(0,p.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,l=null){const f=[];if(this._fieldObjects){const P=this._fieldObjects[t];if(P)for(const{page:C,id:E,exportValues:U}of P){if(-1===C||E===l)continue;const j="string"==typeof U?U:null,V=document.getElementById(E);!V||h.has(V)?f.push({id:E,exportValue:j,domElement:V}):(0,p.warn)(`_getElementsByName - element not allowed: ${E}`)}return f}for(const P of document.getElementsByName(t)){const{id:C,exportValue:E}=P;C!==l&&(!h.has(P)||f.push({id:C,exportValue:E,domElement:P}))}return f}static get platform(){const t=typeof navigator<"u"?navigator.platform:"";return(0,p.shadow)(this,"platform",{isWin:t.includes("Win"),isMac:t.includes("Mac")})}}class a extends g{constructor(t,l=null){super(t,{isRenderable:!!(t.data.url||t.data.dest||t.data.action||t.data.isTooltipOnly||t.data.resetForm||t.data.actions&&(t.data.actions.Action||t.data.actions["Mouse Up"]||t.data.actions["Mouse Down"])),ignoreBorder:!!l?.ignoreBorder,createQuadrilaterals:!0})}render(){const{data:t,linkService:l}=this,f=document.createElement("a");if(t.url)l.addLinkAttributes(f,t.url,t.newWindow);else if(t.action)this._bindNamedAction(f,t.action);else if(t.dest)this._bindLink(f,t.dest);else{let P=!1;t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(P=!0,this._bindJSAction(f,t)),t.resetForm?this._bindResetFormAction(f,t.resetForm):P||this._bindLink(f,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((P,C)=>{const E=0===C?f:f.cloneNode();return P.appendChild(E),P}):(this.container.className="linkAnnotation",this.container.appendChild(f),this.container)}_bindLink(t,l){t.href=this.linkService.getDestinationHash(l),t.onclick=()=>(l&&this.linkService.goToDestination(l),!1),(l||""===l)&&(t.className="internalLink")}_bindNamedAction(t,l){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(l),!1),t.className="internalLink"}_bindJSAction(t,l){t.href=this.linkService.getAnchorUrl("");const f=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const P of Object.keys(l.actions)){const C=f.get(P);!C||(t[C]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:l.id,name:P}}),!1))}t.onclick||(t.onclick=()=>!1),t.className="internalLink"}_bindResetFormAction(t,l){const f=t.onclick;if(f||(t.href=this.linkService.getAnchorUrl("")),t.className="internalLink",!this._fieldObjects)return(0,p.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(f||(t.onclick=()=>!1));t.onclick=()=>{f&&f();const{fields:P,refs:C,include:E}=l,U=[];if(0!==P.length||0!==C.length){const G=new Set(C);for(const Y of P){const ie=this._fieldObjects[Y]||[];for(const{id:pe}of ie)G.add(pe)}for(const Y of Object.values(this._fieldObjects))for(const ie of Y)G.has(ie.id)===E&&U.push(ie)}else for(const G of Object.values(this._fieldObjects))U.push(...G);const j=this.annotationStorage,V=[];for(const G of U){const{id:Y}=G;switch(V.push(Y),G.type){case"text":case"combobox":case"listbox":j.setValue(Y,{value:G.defaultValue||""});break;case"checkbox":case"radiobutton":j.setValue(Y,{value:G.defaultValue===G.exportValues});break;default:continue}const ie=document.getElementById(Y);!ie||!h.has(ie)||ie.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:V,name:"ResetForm"}}),!1}}}class _ extends g{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str)})}render(){this.container.className="textAnnotation";const t=document.createElement("img");return t.style.height=this.container.style.height,t.style.width=this.container.style.width,t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.alt="[{{type}} Annotation]",t.dataset.l10nId="text_annotation_type",t.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(t,this.data),this.container.appendChild(t),this.container}}class i extends g{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(t){const{isWin:l,isMac:f}=g.platform;return l&&t.ctrlKey||f&&t.metaKey}_setEventListener(t,l,f,P){l.includes("mouse")?t.addEventListener(l,C=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:f,value:P(C),shift:C.shiftKey,modifier:this._getKeyModifier(C)}})}):t.addEventListener(l,C=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:f,value:P(C)}})})}_setEventListeners(t,l,f){for(const[P,C]of l)("Action"===C||this.data.actions?.[C])&&this._setEventListener(t,P,C,f)}_setBackgroundColor(t){const l=this.data.backgroundColor||null;t.style.backgroundColor=null===l?"transparent":p.Util.makeHexColor(l[0],l[1],l[2])}}class r extends i{constructor(t){super(t,{isRenderable:t.renderForms||!t.data.hasAppearance&&!!t.data.fieldValue})}setPropertyOnSiblings(t,l,f,P){const C=this.annotationStorage;for(const E of this._getElementsByName(t.name,t.id))E.domElement&&(E.domElement[l]=f),C.setValue(E.id,{[P]:f})}render(){const t=this.annotationStorage,l=this.data.id;this.container.className="textWidgetAnnotation";let f=null;if(this.renderForms){const P=t.getValue(l,{value:this.data.fieldValue}),C=P.formattedValue||P.value||"",E={userValue:null,formattedValue:null,valueOnFocus:""};this.data.multiLine?(f=document.createElement("textarea"),f.textContent=C):(f=document.createElement("input"),f.type="text",f.setAttribute("value",C)),h.add(f),f.disabled=this.data.readOnly,f.name=this.data.fieldName,f.tabIndex=D,E.userValue=C,f.setAttribute("id",l),f.addEventListener("input",j=>{t.setValue(l,{value:j.target.value}),this.setPropertyOnSiblings(f,"value",j.target.value,"value")}),f.addEventListener("resetform",j=>{f.value=E.userValue=this.data.defaultFieldValue??"",E.formattedValue=null});let U=j=>{const{formattedValue:V}=E;null!=V&&(j.target.value=V),j.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){f.addEventListener("focus",V=>{E.userValue&&(V.target.value=E.userValue),E.valueOnFocus=V.target.value}),f.addEventListener("updatefromsandbox",V=>{this._dispatchEventFromSandbox({value(Y){E.userValue=Y.detail.value??"",t.setValue(l,{value:E.userValue.toString()}),Y.target.value=E.userValue},formattedValue(Y){const{formattedValue:ie}=Y.detail;E.formattedValue=ie,null!=ie&&Y.target!==document.activeElement&&(Y.target.value=ie),t.setValue(l,{formattedValue:ie})},selRange(Y){Y.target.setSelectionRange(...Y.detail.selRange)}},V)}),f.addEventListener("keydown",V=>{let G=-1;if("Escape"===V.key?G=0:"Enter"===V.key?G=2:"Tab"===V.key&&(G=3),-1===G)return;const{value:Y}=V.target;E.valueOnFocus!==Y&&(E.userValue=Y,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:l,name:"Keystroke",value:Y,willCommit:!0,commitKey:G,selStart:V.target.selectionStart,selEnd:V.target.selectionEnd}}))});const j=U;U=null,f.addEventListener("blur",V=>{const{value:G}=V.target;E.userValue=G,this._mouseState.isDown&&E.valueOnFocus!==G&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:l,name:"Keystroke",value:G,willCommit:!0,commitKey:1,selStart:V.target.selectionStart,selEnd:V.target.selectionEnd}}),j(V)}),this.data.actions?.Keystroke&&f.addEventListener("beforeinput",V=>{const{data:G,target:Y}=V,{value:ie,selectionStart:pe,selectionEnd:Se}=Y;let ee=pe,oe=Se;switch(V.inputType){case"deleteWordBackward":{const Q=ie.substring(0,pe).match(/\w*[^\w]*$/);Q&&(ee-=Q[0].length);break}case"deleteWordForward":{const Q=ie.substring(pe).match(/^[^\w]*\w*/);Q&&(oe+=Q[0].length);break}case"deleteContentBackward":pe===Se&&(ee-=1);break;case"deleteContentForward":pe===Se&&(oe+=1)}V.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:l,name:"Keystroke",value:ie,change:G||"",willCommit:!1,selStart:ee,selEnd:oe}})}),this._setEventListeners(f,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],V=>V.target.value)}if(U&&f.addEventListener("blur",U),null!==this.data.maxLen&&(f.maxLength=this.data.maxLen),this.data.comb){const V=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;f.classList.add("comb"),f.style.letterSpacing=`calc(${V}px - 1ch)`}}else f=document.createElement("div"),f.textContent=this.data.fieldValue,f.style.verticalAlign="middle",f.style.display="table-cell";return this._setTextStyle(f),this._setBackgroundColor(f),this._setDefaultPropertiesFromJS(f),this.container.appendChild(f),this.container}_setTextStyle(t){const{fontSize:f,fontColor:P}=this.data.defaultAppearanceData,C=t.style;f&&(C.fontSize=`${f}px`),C.color=p.Util.makeHexColor(P[0],P[1],P[2]),null!==this.data.textAlignment&&(C.textAlign=["left","center","right"][this.data.textAlignment])}}class u extends i{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,l=this.data,f=l.id;let P=t.getValue(f,{value:l.exportValue===l.fieldValue}).value;"string"==typeof P&&(P="Off"!==P,t.setValue(f,{value:P})),this.container.className="buttonWidgetAnnotation checkBox";const C=document.createElement("input");return h.add(C),C.disabled=l.readOnly,C.type="checkbox",C.name=l.fieldName,P&&C.setAttribute("checked",!0),C.setAttribute("id",f),C.setAttribute("exportValue",l.exportValue),C.tabIndex=D,C.addEventListener("change",E=>{const{name:U,checked:j}=E.target;for(const V of this._getElementsByName(U,f)){const G=j&&V.exportValue===l.exportValue;V.domElement&&(V.domElement.checked=G),t.setValue(V.id,{value:G})}t.setValue(f,{value:j})}),C.addEventListener("resetform",E=>{E.target.checked=(l.defaultFieldValue||"Off")===l.exportValue}),this.enableScripting&&this.hasJSActions&&(C.addEventListener("updatefromsandbox",E=>{this._dispatchEventFromSandbox({value(j){j.target.checked="Off"!==j.detail.value,t.setValue(f,{value:j.target.checked})}},E)}),this._setEventListeners(C,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],E=>E.target.checked)),this._setBackgroundColor(C),this._setDefaultPropertiesFromJS(C),this.container.appendChild(C),this.container}}class w extends i{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const t=this.annotationStorage,l=this.data,f=l.id;let P=t.getValue(f,{value:l.fieldValue===l.buttonValue}).value;"string"==typeof P&&(P=P!==l.buttonValue,t.setValue(f,{value:P}));const C=document.createElement("input");if(h.add(C),C.disabled=l.readOnly,C.type="radio",C.name=l.fieldName,P&&C.setAttribute("checked",!0),C.setAttribute("id",f),C.tabIndex=D,C.addEventListener("change",E=>{const{name:U,checked:j}=E.target;for(const V of this._getElementsByName(U,f))t.setValue(V.id,{value:!1});t.setValue(f,{value:j})}),C.addEventListener("resetform",E=>{const U=l.defaultFieldValue;E.target.checked=null!=U&&U===l.buttonValue}),this.enableScripting&&this.hasJSActions){const E=l.buttonValue;C.addEventListener("updatefromsandbox",U=>{this._dispatchEventFromSandbox({value:V=>{const G=E===V.detail.value;for(const Y of this._getElementsByName(V.target.name)){const ie=G&&Y.id===f;Y.domElement&&(Y.domElement.checked=ie),t.setValue(Y.id,{value:ie})}}},U)}),this._setEventListeners(C,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],U=>U.target.checked)}return this._setBackgroundColor(C),this._setDefaultPropertiesFromJS(C),this.container.appendChild(C),this.container}}class e extends a{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();return t.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(t.title=this.data.alternativeText),this._setDefaultPropertiesFromJS(t),t}}class d extends i{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const t=this.annotationStorage,l=this.data.id,f=t.getValue(l,{value:this.data.fieldValue});let{fontSize:P}=this.data.defaultAppearanceData;P||(P=9);const C=`calc(${P}px * var(--zoom-factor))`,E=document.createElement("select");h.add(E),E.disabled=this.data.readOnly,E.name=this.data.fieldName,E.setAttribute("id",l),E.tabIndex=D,E.style.fontSize=`${P}px`,this.data.combo||(E.size=this.data.options.length,this.data.multiSelect&&(E.multiple=!0)),E.addEventListener("resetform",V=>{const G=this.data.defaultFieldValue;for(const Y of E.options)Y.selected=Y.value===G});for(const V of this.data.options){const G=document.createElement("option");G.textContent=V.displayValue,G.value=V.exportValue,this.data.combo&&(G.style.fontSize=C),f.value.includes(V.exportValue)&&G.setAttribute("selected",!0),E.appendChild(G)}const U=(V,G)=>{const Y=G?"value":"textContent",ie=V.target.options;return V.target.multiple?Array.prototype.filter.call(ie,pe=>pe.selected).map(pe=>pe[Y]):-1===ie.selectedIndex?null:ie[ie.selectedIndex][Y]},j=V=>Array.prototype.map.call(V.target.options,Y=>({displayValue:Y.textContent,exportValue:Y.value}));return this.enableScripting&&this.hasJSActions?(E.addEventListener("updatefromsandbox",V=>{this._dispatchEventFromSandbox({value(Y){const ie=Y.detail.value,pe=new Set(Array.isArray(ie)?ie:[ie]);for(const Se of E.options)Se.selected=pe.has(Se.value);t.setValue(l,{value:U(Y,!0)})},multipleSelection(Y){E.multiple=!0},remove(Y){const ie=E.options,pe=Y.detail.remove;ie[pe].selected=!1,E.remove(pe),ie.length>0&&-1===Array.prototype.findIndex.call(ie,ee=>ee.selected)&&(ie[0].selected=!0),t.setValue(l,{value:U(Y,!0),items:j(Y)})},clear(Y){for(;0!==E.length;)E.remove(0);t.setValue(l,{value:null,items:[]})},insert(Y){const{index:ie,displayValue:pe,exportValue:Se}=Y.detail.insert,ee=document.createElement("option");ee.textContent=pe,ee.value=Se,E.insertBefore(ee,E.children[ie]),t.setValue(l,{value:U(Y,!0),items:j(Y)})},items(Y){const{items:ie}=Y.detail;for(;0!==E.length;)E.remove(0);for(const pe of ie){const{displayValue:Se,exportValue:ee}=pe,oe=document.createElement("option");oe.textContent=Se,oe.value=ee,E.appendChild(oe)}E.options.length>0&&(E.options[0].selected=!0),t.setValue(l,{value:U(Y,!0),items:j(Y)})},indices(Y){const ie=new Set(Y.detail.indices);for(const pe of Y.target.options)pe.selected=ie.has(pe.index);t.setValue(l,{value:U(Y,!0)})},editable(Y){Y.target.disabled=!Y.detail.editable}},V)}),E.addEventListener("input",V=>{const G=U(V,!0),Y=U(V,!1);t.setValue(l,{value:G}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:l,name:"Keystroke",value:Y,changeEx:G,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(E,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],V=>V.target.checked)):E.addEventListener("input",function(V){t.setValue(l,{value:U(V,!0)})}),this._setBackgroundColor(E),this._setDefaultPropertiesFromJS(E),this.container.appendChild(E),this.container}}class n extends g{constructor(t){super(t,{isRenderable:!!(t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const f=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===f.length)return this.container;const P=new s({container:this.container,trigger:Array.from(f),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),C=this.page,E=p.Util.normalizeRect([this.data.parentRect[0],C.view[3]-this.data.parentRect[1]+C.view[1],this.data.parentRect[2],C.view[3]-this.data.parentRect[3]+C.view[1]]),U=E[0]+this.data.parentRect[2]-this.data.parentRect[0],j=E[1];return this.container.style.transformOrigin=`${-U}px ${-j}px`,this.container.style.left=`${U}px`,this.container.style.top=`${j}px`,this.container.appendChild(P.render()),this.container}}class s{constructor(t){this.container=t.container,this.trigger=t.trigger,this.color=t.color,this.titleObj=t.titleObj,this.modificationDate=t.modificationDate,this.contentsObj=t.contentsObj,this.richText=t.richText,this.hideWrapper=t.hideWrapper||!1,this.pinned=!1}render(){const l=document.createElement("div");l.className="popupWrapper",this.hideElement=this.hideWrapper?l:this.container,this.hideElement.hidden=!0;const f=document.createElement("div");f.className="popup";const P=this.color;P&&(f.style.backgroundColor=p.Util.makeHexColor(0|.7*(255-P[0])+P[0],0|.7*(255-P[1])+P[1],0|.7*(255-P[2])+P[2]));const C=document.createElement("h1");C.dir=this.titleObj.dir,C.textContent=this.titleObj.str,f.appendChild(C);const E=de.PDFDateString.toDateObject(this.modificationDate);if(E){const U=document.createElement("span");U.className="popupDate",U.textContent="{{date}}, {{time}}",U.dataset.l10nId="annotation_date_string",U.dataset.l10nArgs=JSON.stringify({date:E.toLocaleDateString(),time:E.toLocaleTimeString()}),f.appendChild(U)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const U=this._formatContents(this.contentsObj);f.appendChild(U)}else K.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:f}),f.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const U of this.trigger)U.addEventListener("click",this._toggle.bind(this)),U.addEventListener("mouseover",this._show.bind(this,!1)),U.addEventListener("mouseout",this._hide.bind(this,!1));return f.addEventListener("click",this._hide.bind(this,!0)),l.appendChild(f),l}_formatContents({str:t,dir:l}){const f=document.createElement("p");f.className="popupContent",f.dir=l;const P=t.split(/(?:\r\n?|\n)/);for(let C=0,E=P.length;C<E;++C)f.appendChild(document.createTextNode(P[C])),C<E-1&&f.appendChild(document.createElement("br"));return f}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(t=!1){t&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(t=!0){t&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class A extends g{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class b extends g{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const t=this.data,{width:l,height:f}=S(t.rect),P=this.svgFactory.create(l,f),C=this.svgFactory.createElement("svg:line");return C.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),C.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),C.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),C.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),C.setAttribute("stroke-width",t.borderStyle.width||1),C.setAttribute("stroke","transparent"),C.setAttribute("fill","transparent"),P.appendChild(C),this.container.append(P),this._createPopup(C,t),this.container}}class y extends g{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const t=this.data,{width:l,height:f}=S(t.rect),P=this.svgFactory.create(l,f),C=t.borderStyle.width,E=this.svgFactory.createElement("svg:rect");return E.setAttribute("x",C/2),E.setAttribute("y",C/2),E.setAttribute("width",l-C),E.setAttribute("height",f-C),E.setAttribute("stroke-width",C||1),E.setAttribute("stroke","transparent"),E.setAttribute("fill","transparent"),P.appendChild(E),this.container.append(P),this._createPopup(E,t),this.container}}class k extends g{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const t=this.data,{width:l,height:f}=S(t.rect),P=this.svgFactory.create(l,f),C=t.borderStyle.width,E=this.svgFactory.createElement("svg:ellipse");return E.setAttribute("cx",l/2),E.setAttribute("cy",f/2),E.setAttribute("rx",l/2-C/2),E.setAttribute("ry",f/2-C/2),E.setAttribute("stroke-width",C||1),E.setAttribute("stroke","transparent"),E.setAttribute("fill","transparent"),P.appendChild(E),this.container.append(P),this._createPopup(E,t),this.container}}class L extends g{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const t=this.data,{width:l,height:f}=S(t.rect),P=this.svgFactory.create(l,f);let C=[];for(const U of t.vertices)C.push(U.x-t.rect[0]+","+(t.rect[3]-U.y));C=C.join(" ");const E=this.svgFactory.createElement(this.svgElementName);return E.setAttribute("points",C),E.setAttribute("stroke-width",t.borderStyle.width||1),E.setAttribute("stroke","transparent"),E.setAttribute("fill","transparent"),P.appendChild(E),this.container.append(P),this._createPopup(E,t),this.container}}class R extends L{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class N extends g{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class H extends g{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const t=this.data,{width:l,height:f}=S(t.rect),P=this.svgFactory.create(l,f);for(const C of t.inkLists){let E=[];for(const j of C)E.push(`${j.x-t.rect[0]},${t.rect[3]-j.y}`);E=E.join(" ");const U=this.svgFactory.createElement(this.svgElementName);U.setAttribute("points",E),U.setAttribute("stroke-width",t.borderStyle.width||1),U.setAttribute("stroke","transparent"),U.setAttribute("fill","transparent"),this._createPopup(U,t),P.appendChild(U)}return this.container.append(P),this.container}}class X extends g{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class ne extends g{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class B extends g{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class q extends g{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class J extends g{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class re extends g{constructor(t){super(t,{isRenderable:!0});const{filename:l,content:f}=this.data.file;this.filename=(0,de.getFilenameFromUrl)(l),this.content=f,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:l,content:f})}render(){this.container.className="fileAttachmentAnnotation";const t=document.createElement("div");return t.style.height=this.container.style.height,t.style.width=this.container.style.width,t.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(t,this.data),this.container.appendChild(t),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class le{static render(t){const l=[],f=[];for(const C of t.annotations){if(!C)continue;const{width:E,height:U}=S(C.rect);if(!(E<=0||U<=0)){if(C.annotationType===p.AnnotationType.POPUP){f.push(C);continue}l.push(C)}}f.length&&l.push(...f);const P=t.div;for(const C of l){const E=m.create({data:C,layer:P,page:t.page,viewport:t.viewport,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:!1!==t.renderForms,svgFactory:new de.DOMSVGFactory,annotationStorage:t.annotationStorage||new ae.AnnotationStorage,enableScripting:t.enableScripting,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,mouseState:t.mouseState||{isDown:!1}});if(E.isRenderable){const U=E.render();if(C.hidden&&(U.style.visibility="hidden"),Array.isArray(U))for(const j of U)P.appendChild(j);else E instanceof n?P.prepend(U):P.appendChild(U)}}we(this,T,lt).call(this,P,t.annotationCanvasMap)}static update(t){const{page:l,viewport:f,annotations:P,annotationCanvasMap:C,div:E}=t,U=f.transform,j=`matrix(${U.join(",")})`;let V,G;for(const Y of P){const ie=E.querySelectorAll(`[data-annotation-id="${Y.id}"]`);if(ie)for(const pe of ie)if(Y.hasOwnCanvas){const Se=p.Util.normalizeRect([Y.rect[0],l.view[3]-Y.rect[1]+l.view[1],Y.rect[2],l.view[3]-Y.rect[3]+l.view[1]]);if(!G){V=Math.abs(U[0]||U[1]);const Q=U.slice();for(let v=0;v<4;v++)Q[v]=Math.sign(Q[v]);G=`matrix(${Q.join(",")})`}const ee=Se[0]*V,oe=Se[1]*V;pe.style.left=`${ee}px`,pe.style.top=`${oe}px`,pe.style.transformOrigin=`${-ee}px ${-oe}px`,pe.style.transform=G}else pe.style.transform=j}we(this,T,lt).call(this,E,C),E.hidden=!1}}T=new WeakSet,lt=function(t,l){if(l){for(const[f,P]of l){const C=t.querySelector(`[data-annotation-id="${f}"]`);if(!C)continue;const{firstChild:E}=C;"CANVAS"===E.nodeName?C.replaceChild(P,E):C.insertBefore(P,E)}l.clear()}},xe(le,T),M.AnnotationLayer=le},(be,M)=>{function se(de){return Math.floor(255*Math.max(0,Math.min(1,de))).toString(16).padStart(2,"0")}Object.defineProperty(M,"__esModule",{value:!0}),M.ColorConverters=void 0,M.ColorConverters=class p{static CMYK_G([ae,$,K,D]){return["G",1-Math.min(1,.3*ae+.59*K+.11*$+D)]}static G_CMYK([ae]){return["CMYK",0,0,0,1-ae]}static G_RGB([ae]){return["RGB",ae,ae,ae]}static G_HTML([ae]){const $=se(ae);return`#${$}${$}${$}`}static RGB_G([ae,$,K]){return["G",.3*ae+.59*$+.11*K]}static RGB_HTML([ae,$,K]){return`#${se(ae)}${se($)}${se(K)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([ae,$,K,D]){return["RGB",1-Math.min(1,ae+D),1-Math.min(1,K+D),1-Math.min(1,$+D)]}static CMYK_HTML(ae){return this.RGB_HTML(this.CMYK_RGB(ae))}static RGB_CMYK([ae,$,K]){const D=1-ae,h=1-$,S=1-K;return["CMYK",D,h,S,Math.min(D,h,S)]}}},(be,M,se)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.XfaLayer=void 0;var p=se(18);M.XfaLayer=class de{static setupStorage($,K,D,h,S){const m=h.getValue(K,{value:null});switch(D.name){case"textarea":if(null!==m.value&&($.textContent=m.value),"print"===S)break;$.addEventListener("input",g=>{h.setValue(K,{value:g.target.value})});break;case"input":if("radio"===D.attributes.type||"checkbox"===D.attributes.type){if(m.value===D.attributes.xfaOn?$.setAttribute("checked",!0):m.value===D.attributes.xfaOff&&$.removeAttribute("checked"),"print"===S)break;$.addEventListener("change",g=>{h.setValue(K,{value:g.target.getAttribute(g.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==m.value&&$.setAttribute("value",m.value),"print"===S)break;$.addEventListener("input",g=>{h.setValue(K,{value:g.target.value})})}break;case"select":if(null!==m.value)for(const g of D.children)g.attributes.value===m.value&&(g.attributes.selected=!0);$.addEventListener("input",g=>{const a=g.target.options;h.setValue(K,{value:-1===a.selectedIndex?"":a[a.selectedIndex].value})})}}static setAttributes({html:$,element:K,storage:D=null,intent:h,linkService:S}){const{attributes:m}=K,g=$ instanceof HTMLAnchorElement;"radio"===m.type&&(m.name=`${m.name}-${h}`);for(const[a,_]of Object.entries(m))if(null!=_&&"dataId"!==a)if("style"!==a)if("textContent"===a)$.textContent=_;else if("class"===a)_.length&&$.setAttribute(a,_.join(" "));else{if(g&&("href"===a||"newWindow"===a))continue;$.setAttribute(a,_)}else Object.assign($.style,_);g&&S.addLinkAttributes($,m.href,m.newWindow),D&&m.dataId&&this.setupStorage($,m.dataId,K,D)}static render($){const K=$.annotationStorage,D=$.linkService,h=$.xfaHtml,S=$.intent||"display",m=document.createElement(h.name);h.attributes&&this.setAttributes({html:m,element:h,intent:S,linkService:D});const g=[[h,-1,m]],a=$.div;if(a.appendChild(m),$.viewport){const i=`matrix(${$.viewport.transform.join(",")})`;a.style.transform=i}"richText"!==S&&a.setAttribute("class","xfaLayer xfaFont");const _=[];for(;g.length>0;){const[i,r,u]=g[g.length-1];if(r+1===i.children.length){g.pop();continue}const w=i.children[++g[g.length-1][1]];if(null===w)continue;const{name:e}=w;if("#text"===e){const n=document.createTextNode(w.value);_.push(n),u.appendChild(n);continue}let d;if(d=w?.attributes?.xmlns?document.createElementNS(w.attributes.xmlns,e):document.createElement(e),u.appendChild(d),w.attributes&&this.setAttributes({html:d,element:w,storage:K,intent:S,linkService:D}),w.children&&w.children.length>0)g.push([w,-1,d]);else if(w.value){const n=document.createTextNode(w.value);p.XfaText.shouldBuildText(e)&&_.push(n),d.appendChild(n)}}for(const i of a.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))i.setAttribute("readOnly",!0);return{textDivs:_}}static update($){const K=`matrix(${$.viewport.transform.join(",")})`;$.div.style.transform=K,$.div.hidden=!1}}},(be,M,se)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.renderTextLayer=function u(w){const e=new r({textContent:w.textContent,textContentStream:w.textContentStream,container:w.container,viewport:w.viewport,textDivs:w.textDivs,textContentItemsStr:w.textContentItemsStr,enhanceTextSelection:w.enhanceTextSelection});return e._render(w.timeout),e};var p=se(1);const K=new Map,D=/^\s+$/g;function S(w,e,d,n){const s=document.createElement("span"),A=w._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==e.str,hasEOL:e.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==e.str,hasEOL:e.hasEOL};w._textDivs.push(s);const b=p.Util.transform(w._viewport.transform,e.transform);let y=Math.atan2(b[1],b[0]);const k=d[e.fontName];k.vertical&&(y+=Math.PI/2);const L=Math.hypot(b[2],b[3]),R=L*function h(w,e){const d=K.get(w);if(d)return d;e.save(),e.font=`30px ${w}`;const n=e.measureText("");let s=n.fontBoundingBoxAscent,A=Math.abs(n.fontBoundingBoxDescent);if(s){e.restore();const y=s/(s+A);return K.set(w,y),y}e.strokeStyle="red",e.clearRect(0,0,30,30),e.strokeText("g",0,0);let b=e.getImageData(0,0,30,30).data;A=0;for(let y=b.length-1-3;y>=0;y-=4)if(b[y]>0){A=Math.ceil(y/4/30);break}e.clearRect(0,0,30,30),e.strokeText("A",0,30),b=e.getImageData(0,0,30,30).data,s=0;for(let y=0,k=b.length;y<k;y+=4)if(b[y]>0){s=30-Math.floor(y/4/30);break}if(e.restore(),s){const y=s/(s+A);return K.set(w,y),y}return K.set(w,.8),.8}(k.fontFamily,n);let N,H;0===y?(N=b[4],H=b[5]-R):(N=b[4]+R*Math.sin(y),H=b[5]-R*Math.cos(y)),s.style.left=`${N}px`,s.style.top=`${H}px`,s.style.fontSize=`${L}px`,s.style.fontFamily=k.fontFamily,s.setAttribute("role","presentation"),s.textContent=e.str,s.dir=e.dir,w._fontInspectorEnabled&&(s.dataset.fontName=e.fontName),0!==y&&(A.angle=y*(180/Math.PI));let X=!1;if(e.str.length>1||w._enhanceTextSelection&&D.test(e.str))X=!0;else if(" "!==e.str&&e.transform[0]!==e.transform[3]){const ne=Math.abs(e.transform[0]),B=Math.abs(e.transform[3]);ne!==B&&Math.max(ne,B)/Math.min(ne,B)>1.5&&(X=!0)}if(X&&(A.canvasWidth=k.vertical?e.height*w._viewport.scale:e.width*w._viewport.scale),w._textDivProperties.set(s,A),w._textContentStream&&w._layoutText(s),w._enhanceTextSelection&&A.hasText){let ne=1,B=0;0!==y&&(ne=Math.cos(y),B=Math.sin(y));const q=(k.vertical?e.height:e.width)*w._viewport.scale,J=L;let re,le;0!==y?(re=[ne,B,-B,ne,N,H],le=p.Util.getAxialAlignedBoundingBox([0,0,q,J],re)):le=[N,H,N+q,H+J],w._bounds.push({left:le[0],top:le[1],right:le[2],bottom:le[3],div:s,size:[q,J],m:re})}}function m(w){if(w._canceled)return;const e=w._textDivs,d=w._capability,n=e.length;if(n>1e5)return w._renderingDone=!0,void d.resolve();if(!w._textContentStream)for(let s=0;s<n;s++)w._layoutText(e[s]);w._renderingDone=!0,d.resolve()}function g(w,e,d){let n=0;for(let s=0;s<d;s++){const A=w[e++];A>0&&(n=n?Math.min(A,n):A)}return n}function i(w,e){e.sort(function(s,A){return s.x1-A.x1||s.index-A.index});const n=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const s of e){let A=0;for(;A<n.length&&n[A].end<=s.y1;)A++;let b=n.length-1;for(;b>=0&&n[b].start>=s.y2;)b--;let y,k,L,R,N=-1/0;for(L=A;L<=b;L++){let ne;y=n[L],k=y.boundary,ne=k.x2>s.x1?k.index>s.index?k.x1New:s.x1:void 0===k.x2New?(k.x2+s.x1)/2:k.x2New,ne>N&&(N=ne)}for(s.x1New=N,L=A;L<=b;L++)y=n[L],k=y.boundary,void 0===k.x2New?k.x2>s.x1?k.index>s.index&&(k.x2New=k.x2):k.x2New=N:k.x2New>N&&(k.x2New=Math.max(N,k.x2));const H=[];let X=null;for(L=A;L<=b;L++){y=n[L],k=y.boundary;const ne=k.x2>s.x2?k:s;X===ne?H[H.length-1].end=y.end:(H.push({start:y.start,end:y.end,boundary:ne}),X=ne)}for(n[A].start<s.y1&&(H[0].start=s.y1,H.unshift({start:n[A].start,end:s.y1,boundary:n[A].boundary})),s.y2<n[b].end&&(H[H.length-1].end=s.y2,H.push({start:s.y2,end:n[b].end,boundary:n[b].boundary})),L=A;L<=b;L++){if(y=n[L],k=y.boundary,void 0!==k.x2New)continue;let ne=!1;for(R=A-1;!ne&&R>=0&&n[R].start>=k.y1;R--)ne=n[R].boundary===k;for(R=b+1;!ne&&R<n.length&&n[R].end<=k.y2;R++)ne=n[R].boundary===k;for(R=0;!ne&&R<H.length;R++)ne=H[R].boundary===k;ne||(k.x2New=N)}Array.prototype.splice.apply(n,[A,b-A+1].concat(H))}for(const s of n){const A=s.boundary;void 0===A.x2New&&(A.x2New=Math.max(w,A.x2))}}class r{constructor({textContent:e,textContentStream:d,container:n,viewport:s,textDivs:A,textContentItemsStr:b,enhanceTextSelection:y}){this._textContent=e,this._textContentStream=d,this._container=n,this._document=n.ownerDocument,this._viewport=s,this._textDivs=A||[],this._textContentItemsStr=b||[],this._enhanceTextSelection=!!y,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,p.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new p.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(e,d){for(let n=0,s=e.length;n<s;n++)if(void 0!==e[n].str)this._textContentItemsStr.push(e[n].str),S(this,e[n],d,this._layoutTextCtx);else if("beginMarkedContentProps"===e[n].type||"beginMarkedContent"===e[n].type){const A=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==e[n].id&&this._container.setAttribute("id",`${e[n].id}`),A.appendChild(this._container)}else"endMarkedContent"===e[n].type&&(this._container=this._container.parentNode)}_layoutText(e){const d=this._textDivProperties.get(e);let n="";if(0!==d.canvasWidth&&d.hasText){const{fontSize:s,fontFamily:A}=e.style;(s!==this._layoutTextLastFontSize||A!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${s} ${A}`,this._layoutTextLastFontSize=s,this._layoutTextLastFontFamily=A);const{width:b}=this._layoutTextCtx.measureText(e.textContent);if(b>0){const y=d.canvasWidth/b;this._enhanceTextSelection&&(d.scale=y),n=`scaleX(${y})`}}if(0!==d.angle&&(n=`rotate(${d.angle}deg) ${n}`),n.length>0&&(this._enhanceTextSelection&&(d.originalTransform=n),e.style.transform=n),d.hasText&&this._container.appendChild(e),d.hasEOL){const s=document.createElement("br");s.setAttribute("role","presentation"),this._container.appendChild(s)}}_render(e=0){const d=(0,p.createPromiseCapability)();let n=Object.create(null);const s=this._document.createElement("canvas");if(s.height=s.width=30,this._layoutTextCtx=s.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),d.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const A=()=>{this._reader.read().then(({value:b,done:y})=>{y?d.resolve():(Object.assign(n,b.styles),this._processItems(b.items,n),A())},d.reject)};this._reader=this._textContentStream.getReader(),A()}}d.promise.then(()=>{n=null,e?this._renderTimer=setTimeout(()=>{m(this),this._renderTimer=null},e):m(this)},this._capability.reject)}expandTextDivs(e=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function a(w){const e=w._bounds,d=w._viewport,n=function _(w,e,d){const n=d.map(function(A,b){return{x1:A.left,y1:A.top,x2:A.right,y2:A.bottom,index:b,x1New:void 0,x2New:void 0}});i(w,n);const s=new Array(d.length);for(const A of n)s[A.index]={left:A.x1New,top:0,right:A.x2New,bottom:0};d.map(function(A,b){const y=s[b],k=n[b];k.x1=A.top,k.y1=w-y.right,k.x2=A.bottom,k.y2=w-y.left,k.index=b,k.x1New=void 0,k.x2New=void 0}),i(e,n);for(const A of n){const b=A.index;s[b].top=A.x1New,s[b].bottom=A.x2New}return s}(d.width,d.height,e);for(let s=0;s<n.length;s++){const A=e[s].div,b=w._textDivProperties.get(A);if(0===b.angle){b.paddingLeft=e[s].left-n[s].left,b.paddingTop=e[s].top-n[s].top,b.paddingRight=n[s].right-e[s].right,b.paddingBottom=n[s].bottom-e[s].bottom,w._textDivProperties.set(A,b);continue}const y=n[s],k=e[s],L=k.m,R=L[0],N=L[1],H=[[0,0],[0,k.size[1]],[k.size[0],0],k.size],X=new Float64Array(64);for(let B=0,q=H.length;B<q;B++){const J=p.Util.applyTransform(H[B],L);X[B+0]=R&&(y.left-J[0])/R,X[B+4]=N&&(y.top-J[1])/N,X[B+8]=R&&(y.right-J[0])/R,X[B+12]=N&&(y.bottom-J[1])/N,X[B+16]=N&&(y.left-J[0])/-N,X[B+20]=R&&(y.top-J[1])/R,X[B+24]=N&&(y.right-J[0])/-N,X[B+28]=R&&(y.bottom-J[1])/R,X[B+32]=R&&(y.left-J[0])/-R,X[B+36]=N&&(y.top-J[1])/-N,X[B+40]=R&&(y.right-J[0])/-R,X[B+44]=N&&(y.bottom-J[1])/-N,X[B+48]=N&&(y.left-J[0])/N,X[B+52]=R&&(y.top-J[1])/-R,X[B+56]=N&&(y.right-J[0])/N,X[B+60]=R&&(y.bottom-J[1])/-R}const ne=1+Math.min(Math.abs(R),Math.abs(N));b.paddingLeft=g(X,32,16)/ne,b.paddingTop=g(X,48,16)/ne,b.paddingRight=g(X,0,16)/ne,b.paddingBottom=g(X,16,16)/ne,w._textDivProperties.set(A,b)}}(this),this._bounds=null);const d=[],n=[];for(let s=0,A=this._textDivs.length;s<A;s++){const b=this._textDivs[s],y=this._textDivProperties.get(b);!y.hasText||(e?(d.length=0,n.length=0,y.originalTransform&&d.push(y.originalTransform),y.paddingTop>0?(n.push(`${y.paddingTop}px`),d.push(`translateY(${-y.paddingTop}px)`)):n.push(0),n.push(y.paddingRight>0?y.paddingRight/y.scale+"px":0),n.push(y.paddingBottom>0?`${y.paddingBottom}px`:0),y.paddingLeft>0?(n.push(y.paddingLeft/y.scale+"px"),d.push(`translateX(${-y.paddingLeft/y.scale}px)`)):n.push(0),b.style.padding=n.join(" "),d.length&&(b.style.transform=d.join(" "))):(b.style.padding=null,b.style.transform=y.originalTransform))}}}},(be,M,se)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.SVGGraphics=void 0;var p=se(1),de=se(5),ae=se(3);let $=class{constructor(){(0,p.unreachable)("Not implemented: SVGGraphics")}};M.SVGGraphics=$;{let i=function(n){let s=[];const A=[];for(const b of n)"save"!==b.fn?"restore"===b.fn?s=A.pop():s.push(b):(s.push({fnId:92,fn:"group",items:[]}),A.push(s),s=s[s.length-1].items);return s},r=function(n){if(Number.isInteger(n))return n.toString();const s=n.toFixed(10);let A=s.length-1;if("0"!==s[A])return s;do{A--}while("0"===s[A]);return s.substring(0,"."===s[A]?A:A+1)},u=function(n){if(0===n[4]&&0===n[5]){if(0===n[1]&&0===n[2])return 1===n[0]&&1===n[3]?"":`scale(${r(n[0])} ${r(n[3])})`;if(n[0]===n[3]&&n[1]===-n[2]){const s=180*Math.acos(n[0])/Math.PI;return`rotate(${r(s)})`}}else if(1===n[0]&&0===n[1]&&0===n[2]&&1===n[3])return`translate(${r(n[4])} ${r(n[5])})`;return`matrix(${r(n[0])} ${r(n[1])} ${r(n[2])} ${r(n[3])} ${r(n[4])} ${r(n[5])})`};const K={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},D="http://www.w3.org/XML/1998/namespace",h="http://www.w3.org/1999/xlink",S=["butt","round","square"],m=["miter","round","bevel"],g=function(n,s="",A=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!A)return URL.createObjectURL(new Blob([n],{type:s}));const b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let y=`data:${s};base64,`;for(let k=0,L=n.length;k<L;k+=3){const R=255&n[k],N=255&n[k+1],H=255&n[k+2];y+=b[R>>2]+b[(3&R)<<4|N>>4]+b[k+1<L?(15&N)<<2|H>>6:64]+b[k+2<L?63&H:64]}return y},a=function(){const n=new Uint8Array([137,80,78,71,13,10,26,10]),A=new Int32Array(256);for(let H=0;H<256;H++){let X=H;for(let ne=0;ne<8;ne++)X=1&X?3988292384^X>>1&2147483647:X>>1&2147483647;A[H]=X}function y(H,X,ne,B){let q=B;const J=X.length;ne[q]=J>>24&255,ne[q+1]=J>>16&255,ne[q+2]=J>>8&255,ne[q+3]=255&J,q+=4,ne[q]=255&H.charCodeAt(0),ne[q+1]=255&H.charCodeAt(1),ne[q+2]=255&H.charCodeAt(2),ne[q+3]=255&H.charCodeAt(3),q+=4,ne.set(X,q),q+=X.length;const re=function b(H,X,ne){let B=-1;for(let q=X;q<ne;q++)B=B>>>8^A[255&(B^H[q])];return-1^B}(ne,B+4,q);ne[q]=re>>24&255,ne[q+1]=re>>16&255,ne[q+2]=re>>8&255,ne[q+3]=255&re}function R(H){let X=H.length;const ne=65535,B=Math.ceil(X/ne),q=new Uint8Array(2+X+5*B+4);let J=0;q[J++]=120,q[J++]=156;let re=0;for(;X>ne;)q[J++]=0,q[J++]=255,q[J++]=255,q[J++]=0,q[J++]=0,q.set(H.subarray(re,re+ne),J),J+=ne,re+=ne,X-=ne;q[J++]=1,q[J++]=255&X,q[J++]=X>>8&255,q[J++]=255&~X,q[J++]=(65535&~X)>>8&255,q.set(H.subarray(re),J),J+=H.length-re;const le=function k(H,X,ne){let B=1,q=0;for(let J=X;J<ne;++J)B=(B+(255&H[J]))%65521,q=(q+B)%65521;return q<<16|B}(H,0,H.length);return q[J++]=le>>24&255,q[J++]=le>>16&255,q[J++]=le>>8&255,q[J++]=255&le,q}return function(X,ne,B){return function N(H,X,ne,B){const q=H.width,J=H.height;let re,le,T;const o=H.data;switch(X){case p.ImageKind.GRAYSCALE_1BPP:le=0,re=1,T=q+7>>3;break;case p.ImageKind.RGB_24BPP:le=2,re=8,T=3*q;break;case p.ImageKind.RGBA_32BPP:le=6,re=8,T=4*q;break;default:throw new Error("invalid format")}const c=new Uint8Array((1+T)*J);let t=0,l=0;for(let j=0;j<J;++j)c[t++]=0,c.set(o.subarray(l,l+T),t),l+=T,t+=T;if(X===p.ImageKind.GRAYSCALE_1BPP&&B){t=0;for(let j=0;j<J;j++){t++;for(let V=0;V<T;V++)c[t++]^=255}}const f=new Uint8Array([q>>24&255,q>>16&255,q>>8&255,255&q,J>>24&255,J>>16&255,J>>8&255,255&J,re,le,0,0,0]),P=function L(H){if(!ae.isNodeJS)return R(H);try{let X;X=parseInt(process.versions.node)>=8?H:Buffer.from(H);const ne=__webpack_require__(2258).deflateSync(X,{level:9});return ne instanceof Uint8Array?ne:new Uint8Array(ne)}catch(X){(0,p.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+X)}return R(H)}(c),E=new Uint8Array(n.length+36+f.length+P.length);let U=0;return E.set(n,U),U+=n.length,y("IHDR",f,E,U),U+=12+f.length,y("IDATA",P,E,U),U+=12+P.length,y("IEND",new Uint8Array(0),E,U),g(E,"image/png",ne)}(X,void 0===X.kind?p.ImageKind.GRAYSCALE_1BPP:X.kind,ne,B)}}();class _{constructor(){this.fontSizeScale=1,this.fontWeight=K.fontWeight,this.fontSize=0,this.textMatrix=p.IDENTITY_MATRIX,this.fontMatrix=p.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=p.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=K.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(s,A){this.x=s,this.y=A}}let w=0,e=0,d=0;M.SVGGraphics=$=class{constructor(n,s,A=!1){this.svgFactory=new de.DOMSVGFactory,this.current=new _,this.transformMatrix=p.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=n,this.objs=s,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!A,this._operatorIdMapping=[];for(const b in p.OPS)this._operatorIdMapping[p.OPS[b]]=b}save(){this.transformStack.push(this.transformMatrix);const n=this.current;this.extraStack.push(n),this.current=n.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(n){this.save(),this.executeOpTree(n),this.restore()}loadDependencies(n){const s=n.fnArray,A=n.argsArray;for(let b=0,y=s.length;b<y;b++)if(s[b]===p.OPS.dependency)for(const k of A[b]){const L=k.startsWith("g_")?this.commonObjs:this.objs,R=new Promise(N=>{L.get(k,N)});this.current.dependencies.push(R)}return Promise.all(this.current.dependencies)}transform(n,s,A,b,y,k){this.transformMatrix=p.Util.transform(this.transformMatrix,[n,s,A,b,y,k]),this.tgrp=null}getSVG(n,s){this.viewport=s;const A=this._initialize(s);return this.loadDependencies(n).then(()=>(this.transformMatrix=p.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(n)),A))}convertOpList(n){const s=this._operatorIdMapping,A=n.argsArray,b=n.fnArray,y=[];for(let k=0,L=b.length;k<L;k++){const R=b[k];y.push({fnId:R,fn:s[R],args:A[k]})}return i(y)}executeOpTree(n){for(const s of n){const A=s.fn,y=s.args;switch(0|s.fnId){case p.OPS.beginText:this.beginText();break;case p.OPS.dependency:break;case p.OPS.setLeading:this.setLeading(y);break;case p.OPS.setLeadingMoveText:this.setLeadingMoveText(y[0],y[1]);break;case p.OPS.setFont:this.setFont(y);break;case p.OPS.showText:case p.OPS.showSpacedText:this.showText(y[0]);break;case p.OPS.endText:this.endText();break;case p.OPS.moveText:this.moveText(y[0],y[1]);break;case p.OPS.setCharSpacing:this.setCharSpacing(y[0]);break;case p.OPS.setWordSpacing:this.setWordSpacing(y[0]);break;case p.OPS.setHScale:this.setHScale(y[0]);break;case p.OPS.setTextMatrix:this.setTextMatrix(y[0],y[1],y[2],y[3],y[4],y[5]);break;case p.OPS.setTextRise:this.setTextRise(y[0]);break;case p.OPS.setTextRenderingMode:this.setTextRenderingMode(y[0]);break;case p.OPS.setLineWidth:this.setLineWidth(y[0]);break;case p.OPS.setLineJoin:this.setLineJoin(y[0]);break;case p.OPS.setLineCap:this.setLineCap(y[0]);break;case p.OPS.setMiterLimit:this.setMiterLimit(y[0]);break;case p.OPS.setFillRGBColor:this.setFillRGBColor(y[0],y[1],y[2]);break;case p.OPS.setStrokeRGBColor:this.setStrokeRGBColor(y[0],y[1],y[2]);break;case p.OPS.setStrokeColorN:this.setStrokeColorN(y);break;case p.OPS.setFillColorN:this.setFillColorN(y);break;case p.OPS.shadingFill:this.shadingFill(y[0]);break;case p.OPS.setDash:this.setDash(y[0],y[1]);break;case p.OPS.setRenderingIntent:this.setRenderingIntent(y[0]);break;case p.OPS.setFlatness:this.setFlatness(y[0]);break;case p.OPS.setGState:this.setGState(y[0]);break;case p.OPS.fill:this.fill();break;case p.OPS.eoFill:this.eoFill();break;case p.OPS.stroke:this.stroke();break;case p.OPS.fillStroke:this.fillStroke();break;case p.OPS.eoFillStroke:this.eoFillStroke();break;case p.OPS.clip:this.clip("nonzero");break;case p.OPS.eoClip:this.clip("evenodd");break;case p.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case p.OPS.paintImageXObject:this.paintImageXObject(y[0]);break;case p.OPS.paintInlineImageXObject:this.paintInlineImageXObject(y[0]);break;case p.OPS.paintImageMaskXObject:this.paintImageMaskXObject(y[0]);break;case p.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(y[0],y[1]);break;case p.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case p.OPS.closePath:this.closePath();break;case p.OPS.closeStroke:this.closeStroke();break;case p.OPS.closeFillStroke:this.closeFillStroke();break;case p.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case p.OPS.nextLine:this.nextLine();break;case p.OPS.transform:this.transform(y[0],y[1],y[2],y[3],y[4],y[5]);break;case p.OPS.constructPath:this.constructPath(y[0],y[1]);break;case p.OPS.endPath:this.endPath();break;case 92:this.group(s.items);break;default:(0,p.warn)(`Unimplemented operator ${A}`)}}}setWordSpacing(n){this.current.wordSpacing=n}setCharSpacing(n){this.current.charSpacing=n}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(n,s,A,b,y,k){const L=this.current;L.textMatrix=L.lineMatrix=[n,s,A,b,y,k],L.textMatrixScale=Math.hypot(n,s),L.x=L.lineX=0,L.y=L.lineY=0,L.xcoords=[],L.ycoords=[],L.tspan=this.svgFactory.createElement("svg:tspan"),L.tspan.setAttributeNS(null,"font-family",L.fontFamily),L.tspan.setAttributeNS(null,"font-size",`${r(L.fontSize)}px`),L.tspan.setAttributeNS(null,"y",r(-L.y)),L.txtElement=this.svgFactory.createElement("svg:text"),L.txtElement.appendChild(L.tspan)}beginText(){const n=this.current;n.x=n.lineX=0,n.y=n.lineY=0,n.textMatrix=p.IDENTITY_MATRIX,n.lineMatrix=p.IDENTITY_MATRIX,n.textMatrixScale=1,n.tspan=this.svgFactory.createElement("svg:tspan"),n.txtElement=this.svgFactory.createElement("svg:text"),n.txtgrp=this.svgFactory.createElement("svg:g"),n.xcoords=[],n.ycoords=[]}moveText(n,s){const A=this.current;A.x=A.lineX+=n,A.y=A.lineY+=s,A.xcoords=[],A.ycoords=[],A.tspan=this.svgFactory.createElement("svg:tspan"),A.tspan.setAttributeNS(null,"font-family",A.fontFamily),A.tspan.setAttributeNS(null,"font-size",`${r(A.fontSize)}px`),A.tspan.setAttributeNS(null,"y",r(-A.y))}showText(n){const s=this.current,A=s.font,b=s.fontSize;if(0===b)return;const y=s.fontSizeScale,k=s.charSpacing,L=s.wordSpacing,R=s.fontDirection,N=s.textHScale*R,H=A.vertical,X=H?1:-1,ne=A.defaultVMetrics,B=b*s.fontMatrix[0];let q=0;for(const le of n){if(null===le){q+=R*L;continue}if("number"==typeof le){q+=X*le*b/1e3;continue}const T=(le.isSpace?L:0)+k,o=le.fontChar;let c,t,f,l=le.width;if(H){let P;const C=le.vmetric||ne;P=le.vmetric?C[1]:.5*l,P=-P*B,l=C?-C[0]:l,c=P/y,t=(q+C[2]*B)/y}else c=q/y,t=0;(le.isInFont||A.missingFile)&&(s.xcoords.push(s.x+c),H&&s.ycoords.push(-s.y+t),s.tspan.textContent+=o),f=H?l*B-T*R:l*B+T*R,q+=f}s.tspan.setAttributeNS(null,"x",s.xcoords.map(r).join(" ")),s.tspan.setAttributeNS(null,"y",H?s.ycoords.map(r).join(" "):r(-s.y)),H?s.y-=q:s.x+=q*N,s.tspan.setAttributeNS(null,"font-family",s.fontFamily),s.tspan.setAttributeNS(null,"font-size",`${r(s.fontSize)}px`),s.fontStyle!==K.fontStyle&&s.tspan.setAttributeNS(null,"font-style",s.fontStyle),s.fontWeight!==K.fontWeight&&s.tspan.setAttributeNS(null,"font-weight",s.fontWeight);const J=s.textRenderingMode&p.TextRenderingMode.FILL_STROKE_MASK;J===p.TextRenderingMode.FILL||J===p.TextRenderingMode.FILL_STROKE?(s.fillColor!==K.fillColor&&s.tspan.setAttributeNS(null,"fill",s.fillColor),s.fillAlpha<1&&s.tspan.setAttributeNS(null,"fill-opacity",s.fillAlpha)):s.tspan.setAttributeNS(null,"fill",s.textRenderingMode===p.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(J===p.TextRenderingMode.STROKE||J===p.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(s.tspan,1/(s.textMatrixScale||1));let re=s.textMatrix;0!==s.textRise&&(re=re.slice(),re[5]+=s.textRise),s.txtElement.setAttributeNS(null,"transform",`${u(re)} scale(${r(N)}, -1)`),s.txtElement.setAttributeNS(D,"xml:space","preserve"),s.txtElement.appendChild(s.tspan),s.txtgrp.appendChild(s.txtElement),this._ensureTransformGroup().appendChild(s.txtElement)}setLeadingMoveText(n,s){this.setLeading(-s),this.moveText(n,s)}addFontStyle(n){if(!n.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const s=g(n.data,n.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${n.loadedName}"; src: url(${s}); }\n`}setFont(n){const s=this.current,A=this.commonObjs.get(n[0]);let b=n[1];s.font=A,this.embedFonts&&!A.missingFile&&!this.embeddedFonts[A.loadedName]&&(this.addFontStyle(A),this.embeddedFonts[A.loadedName]=A),s.fontMatrix=A.fontMatrix||p.FONT_IDENTITY_MATRIX;let y="normal";A.black?y="900":A.bold&&(y="bold");const k=A.italic?"italic":"normal";b<0?(b=-b,s.fontDirection=-1):s.fontDirection=1,s.fontSize=b,s.fontFamily=A.loadedName,s.fontWeight=y,s.fontStyle=k,s.tspan=this.svgFactory.createElement("svg:tspan"),s.tspan.setAttributeNS(null,"y",r(-s.y)),s.xcoords=[],s.ycoords=[]}endText(){const n=this.current;n.textRenderingMode&p.TextRenderingMode.ADD_TO_PATH_FLAG&&n.txtElement?.hasChildNodes()&&(n.element=n.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(n){n>0&&(this.current.lineWidth=n)}setLineCap(n){this.current.lineCap=S[n]}setLineJoin(n){this.current.lineJoin=m[n]}setMiterLimit(n){this.current.miterLimit=n}setStrokeAlpha(n){this.current.strokeAlpha=n}setStrokeRGBColor(n,s,A){this.current.strokeColor=p.Util.makeHexColor(n,s,A)}setFillAlpha(n){this.current.fillAlpha=n}setFillRGBColor(n,s,A){this.current.fillColor=p.Util.makeHexColor(n,s,A),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(n){this.current.strokeColor=this._makeColorN_Pattern(n)}setFillColorN(n){this.current.fillColor=this._makeColorN_Pattern(n)}shadingFill(n){const s=this.viewport.width,A=this.viewport.height,b=p.Util.inverseTransform(this.transformMatrix),y=p.Util.applyTransform([0,0],b),k=p.Util.applyTransform([0,A],b),L=p.Util.applyTransform([s,0],b),R=p.Util.applyTransform([s,A],b),N=Math.min(y[0],k[0],L[0],R[0]),H=Math.min(y[1],k[1],L[1],R[1]),X=Math.max(y[0],k[0],L[0],R[0]),ne=Math.max(y[1],k[1],L[1],R[1]),B=this.svgFactory.createElement("svg:rect");B.setAttributeNS(null,"x",N),B.setAttributeNS(null,"y",H),B.setAttributeNS(null,"width",X-N),B.setAttributeNS(null,"height",ne-H),B.setAttributeNS(null,"fill",this._makeShadingPattern(n)),this.current.fillAlpha<1&&B.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(B)}_makeColorN_Pattern(n){return"TilingPattern"===n[0]?this._makeTilingPattern(n):this._makeShadingPattern(n)}_makeTilingPattern(n){const s=n[1],A=n[2],b=n[3]||p.IDENTITY_MATRIX,[y,k,L,R]=n[4],N=n[5],H=n[6],X=n[7],ne="shading"+d++,[B,q,J,re]=p.Util.normalizeRect([...p.Util.applyTransform([y,k],b),...p.Util.applyTransform([L,R],b)]),[le,T]=p.Util.singularValueDecompose2dScale(b),o=N*le,c=H*T,t=this.svgFactory.createElement("svg:pattern");t.setAttributeNS(null,"id",ne),t.setAttributeNS(null,"patternUnits","userSpaceOnUse"),t.setAttributeNS(null,"width",o),t.setAttributeNS(null,"height",c),t.setAttributeNS(null,"x",`${B}`),t.setAttributeNS(null,"y",`${q}`);const l=this.svg,f=this.transformMatrix,P=this.current.fillColor,C=this.current.strokeColor,E=this.svgFactory.create(J-B,re-q);if(this.svg=E,this.transformMatrix=b,2===X){const U=p.Util.makeHexColor(...s);this.current.fillColor=U,this.current.strokeColor=U}return this.executeOpTree(this.convertOpList(A)),this.svg=l,this.transformMatrix=f,this.current.fillColor=P,this.current.strokeColor=C,t.appendChild(E.childNodes[0]),this.defs.appendChild(t),`url(#${ne})`}_makeShadingPattern(n){switch("string"==typeof n&&(n=this.objs.get(n)),n[0]){case"RadialAxial":const s="shading"+d++,A=n[3];let b;switch(n[1]){case"axial":const y=n[4],k=n[5];b=this.svgFactory.createElement("svg:linearGradient"),b.setAttributeNS(null,"id",s),b.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),b.setAttributeNS(null,"x1",y[0]),b.setAttributeNS(null,"y1",y[1]),b.setAttributeNS(null,"x2",k[0]),b.setAttributeNS(null,"y2",k[1]);break;case"radial":const L=n[4],R=n[5],N=n[6],H=n[7];b=this.svgFactory.createElement("svg:radialGradient"),b.setAttributeNS(null,"id",s),b.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),b.setAttributeNS(null,"cx",R[0]),b.setAttributeNS(null,"cy",R[1]),b.setAttributeNS(null,"r",H),b.setAttributeNS(null,"fx",L[0]),b.setAttributeNS(null,"fy",L[1]),b.setAttributeNS(null,"fr",N);break;default:throw new Error(`Unknown RadialAxial type: ${n[1]}`)}for(const y of A){const k=this.svgFactory.createElement("svg:stop");k.setAttributeNS(null,"offset",y[0]),k.setAttributeNS(null,"stop-color",y[1]),b.appendChild(k)}return this.defs.appendChild(b),`url(#${s})`;case"Mesh":return(0,p.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${n[0]}`)}}setDash(n,s){this.current.dashArray=n,this.current.dashPhase=s}constructPath(n,s){const A=this.current;let b=A.x,y=A.y,k=[],L=0;for(const R of n)switch(0|R){case p.OPS.rectangle:b=s[L++],y=s[L++];const X=b+s[L++],ne=y+s[L++];k.push("M",r(b),r(y),"L",r(X),r(y),"L",r(X),r(ne),"L",r(b),r(ne),"Z");break;case p.OPS.moveTo:b=s[L++],y=s[L++],k.push("M",r(b),r(y));break;case p.OPS.lineTo:b=s[L++],y=s[L++],k.push("L",r(b),r(y));break;case p.OPS.curveTo:b=s[L+4],y=s[L+5],k.push("C",r(s[L]),r(s[L+1]),r(s[L+2]),r(s[L+3]),r(b),r(y)),L+=6;break;case p.OPS.curveTo2:k.push("C",r(b),r(y),r(s[L]),r(s[L+1]),r(s[L+2]),r(s[L+3])),b=s[L+2],y=s[L+3],L+=4;break;case p.OPS.curveTo3:b=s[L+2],y=s[L+3],k.push("C",r(s[L]),r(s[L+1]),r(b),r(y),r(b),r(y)),L+=4;break;case p.OPS.closePath:k.push("Z")}k=k.join(" "),A.path&&n.length>0&&n[0]!==p.OPS.rectangle&&n[0]!==p.OPS.moveTo?k=A.path.getAttributeNS(null,"d")+k:(A.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(A.path)),A.path.setAttributeNS(null,"d",k),A.path.setAttributeNS(null,"fill","none"),A.element=A.path,A.setCurrentPoint(b,y)}endPath(){const n=this.current;if(n.path=null,!this.pendingClip)return;if(!n.element)return void(this.pendingClip=null);const s="clippath"+w++,A=this.svgFactory.createElement("svg:clipPath");A.setAttributeNS(null,"id",s),A.setAttributeNS(null,"transform",u(this.transformMatrix));const b=n.element.cloneNode(!0);if(b.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,A.appendChild(b),this.defs.appendChild(A),n.activeClipUrl){n.clipGroup=null;for(const y of this.extraStack)y.clipGroup=null;A.setAttributeNS(null,"clip-path",n.activeClipUrl)}n.activeClipUrl=`url(#${s})`,this.tgrp=null}clip(n){this.pendingClip=n}closePath(){const n=this.current;if(n.path){const s=`${n.path.getAttributeNS(null,"d")}Z`;n.path.setAttributeNS(null,"d",s)}}setLeading(n){this.current.leading=-n}setTextRise(n){this.current.textRise=n}setTextRenderingMode(n){this.current.textRenderingMode=n}setHScale(n){this.current.textHScale=n/100}setRenderingIntent(n){}setFlatness(n){}setGState(n){for(const[s,A]of n)switch(s){case"LW":this.setLineWidth(A);break;case"LC":this.setLineCap(A);break;case"LJ":this.setLineJoin(A);break;case"ML":this.setMiterLimit(A);break;case"D":this.setDash(A[0],A[1]);break;case"RI":this.setRenderingIntent(A);break;case"FL":this.setFlatness(A);break;case"Font":this.setFont(A);break;case"CA":this.setStrokeAlpha(A);break;case"ca":this.setFillAlpha(A);break;default:(0,p.warn)(`Unimplemented graphic state operator ${s}`)}}fill(){const n=this.current;n.element&&(n.element.setAttributeNS(null,"fill",n.fillColor),n.element.setAttributeNS(null,"fill-opacity",n.fillAlpha),this.endPath())}stroke(){const n=this.current;n.element&&(this._setStrokeAttributes(n.element),n.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(n,s=1){const A=this.current;let b=A.dashArray;1!==s&&b.length>0&&(b=b.map(function(y){return s*y})),n.setAttributeNS(null,"stroke",A.strokeColor),n.setAttributeNS(null,"stroke-opacity",A.strokeAlpha),n.setAttributeNS(null,"stroke-miterlimit",r(A.miterLimit)),n.setAttributeNS(null,"stroke-linecap",A.lineCap),n.setAttributeNS(null,"stroke-linejoin",A.lineJoin),n.setAttributeNS(null,"stroke-width",r(s*A.lineWidth)+"px"),n.setAttributeNS(null,"stroke-dasharray",b.map(r).join(" ")),n.setAttributeNS(null,"stroke-dashoffset",r(s*A.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const n=this.svgFactory.createElement("svg:rect");n.setAttributeNS(null,"x","0"),n.setAttributeNS(null,"y","0"),n.setAttributeNS(null,"width","1px"),n.setAttributeNS(null,"height","1px"),n.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(n)}paintImageXObject(n){const s=n.startsWith("g_")?this.commonObjs.get(n):this.objs.get(n);s?this.paintInlineImageXObject(s):(0,p.warn)(`Dependent image with object ID ${n} is not ready yet`)}paintInlineImageXObject(n,s){const A=n.width,b=n.height,y=a(n,this.forceDataSchema,!!s),k=this.svgFactory.createElement("svg:rect");k.setAttributeNS(null,"x","0"),k.setAttributeNS(null,"y","0"),k.setAttributeNS(null,"width",r(A)),k.setAttributeNS(null,"height",r(b)),this.current.element=k,this.clip("nonzero");const L=this.svgFactory.createElement("svg:image");L.setAttributeNS(h,"xlink:href",y),L.setAttributeNS(null,"x","0"),L.setAttributeNS(null,"y",r(-b)),L.setAttributeNS(null,"width",r(A)+"px"),L.setAttributeNS(null,"height",r(b)+"px"),L.setAttributeNS(null,"transform",`scale(${r(1/A)} ${r(-1/b)})`),s?s.appendChild(L):this._ensureTransformGroup().appendChild(L)}paintImageMaskXObject(n){const s=this.current,A=n.width,b=n.height,y=s.fillColor;s.maskId="mask"+e++;const k=this.svgFactory.createElement("svg:mask");k.setAttributeNS(null,"id",s.maskId);const L=this.svgFactory.createElement("svg:rect");L.setAttributeNS(null,"x","0"),L.setAttributeNS(null,"y","0"),L.setAttributeNS(null,"width",r(A)),L.setAttributeNS(null,"height",r(b)),L.setAttributeNS(null,"fill",y),L.setAttributeNS(null,"mask",`url(#${s.maskId})`),this.defs.appendChild(k),this._ensureTransformGroup().appendChild(L),this.paintInlineImageXObject(n,k)}paintFormXObjectBegin(n,s){if(Array.isArray(n)&&6===n.length&&this.transform(n[0],n[1],n[2],n[3],n[4],n[5]),s){const A=s[2]-s[0],b=s[3]-s[1],y=this.svgFactory.createElement("svg:rect");y.setAttributeNS(null,"x",s[0]),y.setAttributeNS(null,"y",s[1]),y.setAttributeNS(null,"width",r(A)),y.setAttributeNS(null,"height",r(b)),this.current.element=y,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(n){const s=this.svgFactory.create(n.width,n.height),A=this.svgFactory.createElement("svg:defs");s.appendChild(A),this.defs=A;const b=this.svgFactory.createElement("svg:g");return b.setAttributeNS(null,"transform",u(n.transform)),s.appendChild(b),this.svg=b,s}_ensureClipGroup(){if(!this.current.clipGroup){const n=this.svgFactory.createElement("svg:g");n.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(n),this.current.clipGroup=n}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",u(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(be,M,se)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.PDFNodeStream=void 0;var p=se(1),de=se(26);const ae=__webpack_require__(172),$=__webpack_require__(2001),K=__webpack_require__(3779),D=__webpack_require__(6558),h=/^file:\/\/\/[a-zA-Z]:\//;M.PDFNodeStream=class m{constructor(d){this.source=d,this.url=function S(e){const d=D.parse(e);return"file:"===d.protocol||d.host?d:/^[a-z]:[/\\]/i.test(e)?D.parse(`file:///${e}`):(d.host||(d.protocol="file:"),d)}(d.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&d.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,p.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new u(this):new i(this),this._fullRequestReader}getRangeReader(d,n){if(n<=this._progressiveDataLength)return null;const s=this.isFsUrl?new w(this,d,n):new r(this,d,n);return this._rangeRequestReaders.push(s),s}cancelAllRequests(d){this._fullRequestReader&&this._fullRequestReader.cancel(d);for(const n of this._rangeRequestReaders.slice(0))n.cancel(d)}};class g{constructor(d){this._url=d.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=d.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=(0,p.createPromiseCapability)(),this._headersCapability=(0,p.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var d=this;return _asyncToGenerator(function*(){if(yield d._readCapability.promise,d._done)return{value:void 0,done:!0};if(d._storedError)throw d._storedError;const n=d._readableStream.read();return null===n?(d._readCapability=(0,p.createPromiseCapability)(),d.read()):(d._loaded+=n.length,d.onProgress&&d.onProgress({loaded:d._loaded,total:d._contentLength}),{value:new Uint8Array(n).buffer,done:!1})})()}cancel(d){this._readableStream?this._readableStream.destroy(d):this._error(d)}_error(d){this._storedError=d,this._readCapability.resolve()}_setReadableStream(d){this._readableStream=d,d.on("readable",()=>{this._readCapability.resolve()}),d.on("end",()=>{d.destroy(),this._done=!0,this._readCapability.resolve()}),d.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new p.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class a{constructor(d){this._url=d.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,p.createPromiseCapability)(),this._isStreamingSupported=!d.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var d=this;return _asyncToGenerator(function*(){if(yield d._readCapability.promise,d._done)return{value:void 0,done:!0};if(d._storedError)throw d._storedError;const n=d._readableStream.read();return null===n?(d._readCapability=(0,p.createPromiseCapability)(),d.read()):(d._loaded+=n.length,d.onProgress&&d.onProgress({loaded:d._loaded}),{value:new Uint8Array(n).buffer,done:!1})})()}cancel(d){this._readableStream?this._readableStream.destroy(d):this._error(d)}_error(d){this._storedError=d,this._readCapability.resolve()}_setReadableStream(d){this._readableStream=d,d.on("readable",()=>{this._readCapability.resolve()}),d.on("end",()=>{d.destroy(),this._done=!0,this._readCapability.resolve()}),d.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function _(e,d){return{protocol:e.protocol,auth:e.auth,host:e.hostname,port:e.port,path:e.path,method:"GET",headers:d}}class i extends g{constructor(d){super(d);const n=s=>{if(404===s.statusCode){const k=new p.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=k,void this._headersCapability.reject(k)}this._headersCapability.resolve(),this._setReadableStream(s);const A=k=>this._readableStream.headers[k.toLowerCase()],{allowRangeRequests:b,suggestedLength:y}=(0,de.validateRangeRequestCapabilities)({getResponseHeader:A,isHttp:d.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=b,this._contentLength=y||this._contentLength,this._filename=(0,de.extractFilenameFromHeader)(A)};this._request=null,this._request="http:"===this._url.protocol?$.request(_(this._url,d.httpHeaders),n):K.request(_(this._url,d.httpHeaders),n),this._request.on("error",s=>{this._storedError=s,this._headersCapability.reject(s)}),this._request.end()}}class r extends a{constructor(d,n,s){super(d),this._httpHeaders={};for(const b in d.httpHeaders){const y=d.httpHeaders[b];typeof y>"u"||(this._httpHeaders[b]=y)}this._httpHeaders.Range=`bytes=${n}-${s-1}`;const A=b=>{if(404!==b.statusCode)this._setReadableStream(b);else{const y=new p.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=y}};this._request=null,this._request="http:"===this._url.protocol?$.request(_(this._url,this._httpHeaders),A):K.request(_(this._url,this._httpHeaders),A),this._request.on("error",b=>{this._storedError=b}),this._request.end()}}class u extends g{constructor(d){super(d);let n=decodeURIComponent(this._url.path);h.test(this._url.href)&&(n=n.replace(/^\//,"")),ae.lstat(n,(s,A)=>{if(s)return"ENOENT"===s.code&&(s=new p.MissingPDFException(`Missing PDF "${n}".`)),this._storedError=s,void this._headersCapability.reject(s);this._contentLength=A.size,this._setReadableStream(ae.createReadStream(n)),this._headersCapability.resolve()})}}class w extends a{constructor(d,n,s){super(d);let A=decodeURIComponent(this._url.path);h.test(this._url.href)&&(A=A.replace(/^\//,"")),this._setReadableStream(ae.createReadStream(A,{start:n,end:s-1}))}}},(be,M,se)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.createResponseStatusError=function D(S,m){return 404===S||0===S&&m.startsWith("file:")?new p.MissingPDFException('Missing PDF "'+m+'".'):new p.UnexpectedResponseException(`Unexpected server response (${S}) while retrieving PDF "${m}".`,S)},M.extractFilenameFromHeader=function K(S){const m=S("Content-Disposition");if(m){let g=(0,de.getFilenameFromContentDispositionHeader)(m);if(g.includes("%"))try{g=decodeURIComponent(g)}catch{}if((0,ae.isPdfFile)(g))return g}return null},M.validateRangeRequestCapabilities=function $({getResponseHeader:S,isHttp:m,rangeChunkSize:g,disableRange:a}){const _={allowRangeRequests:!1,suggestedLength:void 0},i=parseInt(S("Content-Length"),10);return!Number.isInteger(i)||(_.suggestedLength=i,i<=2*g)||a||!m||"bytes"!==S("Accept-Ranges")||"identity"!==(S("Content-Encoding")||"identity")||(_.allowRangeRequests=!0),_},M.validateResponseStatus=function h(S){return 200===S||206===S};var p=se(1),de=se(27),ae=se(5)},(be,M,se)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.getFilenameFromContentDispositionHeader=function de(ae){let $=!0,K=D("filename\\*","i").exec(ae);if(K){K=K[1];let i=g(K);return i=unescape(i),i=a(i),i=_(i),S(i)}if(K=function m(i){const r=[];let u;const w=D("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(u=w.exec(i));){let[,d,n,s]=u;if(d=parseInt(d,10),d in r){if(0===d)break}else r[d]=[n,s]}const e=[];for(let d=0;d<r.length&&d in r;++d){let[n,s]=r[d];s=g(s),n&&(s=unescape(s),0===d&&(s=a(s))),e.push(s)}return e.join("")}(ae),K)return S(_(K));if(K=D("filename","i").exec(ae),K){K=K[1];let i=g(K);return i=_(i),S(i)}function D(i,r){return new RegExp("(?:^|;)\\s*"+i+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',r)}function h(i,r){if(i){if(!/^[\x00-\xFF]+$/.test(r))return r;try{const u=new TextDecoder(i,{fatal:!0}),w=(0,p.stringToBytes)(r);r=u.decode(w),$=!1}catch{}}return r}function S(i){return $&&/[\x80-\xff]/.test(i)&&(i=h("utf-8",i),$&&(i=h("iso-8859-1",i))),i}function g(i){if(i.startsWith('"')){const r=i.slice(1).split('\\"');for(let u=0;u<r.length;++u){const w=r[u].indexOf('"');-1!==w&&(r[u]=r[u].slice(0,w),r.length=u+1),r[u]=r[u].replace(/\\(.)/g,"$1")}i=r.join('"')}return i}function a(i){const r=i.indexOf("'");return-1===r?i:h(i.slice(0,r),i.slice(r+1).replace(/^[^']*'/,""))}function _(i){return!i.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(i)?i:i.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(r,u,w,e){if("q"===w||"Q"===w)return h(u,e=(e=e.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(d,n){return String.fromCharCode(parseInt(n,16))}));try{e=atob(e)}catch{}return h(u,e)})}return""};var p=se(1)},(be,M,se)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.PDFNetworkStream=void 0;var p=se(1),de=se(26);class D{constructor(a,_={}){this.url=a,this.isHttp=/^https?:/i.test(a),this.httpHeaders=this.isHttp&&_.httpHeaders||Object.create(null),this.withCredentials=_.withCredentials||!1,this.getXhr=_.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(a,_,i){const r={begin:a,end:_};for(const u in i)r[u]=i[u];return this.request(r)}requestFull(a){return this.request(a)}request(a){const _=this.getXhr(),i=this.currXhrId++,r=this.pendingRequests[i]={xhr:_};_.open("GET",this.url),_.withCredentials=this.withCredentials;for(const u in this.httpHeaders){const w=this.httpHeaders[u];typeof w>"u"||_.setRequestHeader(u,w)}return this.isHttp&&"begin"in a&&"end"in a?(_.setRequestHeader("Range",`bytes=${a.begin}-${a.end-1}`),r.expectedStatus=206):r.expectedStatus=200,_.responseType="arraybuffer",a.onError&&(_.onerror=function(u){a.onError(_.status)}),_.onreadystatechange=this.onStateChange.bind(this,i),_.onprogress=this.onProgress.bind(this,i),r.onHeadersReceived=a.onHeadersReceived,r.onDone=a.onDone,r.onError=a.onError,r.onProgress=a.onProgress,_.send(null),i}onProgress(a,_){const i=this.pendingRequests[a];!i||i.onProgress?.(_)}onStateChange(a,_){const i=this.pendingRequests[a];if(!i)return;const r=i.xhr;if(r.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),4!==r.readyState||!(a in this.pendingRequests))return;if(delete this.pendingRequests[a],0===r.status&&this.isHttp)return void i.onError?.(r.status);const u=r.status||200;if((200!==u||206!==i.expectedStatus)&&u!==i.expectedStatus)return void i.onError?.(r.status);const e=function K(g){const a=g.response;return"string"!=typeof a?a:(0,p.stringToBytes)(a).buffer}(r);if(206===u){const d=r.getResponseHeader("Content-Range"),n=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);i.onDone({begin:parseInt(n[1],10),chunk:e})}else e?i.onDone({begin:0,chunk:e}):i.onError?.(r.status)}getRequestXhr(a){return this.pendingRequests[a].xhr}isPendingRequest(a){return a in this.pendingRequests}abortRequest(a){const _=this.pendingRequests[a].xhr;delete this.pendingRequests[a],_.abort()}}M.PDFNetworkStream=class h{constructor(a){this._source=a,this._manager=new D(a.url,{httpHeaders:a.httpHeaders,withCredentials:a.withCredentials}),this._rangeChunkSize=a.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(a){const _=this._rangeRequestReaders.indexOf(a);_>=0&&this._rangeRequestReaders.splice(_,1)}getFullReader(){return(0,p.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new S(this._manager,this._source),this._fullRequestReader}getRangeReader(a,_){const i=new m(this._manager,a,_);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(a){this._fullRequestReader?.cancel(a);for(const _ of this._rangeRequestReaders.slice(0))_.cancel(a)}};class S{constructor(a,_){this._manager=a;const i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=_.url,this._fullRequestId=a.requestFull(i),this._headersReceivedCapability=(0,p.createPromiseCapability)(),this._disableRange=_.disableRange||!1,this._contentLength=_.length,this._rangeChunkSize=_.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const a=this._fullRequestId,_=this._manager.getRequestXhr(a),i=w=>_.getResponseHeader(w),{allowRangeRequests:r,suggestedLength:u}=(0,de.validateRangeRequestCapabilities)({getResponseHeader:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=u||this._contentLength,this._filename=(0,de.extractFilenameFromHeader)(i),this._isRangeSupported&&this._manager.abortRequest(a),this._headersReceivedCapability.resolve()}_onDone(a){if(a&&(this._requests.length>0?this._requests.shift().resolve({value:a.chunk,done:!1}):this._cachedChunks.push(a.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const _ of this._requests)_.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(a){this._storedError=(0,de.createResponseStatusError)(a,this._url),this._headersReceivedCapability.reject(this._storedError);for(const _ of this._requests)_.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(a){this.onProgress?.({loaded:a.loaded,total:a.lengthComputable?a.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var a=this;return _asyncToGenerator(function*(){if(a._storedError)throw a._storedError;if(a._cachedChunks.length>0)return{value:a._cachedChunks.shift(),done:!1};if(a._done)return{value:void 0,done:!0};const _=(0,p.createPromiseCapability)();return a._requests.push(_),_.promise})()}cancel(a){this._done=!0,this._headersReceivedCapability.reject(a);for(const _ of this._requests)_.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class m{constructor(a,_,i){this._manager=a;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=a.url,this._requestId=a.requestRange(_,i,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(a){const _=a.chunk;this._requests.length>0?this._requests.shift().resolve({value:_,done:!1}):this._queuedChunk=_,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(a){this._storedError=(0,de.createResponseStatusError)(a,this._url);for(const _ of this._requests)_.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(a){this.isStreamingSupported||this.onProgress?.({loaded:a.loaded})}get isStreamingSupported(){return!1}read(){var a=this;return _asyncToGenerator(function*(){if(a._storedError)throw a._storedError;if(null!==a._queuedChunk){const i=a._queuedChunk;return a._queuedChunk=null,{value:i,done:!1}}if(a._done)return{value:void 0,done:!0};const _=(0,p.createPromiseCapability)();return a._requests.push(_),_.promise})()}cancel(a){this._done=!0;for(const _ of this._requests)_.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(be,M,se)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.PDFFetchStream=void 0;var p=se(1),de=se(26);function ae(S,m,g){return{method:"GET",headers:S,signal:g?.signal,mode:"cors",credentials:m?"include":"same-origin",redirect:"follow"}}function $(S){const m=new Headers;for(const g in S){const a=S[g];typeof a>"u"||m.append(g,a)}return m}M.PDFFetchStream=class K{constructor(m){this.source=m,this.isHttp=/^https?:/i.test(m.url),this.httpHeaders=this.isHttp&&m.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,p.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new D(this),this._fullRequestReader}getRangeReader(m,g){if(g<=this._progressiveDataLength)return null;const a=new h(this,m,g);return this._rangeRequestReaders.push(a),a}cancelAllRequests(m){this._fullRequestReader&&this._fullRequestReader.cancel(m);for(const g of this._rangeRequestReaders.slice(0))g.cancel(m)}};class D{constructor(m){this._stream=m,this._reader=null,this._loaded=0,this._filename=null;const g=m.source;this._withCredentials=g.withCredentials||!1,this._contentLength=g.length,this._headersCapability=(0,p.createPromiseCapability)(),this._disableRange=g.disableRange||!1,this._rangeChunkSize=g.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController<"u"&&(this._abortController=new AbortController),this._isStreamingSupported=!g.disableStream,this._isRangeSupported=!g.disableRange,this._headers=$(this._stream.httpHeaders);const a=g.url;fetch(a,ae(this._headers,this._withCredentials,this._abortController)).then(_=>{if(!(0,de.validateResponseStatus)(_.status))throw(0,de.createResponseStatusError)(_.status,a);this._reader=_.body.getReader(),this._headersCapability.resolve();const i=w=>_.headers.get(w),{allowRangeRequests:r,suggestedLength:u}=(0,de.validateRangeRequestCapabilities)({getResponseHeader:i,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=r,this._contentLength=u||this._contentLength,this._filename=(0,de.extractFilenameFromHeader)(i),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new p.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var m=this;return _asyncToGenerator(function*(){yield m._headersCapability.promise;const{value:g,done:a}=yield m._reader.read();return a?{value:g,done:a}:(m._loaded+=g.byteLength,m.onProgress&&m.onProgress({loaded:m._loaded,total:m._contentLength}),{value:new Uint8Array(g).buffer,done:!1})})()}cancel(m){this._reader&&this._reader.cancel(m),this._abortController&&this._abortController.abort()}}class h{constructor(m,g,a){this._stream=m,this._reader=null,this._loaded=0;const _=m.source;this._withCredentials=_.withCredentials||!1,this._readCapability=(0,p.createPromiseCapability)(),this._isStreamingSupported=!_.disableStream,typeof AbortController<"u"&&(this._abortController=new AbortController),this._headers=$(this._stream.httpHeaders),this._headers.append("Range",`bytes=${g}-${a-1}`);const i=_.url;fetch(i,ae(this._headers,this._withCredentials,this._abortController)).then(r=>{if(!(0,de.validateResponseStatus)(r.status))throw(0,de.createResponseStatusError)(r.status,i);this._readCapability.resolve(),this._reader=r.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var m=this;return _asyncToGenerator(function*(){yield m._readCapability.promise;const{value:g,done:a}=yield m._reader.read();return a?{value:g,done:a}:(m._loaded+=g.byteLength,m.onProgress&&m.onProgress({loaded:m._loaded}),{value:new Uint8Array(g).buffer,done:!1})})()}cancel(m){this._reader&&this._reader.cancel(m),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(be){var M=__webpack_module_cache__[be];if(void 0!==M)return M.exports;var se=__webpack_module_cache__[be]={exports:{}};return __webpack_modules__[be](se,se.exports,__w_pdfjs_require__),se.exports}var __webpack_exports__={};return(()=>{var be=__webpack_exports__;Object.defineProperty(be,"__esModule",{value:!0}),Object.defineProperty(be,"AnnotationLayer",{enumerable:!0,get:function(){return de.AnnotationLayer}}),Object.defineProperty(be,"AnnotationMode",{enumerable:!0,get:function(){return M.AnnotationMode}}),Object.defineProperty(be,"CMapCompressionType",{enumerable:!0,get:function(){return M.CMapCompressionType}}),Object.defineProperty(be,"GlobalWorkerOptions",{enumerable:!0,get:function(){return ae.GlobalWorkerOptions}}),Object.defineProperty(be,"InvalidPDFException",{enumerable:!0,get:function(){return M.InvalidPDFException}}),Object.defineProperty(be,"LoopbackPort",{enumerable:!0,get:function(){return se.LoopbackPort}}),Object.defineProperty(be,"MissingPDFException",{enumerable:!0,get:function(){return M.MissingPDFException}}),Object.defineProperty(be,"OPS",{enumerable:!0,get:function(){return M.OPS}}),Object.defineProperty(be,"PDFDataRangeTransport",{enumerable:!0,get:function(){return se.PDFDataRangeTransport}}),Object.defineProperty(be,"PDFDateString",{enumerable:!0,get:function(){return p.PDFDateString}}),Object.defineProperty(be,"PDFWorker",{enumerable:!0,get:function(){return se.PDFWorker}}),Object.defineProperty(be,"PasswordResponses",{enumerable:!0,get:function(){return M.PasswordResponses}}),Object.defineProperty(be,"PermissionFlag",{enumerable:!0,get:function(){return M.PermissionFlag}}),Object.defineProperty(be,"PixelsPerInch",{enumerable:!0,get:function(){return p.PixelsPerInch}}),Object.defineProperty(be,"RenderingCancelledException",{enumerable:!0,get:function(){return p.RenderingCancelledException}}),Object.defineProperty(be,"SVGGraphics",{enumerable:!0,get:function(){return D.SVGGraphics}}),Object.defineProperty(be,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return M.UNSUPPORTED_FEATURES}}),Object.defineProperty(be,"UnexpectedResponseException",{enumerable:!0,get:function(){return M.UnexpectedResponseException}}),Object.defineProperty(be,"Util",{enumerable:!0,get:function(){return M.Util}}),Object.defineProperty(be,"VerbosityLevel",{enumerable:!0,get:function(){return M.VerbosityLevel}}),Object.defineProperty(be,"XfaLayer",{enumerable:!0,get:function(){return h.XfaLayer}}),Object.defineProperty(be,"build",{enumerable:!0,get:function(){return se.build}}),Object.defineProperty(be,"createPromiseCapability",{enumerable:!0,get:function(){return M.createPromiseCapability}}),Object.defineProperty(be,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return M.createValidAbsoluteUrl}}),Object.defineProperty(be,"getDocument",{enumerable:!0,get:function(){return se.getDocument}}),Object.defineProperty(be,"getFilenameFromUrl",{enumerable:!0,get:function(){return p.getFilenameFromUrl}}),Object.defineProperty(be,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return p.getPdfFilenameFromUrl}}),Object.defineProperty(be,"getXfaPageViewport",{enumerable:!0,get:function(){return p.getXfaPageViewport}}),Object.defineProperty(be,"isPdfFile",{enumerable:!0,get:function(){return p.isPdfFile}}),Object.defineProperty(be,"loadScript",{enumerable:!0,get:function(){return p.loadScript}}),Object.defineProperty(be,"renderTextLayer",{enumerable:!0,get:function(){return K.renderTextLayer}}),Object.defineProperty(be,"shadow",{enumerable:!0,get:function(){return M.shadow}}),Object.defineProperty(be,"version",{enumerable:!0,get:function(){return se.version}});var M=__w_pdfjs_require__(1),se=__w_pdfjs_require__(4),p=__w_pdfjs_require__(5),de=__w_pdfjs_require__(20),ae=__w_pdfjs_require__(13),$=__w_pdfjs_require__(3),K=__w_pdfjs_require__(23),D=__w_pdfjs_require__(24),h=__w_pdfjs_require__(22);if($.isNodeJS){const{PDFNodeStream:g}=__w_pdfjs_require__(25);(0,se.setPDFNetworkStreamFactory)(a=>new g(a))}else{const{PDFNetworkStream:g}=__w_pdfjs_require__(28),{PDFFetchStream:a}=__w_pdfjs_require__(29);(0,se.setPDFNetworkStreamFactory)(_=>(0,p.isValidFetchUrl)(_.url)?new a(_):new g(_))}})(),__webpack_exports__})(),module.exports=se()},2813:function(be,M,se){var $,p=se(7156).default;$=()=>(()=>{"use strict";var de=[,(D,h,S)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.DefaultXfaLayerFactory=h.DefaultTextLayerFactory=h.DefaultStructTreeLayerFactory=h.DefaultAnnotationLayerFactory=void 0;var m=S(2),g=S(4),a=S(5),_=S(7),i=S(8),r=S(9);h.DefaultAnnotationLayerFactory=class u{createAnnotationLayerBuilder(s,A,b=null,y="",k=!0,L=g.NullL10n,R=!1,N=null,H=null,X=null,ne=null){return new m.AnnotationLayerBuilder({pageDiv:s,pdfPage:A,imageResourcesPath:y,renderForms:k,linkService:new a.SimpleLinkService,l10n:L,annotationStorage:b,enableScripting:R,hasJSActionsPromise:N,fieldObjectsPromise:X,mouseState:H,annotationCanvasMap:ne})}},h.DefaultStructTreeLayerFactory=class w{createStructTreeLayerBuilder(s){return new _.StructTreeLayerBuilder({pdfPage:s})}},h.DefaultTextLayerFactory=class e{createTextLayerBuilder(s,A,b,y=!1,k,L){return new i.TextLayerBuilder({textLayerDiv:s,pageIndex:A,viewport:b,enhanceTextSelection:y,eventBus:k,highlighter:L})}},h.DefaultXfaLayerFactory=class d{createXfaLayerBuilder(s,A,b=null,y=null){return new r.XfaLayerBuilder({pageDiv:s,pdfPage:A,annotationStorage:b,linkService:new a.SimpleLinkService,xfaHtml:y})}}},(D,h,S)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.AnnotationLayerBuilder=void 0;var m=S(3),g=S(4);h.AnnotationLayerBuilder=class a{constructor({pageDiv:i,pdfPage:r,linkService:u,downloadManager:w,annotationStorage:e=null,imageResourcesPath:d="",renderForms:n=!0,l10n:s=g.NullL10n,enableScripting:A=!1,hasJSActionsPromise:b=null,fieldObjectsPromise:y=null,mouseState:k=null,annotationCanvasMap:L=null}){this.pageDiv=i,this.pdfPage=r,this.linkService=u,this.downloadManager=w,this.imageResourcesPath=d,this.renderForms=n,this.l10n=s,this.annotationStorage=e,this.enableScripting=A,this._hasJSActionsPromise=b,this._fieldObjectsPromise=y,this._mouseState=k,this._annotationCanvasMap=L,this.div=null,this._cancelled=!1}render(i,r="display"){var u=this;return p(function*(){const[w,e=!1,d=null]=yield Promise.all([u.pdfPage.getAnnotations({intent:r}),u._hasJSActionsPromise,u._fieldObjectsPromise]);if(u._cancelled||0===w.length)return;const n={viewport:i.clone({dontFlip:!0}),div:u.div,annotations:w,page:u.pdfPage,imageResourcesPath:u.imageResourcesPath,renderForms:u.renderForms,linkService:u.linkService,downloadManager:u.downloadManager,annotationStorage:u.annotationStorage,enableScripting:u.enableScripting,hasJSActions:e,fieldObjects:d,mouseState:u._mouseState,annotationCanvasMap:u._annotationCanvasMap};u.div?m.AnnotationLayer.update(n):(u.div=document.createElement("div"),u.div.className="annotationLayer",u.pageDiv.appendChild(u.div),n.div=u.div,m.AnnotationLayer.render(n),u.l10n.translate(u.div))})()}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},D=>{let h;h=typeof window<"u"&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:se(6036),D.exports=h},(D,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.NullL10n=void 0,h.fixupLangCode=function a(r){return g[r?.toLowerCase()]||r},h.getL10nFallback=m;const S={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function m(r,u){switch(r){case"find_match_count":r=`find_match_count[${1===u.total?"one":"other"}]`;break;case"find_match_count_limit":r=`find_match_count_limit[${1===u.limit?"one":"other"}]`}return S[r]||""}const g={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};h.NullL10n={getLanguage:()=>p(function*(){return"en-us"})(),getDirection:()=>p(function*(){return"ltr"})(),get:(r,u=null,w=m(r,u))=>p(function*(){return function _(r,u){return u?r.replace(/\{\{\s*(\w+)\s*\}\}/g,(w,e)=>e in u?u[e]:"{{"+e+"}}"):r}(w,u)})(),translate:r=>p(function*(){})()}},(D,h,S)=>{var u,w,ct,d,yt;Object.defineProperty(h,"__esModule",{value:!0}),h.SimpleLinkService=h.PDFLinkService=h.LinkTarget=void 0;var m=S(6);const a={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function _(A,{url:b,target:y,rel:k,enabled:L=!0}={}){if(!b||"string"!=typeof b)throw new Error('A valid "url" parameter must provided.');const R=(0,m.removeNullCharacters)(b);L?A.href=A.title=R:(A.href="",A.title=`Disabled: ${R}`,A.onclick=()=>!1);let N="";switch(y){case a.NONE:break;case a.SELF:N="_self";break;case a.BLANK:N="_blank";break;case a.PARENT:N="_parent";break;case a.TOP:N="_top"}A.target=N,A.rel="string"==typeof k?k:"noopener noreferrer nofollow"}h.LinkTarget=a;const s=class{constructor({eventBus:b,externalLinkTarget:y=null,externalLinkRel:k=null,ignoreDestinationZoom:L=!1}={}){xe(this,w),xe(this,u,new Map),this.eventBus=b,this.externalLinkTarget=y,this.externalLinkRel=k,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=L,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(b,y=null){this.baseUrl=y,this.pdfDocument=b,Pe(this,u).clear()}setViewer(b){this.pdfViewer=b}setHistory(b){this.pdfHistory=b}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(b){this.pdfViewer.currentPageNumber=b}get rotation(){return this.pdfViewer.pagesRotation}set rotation(b){this.pdfViewer.pagesRotation=b}goToDestination(b){var y=this;return p(function*(){var R;if(!y.pdfDocument)return;let k,L;"string"==typeof b?(k=b,L=yield y.pdfDocument.getDestination(b)):(k=null,L=yield b),Array.isArray(L)?we(R=y,w,ct).call(R,b,k,L):console.error(`PDFLinkService.goToDestination: "${L}" is not a valid destination array, for dest="${b}".`)})()}goToPage(b){if(!this.pdfDocument)return;const y="string"==typeof b&&this.pdfViewer.pageLabelToPageNumber(b)||0|b;Number.isInteger(y)&&y>0&&y<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(y)),this.pdfViewer.scrollPageIntoView({pageNumber:y})):console.error(`PDFLinkService.goToPage: "${b}" is not a valid page.`)}addLinkAttributes(b,y,k=!1){_(b,{url:y,target:k?a.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(b){if("string"==typeof b){if(b.length>0)return this.getAnchorUrl("#"+escape(b))}else if(Array.isArray(b)){const y=JSON.stringify(b);if(y.length>0)return this.getAnchorUrl("#"+escape(y))}return this.getAnchorUrl("")}getAnchorUrl(b){return(this.baseUrl||"")+b}setHash(b){var L;if(!this.pdfDocument)return;let y,k;if(b.includes("=")){const R=(0,m.parseQueryString)(b);if(R.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:R.get("search").replace(/"/g,""),phraseSearch:"true"===R.get("phrase")}),R.has("page")&&(y=0|R.get("page")||1),R.has("zoom")){const N=R.get("zoom").split(","),H=N[0],X=parseFloat(H);H.includes("Fit")?"Fit"===H||"FitB"===H?k=[null,{name:H}]:"FitH"===H||"FitBH"===H||"FitV"===H||"FitBV"===H?k=[null,{name:H},N.length>1?0|N[1]:null]:"FitR"===H?5!==N.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):k=[null,{name:H},0|N[1],0|N[2],0|N[3],0|N[4]]:console.error(`PDFLinkService.setHash: "${H}" is not a valid zoom value.`):k=[null,{name:"XYZ"},N.length>1?0|N[1]:null,N.length>2?0|N[2]:null,X?X/100:H]}k?this.pdfViewer.scrollPageIntoView({pageNumber:y||this.page,destArray:k,allowNegativeOffset:!0}):y&&(this.page=y),R.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:R.get("pagemode")}),R.has("nameddest")&&this.goToDestination(R.get("nameddest"))}else{k=unescape(b);try{k=JSON.parse(k),Array.isArray(k)||(k=k.toString())}catch{}if("string"==typeof k||we(L=s,d,yt).call(L,k))return void this.goToDestination(k);console.error(`PDFLinkService.setHash: "${unescape(b)}" is not a valid destination.`)}}executeNamedAction(b){switch(b){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:b})}cachePageRef(b,y){if(!y)return;const k=0===y.gen?`${y.num}R`:`${y.num}R${y.gen}`;Pe(this,u).set(k,b)}_cachedPageNumber(b){if(!b)return null;const y=0===b.gen?`${b.num}R`:`${b.num}R${b.gen}`;return Pe(this,u).get(y)||null}isPageVisible(b){return this.pdfViewer.isPageVisible(b)}isPageCached(b){return this.pdfViewer.isPageCached(b)}};let i=s;u=new WeakMap,w=new WeakSet,ct=function(b,y=null,k){const L=k[0];let R;if("object"==typeof L&&null!==L){if(R=this._cachedPageNumber(L),!R)return void this.pdfDocument.getPageIndex(L).then(N=>{this.cachePageRef(N+1,L),we(this,w,ct).call(this,b,y,k)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${L}" is not a valid page reference, for dest="${b}".`)})}else{if(!Number.isInteger(L))return void console.error(`PDFLinkService.#goToDestinationHelper: "${L}" is not a valid destination reference, for dest="${b}".`);R=L+1}!R||R<1||R>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${R}" is not a valid page number, for dest="${b}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:y,explicitDest:k,pageNumber:R})),this.pdfViewer.scrollPageIntoView({pageNumber:R,destArray:k,ignoreDestinationZoom:this._ignoreDestinationZoom}))},d=new WeakSet,yt=function(b){if(!Array.isArray(b))return!1;const y=b.length;if(y<2)return!1;const k=b[0];if(!("object"==typeof k&&Number.isInteger(k.num)&&Number.isInteger(k.gen)||Number.isInteger(k)&&k>=0))return!1;const L=b[1];if("object"!=typeof L||"string"!=typeof L.name)return!1;let R=!0;switch(L.name){case"XYZ":if(5!==y)return!1;break;case"Fit":case"FitB":return 2===y;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==y)return!1;break;case"FitR":if(6!==y)return!1;R=!1;break;default:return!1}for(let N=2;N<y;N++){const H=b[N];if(!("number"==typeof H||R&&null===H))return!1}return!0},xe(i,d),h.PDFLinkService=i,h.SimpleLinkService=class r{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(b){}get rotation(){return 0}set rotation(b){}goToDestination(b){return p(function*(){})()}goToPage(b){}addLinkAttributes(b,y,k=!1){_(b,{url:y,enabled:this.externalLinkEnabled})}getDestinationHash(b){return"#"}getAnchorUrl(b){return"#"}setHash(b){}executeNamedAction(b){}cachePageRef(b,y){}isPageVisible(b){return!0}isPageCached(b){return!0}}},(D,h)=>{var pe,vt;Object.defineProperty(h,"__esModule",{value:!0}),h.animationStarted=h.VERTICAL_PADDING=h.UNKNOWN_SCALE=h.TextLayerMode=h.SpreadMode=h.SidebarView=h.ScrollMode=h.SCROLLBAR_PADDING=h.RenderingStates=h.RendererType=h.ProgressBar=h.PresentationModeState=h.OutputScale=h.MIN_SCALE=h.MAX_SCALE=h.MAX_AUTO_SCALE=h.DEFAULT_SCALE_VALUE=h.DEFAULT_SCALE_DELTA=h.DEFAULT_SCALE=h.AutoPrintRegExp=void 0,h.apiPageLayoutToViewerModes=function Y(ee){let oe=b.VERTICAL,Q=y.NONE;switch(ee){case"SinglePage":oe=b.PAGE;break;case"OneColumn":break;case"TwoPageLeft":oe=b.PAGE;case"TwoColumnLeft":Q=y.ODD;break;case"TwoPageRight":oe=b.PAGE;case"TwoColumnRight":Q=y.EVEN}return{scrollMode:oe,spreadMode:Q}},h.apiPageModeToSidebarView=function ie(ee){switch(ee){case"UseNone":return n.NONE;case"UseThumbs":return n.THUMBS;case"UseOutlines":return n.OUTLINE;case"UseAttachments":return n.ATTACHMENTS;case"UseOC":return n.LAYERS}return n.NONE},h.approximateFraction=function J(ee){if(Math.floor(ee)===ee)return[ee,1];const oe=1/ee;if(oe>8)return[1,8];if(Math.floor(oe)===oe)return[1,oe];const v=ee>1?oe:ee;let ge,I=0,z=1,ye=1,Ae=1;for(;;){const Ce=I+ye,_e=z+Ae;if(_e>8)break;v<=Ce/_e?(ye=Ce,Ae=_e):(I=Ce,z=_e)}return ge=v-I/z<ye/Ae-v?v===ee?[I,z]:[z,I]:v===ee?[ye,Ae]:[Ae,ye],ge},h.backtrackBeforeAllVisibleElements=T,h.binarySearchFirstItem=q,h.getActiveOrFocusedElement=function G(){let ee=document,oe=ee.activeElement||ee.querySelector(":focus");for(;oe?.shadowRoot;)ee=oe.shadowRoot,oe=ee.activeElement||ee.querySelector(":focus");return oe},h.getPageSizeInches=function le({view:ee,userUnit:oe,rotate:Q}){const[v,I,z,ye]=ee,Ae=Q%180!=0,ge=(z-v)/72*oe,Ce=(ye-I)/72*oe;return{width:Ae?Ce:ge,height:Ae?ge:Ce}},h.getVisibleElements=function o({scrollEl:ee,views:oe,sortByVisibility:Q=!1,horizontal:v=!1,rtl:I=!1}){const z=ee.scrollTop,ye=z+ee.clientHeight,Ae=ee.scrollLeft,ge=Ae+ee.clientWidth,ke=[],Te=new Set,Oe=oe.length;let te=q(oe,v?function _e(fe){const me=fe.div,ve=me.offsetLeft+me.clientLeft;return I?ve<ge:ve+me.clientWidth>Ae}:function Ce(fe){const me=fe.div;return me.offsetTop+me.clientTop+me.clientHeight>z});te>0&&te<Oe&&!v&&(te=T(te,oe,z));let F=v?ge:-1;for(let fe=te;fe<Oe;fe++){const me=oe[fe],ve=me.div,Me=ve.offsetLeft+ve.clientLeft,Le=ve.offsetTop+ve.clientTop,De=ve.clientWidth,Fe=ve.clientHeight,Ue=Me+De,Be=Le+Fe;if(-1===F)Be>=ye&&(F=Be);else if((v?Me:Le)>F)break;if(Be<=z||Le>=ye||Ue<=Ae||Me>=ge)continue;const qe=Math.max(0,z-Le)+Math.max(0,Be-ye),He=(De-(Math.max(0,Ae-Me)+Math.max(0,Ue-ge)))/De;ke.push({id:me.id,x:Me,y:Le,view:me,percent:(Fe-qe)/Fe*He*100|0,widthPercent:100*He|0}),Te.add(me.id)}const O=ke[0],ce=ke[ke.length-1];return Q&&ke.sort(function(fe,me){const ve=fe.percent-me.percent;return Math.abs(ve)>.001?-ve:fe.id-me.id}),{first:O,last:ce,views:ke,ids:Te}},h.isPortraitOrientation=function E(ee){return ee.width<=ee.height},h.isValidRotation=function f(ee){return Number.isInteger(ee)&&ee%90==0},h.isValidScrollMode=function P(ee){return Number.isInteger(ee)&&Object.values(b).includes(ee)&&ee!==b.UNKNOWN},h.isValidSpreadMode=function C(ee){return Number.isInteger(ee)&&Object.values(y).includes(ee)&&ee!==y.UNKNOWN},h.noContextMenuHandler=function c(ee){ee.preventDefault()},h.normalizeWheelEventDelta=function l(ee){let oe=t(ee);return 0===ee.deltaMode?oe/=900:1===ee.deltaMode&&(oe/=30),oe},h.normalizeWheelEventDirection=t,h.parseQueryString=function H(ee){const oe=new Map;for(const[Q,v]of new URLSearchParams(ee))oe.set(Q.toLowerCase(),v);return oe},h.removeNullCharacters=function B(ee,oe=!1){return"string"!=typeof ee?(console.error("The argument must be a string."),ee):(oe&&(ee=ee.replace(ne," ")),ee.replace(X,""))},h.roundToDivide=function re(ee,oe){const Q=ee%oe;return 0===Q?ee:Math.round(ee-Q+oe)},h.scrollIntoView=function R(ee,oe,Q=!1){let v=ee.offsetParent;if(!v)return void console.error("offsetParent is not set -- cannot scroll");let I=ee.offsetTop+ee.clientTop,z=ee.offsetLeft+ee.clientLeft;for(;v.clientHeight===v.scrollHeight&&v.clientWidth===v.scrollWidth||Q&&(v.classList.contains("markedContent")||"hidden"===getComputedStyle(v).overflow);)if(I+=v.offsetTop,z+=v.offsetLeft,v=v.offsetParent,!v)return;oe&&(void 0!==oe.top&&(I+=oe.top),void 0!==oe.left&&(z+=oe.left,v.scrollLeft=z)),v.scrollTop=I},h.watchScroll=function N(ee,oe){const Q=function(z){I||(I=window.requestAnimationFrame(function(){I=null;const Ae=ee.scrollLeft,ge=v.lastX;Ae!==ge&&(v.right=Ae>ge),v.lastX=Ae;const Ce=ee.scrollTop,_e=v.lastY;Ce!==_e&&(v.down=Ce>_e),v.lastY=Ce,oe(v)}))},v={right:!0,down:!0,lastX:ee.scrollLeft,lastY:ee.scrollTop,_eventHandler:Q};let I=null;return ee.addEventListener("scroll",Q,!0),v},h.DEFAULT_SCALE_VALUE="auto",h.DEFAULT_SCALE=1,h.DEFAULT_SCALE_DELTA=1.1,h.MIN_SCALE=.1,h.MAX_SCALE=10,h.UNKNOWN_SCALE=0,h.MAX_AUTO_SCALE=1.25,h.SCROLLBAR_PADDING=40,h.VERTICAL_PADDING=5,h.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},h.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const n={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};h.SidebarView=n,h.RendererType={CANVAS:"canvas",SVG:"svg"},h.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const b={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};h.ScrollMode=b;const y={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};h.SpreadMode=y,h.AutoPrintRegExp=/\bprint\s*\(/,h.OutputScale=class L{constructor(){const oe=window.devicePixelRatio||1;this.sx=oe,this.sy=oe}get scaled(){return 1!==this.sx||1!==this.sy}};const X=/\x00/g,ne=/[\x01-\x1F]/g;function q(ee,oe,Q=0){let v=Q,I=ee.length-1;if(I<0||!oe(ee[I]))return ee.length;if(oe(ee[v]))return v;for(;v<I;){const z=v+I>>1;oe(ee[z])?I=z:v=z+1}return v}function T(ee,oe,Q){if(ee<2)return ee;let v=oe[ee].div,I=v.offsetTop+v.clientTop;I>=Q&&(v=oe[ee-1].div,I=v.offsetTop+v.clientTop);for(let z=ee-2;z>=0&&(v=oe[z].div,!(v.offsetTop+v.clientTop+v.clientHeight<=I));--z)ee=z;return ee}function t(ee){let oe=Math.hypot(ee.deltaX,ee.deltaY);const Q=Math.atan2(ee.deltaY,ee.deltaX);return-.25*Math.PI<Q&&Q<.75*Math.PI&&(oe=-oe),oe}const U=new Promise(function(ee){window.requestAnimationFrame(ee)});h.animationStarted=U,pe=new WeakSet,vt=function(){this._indeterminate?this.div.classList.add("indeterminate"):(this.div.classList.remove("indeterminate"),document.documentElement.style.setProperty("--progressBar-percent",`${this._percent}%`))},h.ProgressBar=class V{constructor(oe){if(xe(this,pe),arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");this.visible=!0,this.div=document.querySelector(oe+" .progress"),this.bar=this.div.parentNode,this.percent=0}get percent(){return this._percent}set percent(oe){this._indeterminate=isNaN(oe),this._percent=function j(ee,oe,Q){return Math.min(Math.max(ee,oe),Q)}(oe,0,100),we(this,pe,vt).call(this)}setWidth(oe){if(!oe)return;const v=oe.parentNode.offsetWidth-oe.offsetWidth;v>0&&document.documentElement.style.setProperty("--progressBar-end-offset",`${v}px`)}hide(){!this.visible||(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(D,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.StructTreeLayerBuilder=void 0;const S={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},m=/^H(\d+)$/;h.StructTreeLayerBuilder=class g{constructor({pdfPage:_}){this.pdfPage=_}render(_){return this._walk(_)}_setAttributes(_,i){void 0!==_.alt&&i.setAttribute("aria-label",_.alt),void 0!==_.id&&i.setAttribute("aria-owns",_.id),void 0!==_.lang&&i.setAttribute("lang",_.lang)}_walk(_){if(!_)return null;const i=document.createElement("span");if("role"in _){const{role:r}=_,u=r.match(m);u?(i.setAttribute("role","heading"),i.setAttribute("aria-level",u[1])):S[r]&&i.setAttribute("role",S[r])}if(this._setAttributes(_,i),_.children)if(1===_.children.length&&"id"in _.children[0])this._setAttributes(_.children[0],i);else for(const r of _.children)i.appendChild(this._walk(r));return i}}},(D,h,S)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TextLayerBuilder=void 0;var m=S(3);h.TextLayerBuilder=class a{constructor({textLayerDiv:i,eventBus:r,pageIndex:u,viewport:w,highlighter:e=null,enhanceTextSelection:d=!1}){this.textLayerDiv=i,this.eventBus=r,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=u+1,this.viewport=w,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=e,this.enhanceTextSelection=d,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const i=document.createElement("div");i.className="endOfContent",this.textLayerDiv.appendChild(i)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(i=0){if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr);const r=document.createDocumentFragment();this.textLayerRenderTask=(0,m.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:r,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:i,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{this.textLayerDiv.appendChild(r),this._finishRendering(),this.highlighter?.enable()},function(u){})}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable()}setTextContentStream(i){this.cancel(),this.textContentStream=i}setTextContent(i){this.cancel(),this.textContent=i}_bindMouse(){const i=this.textLayerDiv;let r=null;i.addEventListener("mousedown",u=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(r&&(clearTimeout(r),r=null));const w=i.querySelector(".endOfContent");if(!w)return;let e=u.target!==i;if(e=e&&"none"!==window.getComputedStyle(w).getPropertyValue("-moz-user-select"),e){const d=i.getBoundingClientRect(),n=Math.max(0,(u.pageY-d.top)/d.height);w.style.top=(100*n).toFixed(2)+"%"}w.classList.add("active")}),i.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(r=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),r=null},300));const u=i.querySelector(".endOfContent");!u||(u.style.top="",u.classList.remove("active"))})}}},(D,h,S)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.XfaLayerBuilder=void 0;var m=S(3);h.XfaLayerBuilder=class g{constructor({pageDiv:_,pdfPage:i,annotationStorage:r=null,linkService:u,xfaHtml:w=null}){this.pageDiv=_,this.pdfPage=i,this.annotationStorage=r,this.linkService=u,this.xfaHtml=w,this.div=null,this._cancelled=!1}render(_,i="display"){if("print"===i){const r={viewport:_.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:i},u=document.createElement("div");this.pageDiv.appendChild(u),r.div=u;const w=m.XfaLayer.render(r);return Promise.resolve(w)}return this.pdfPage.getXfa().then(r=>{if(this._cancelled||!r)return{textDivs:[]};const u={viewport:_.clone({dontFlip:!0}),div:this.div,xfaHtml:r,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:i};return this.div?m.XfaLayer.update(u):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),u.div=this.div,m.XfaLayer.render(u))}).catch(r=>{console.error(r)})}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},(D,h,S)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.PDFViewer=h.PDFSinglePageViewer=void 0;var m=S(6),g=S(11);h.PDFViewer=class a extends g.BaseViewer{},h.PDFSinglePageViewer=class _ extends g.BaseViewer{_resetView(){super._resetView(),this._scrollMode=m.ScrollMode.PAGE,this._spreadMode=m.SpreadMode.NONE}set scrollMode(r){}_updateScrollMode(){}set spreadMode(r){}_updateSpreadMode(){}}},(D,h,S)=>{var L,R,N,ht,X,ne,B,q,J,re,le,T,Ct,c,St,l,Je,P,it,E,Pt,j,ut,G,wt,ie,xt,Se,Et;Object.defineProperty(h,"__esModule",{value:!0}),h.PagesCountLimit=h.PDFPageViewBuffer=h.BaseViewer=void 0;var m=S(3),g=S(6),a=S(2),_=S(4),i=S(12),r=S(14),u=S(5),w=S(7),e=S(15),d=S(8),n=S(9);const A="enablePermissions",b={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};h.PagesCountLimit=b;class y{constructor(v){xe(this,N),xe(this,L,new Set),xe(this,R,0),Ne(this,R,v)}push(v){const I=Pe(this,L);I.has(v)&&I.delete(v),I.add(v),I.size>Pe(this,R)&&we(this,N,ht).call(this)}resize(v,I=null){Ne(this,R,v);const z=Pe(this,L);if(I){const ye=z.size;let Ae=1;for(const ge of z)if(I.has(ge.id)&&(z.delete(ge),z.add(ge)),++Ae>ye)break}for(;z.size>Pe(this,R);)we(this,N,ht).call(this)}has(v){return Pe(this,L).has(v)}[Symbol.iterator](){return Pe(this,L).keys()}}L=new WeakMap,R=new WeakMap,N=new WeakSet,ht=function(){const v=Pe(this,L).keys().next().value;v?.destroy(),Pe(this,L).delete(v)},h.PDFPageViewBuffer=y;const oe=class{constructor(v){if(xe(this,T),xe(this,c),xe(this,l),xe(this,P),xe(this,E),xe(this,j),xe(this,G),xe(this,ie),xe(this,Se),xe(this,X,null),xe(this,ne,m.AnnotationMode.ENABLE_FORMS),xe(this,B,null),xe(this,q,!1),xe(this,J,0),xe(this,re,null),xe(this,le,null),this.constructor===oe)throw new Error("Cannot initialize BaseViewer.");const I="2.14.305";if(m.version!==I)throw new Error(`The API version "${m.version}" does not match the Viewer version "${I}".`);if(this.container=v.container,this.viewer=v.viewer||v.container.firstElementChild,"DIV"!==this.container?.tagName.toUpperCase()||"DIV"!==this.viewer?.tagName.toUpperCase())throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=v.eventBus,this.linkService=v.linkService||new u.SimpleLinkService,this.downloadManager=v.downloadManager||null,this.findController=v.findController||null,this._scriptingManager=v.scriptingManager||null,this.removePageBorders=v.removePageBorders||!1,this.textLayerMode=v.textLayerMode??g.TextLayerMode.ENABLE,Ne(this,ne,v.annotationMode??m.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=v.imageResourcesPath||"",this.enablePrintAutoRotate=v.enablePrintAutoRotate||!1,this.renderer=v.renderer||g.RendererType.CANVAS,this.useOnlyCssZoom=v.useOnlyCssZoom||!1,this.maxCanvasPixels=v.maxCanvasPixels,this.l10n=v.l10n||_.NullL10n,Ne(this,q,v.enablePermissions||!1),this.pageColors=v.pageColors||null,v.pageColors&&(!CSS.supports("color",v.pageColors.background)||!CSS.supports("color",v.pageColors.foreground))&&((v.pageColors.background||v.pageColors.foreground)&&console.warn("Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!v.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new r.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=v.renderingQueue,this._doc=document.documentElement,this.scroll=(0,g.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=g.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss(),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(v){return this._pages[v]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(v){return v?.pdfPage})}get renderForms(){return Pe(this,ne)===m.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(v){if(!Number.isInteger(v))throw new Error("Invalid page number.");!this.pdfDocument||this._setCurrentPageNumber(v,!0)||console.error(`currentPageNumber: "${v}" is not a valid page.`)}_setCurrentPageNumber(v,I=!1){if(this._currentPageNumber===v)return I&&we(this,j,ut).call(this),!0;if(!(0<v&&v<=this.pagesCount))return!1;const z=this._currentPageNumber;return this._currentPageNumber=v,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:v,pageLabel:this._pageLabels?.[v-1]??null,previous:z}),I&&we(this,j,ut).call(this),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(v){if(!this.pdfDocument)return;let I=0|v;if(this._pageLabels){const z=this._pageLabels.indexOf(v);z>=0&&(I=z+1)}this._setCurrentPageNumber(I,!0)||console.error(`currentPageLabel: "${v}" is not a valid page.`)}get currentScale(){return this._currentScale!==g.UNKNOWN_SCALE?this._currentScale:g.DEFAULT_SCALE}set currentScale(v){if(isNaN(v))throw new Error("Invalid numeric scale.");!this.pdfDocument||this._setScale(v,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(v){!this.pdfDocument||this._setScale(v,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(v){if(!(0,g.isValidRotation)(v))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((v%=360)<0&&(v+=360),this._pagesRotation===v))return;this._pagesRotation=v;const I=this._currentPageNumber,z={rotation:v};for(const ye of this._pages)ye.update(z);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:v,pageNumber:I}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(v){var I=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=v,!v)return;const z=v.isPureXfa,ye=v.numPages,Ae=v.getPage(1),ge=v.getOptionalContentConfig(),Ce=Pe(this,q)?v.getPermissions():Promise.resolve();if(ye>b.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const _e=this._scrollMode=g.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:_e})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:ye})},()=>{}),this._onBeforeDraw=_e=>{const ke=this._pages[_e.pageNumber-1];!ke||Pe(this,X).push(ke)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=_e=>{_e.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:_e.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,Pe(this,le)&&(document.removeEventListener("visibilitychange",Pe(this,le)),Ne(this,le,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([Ae,Ce]).then(([_e,ke])=>{if(v!==this.pdfDocument)return;this._firstPageCapability.resolve(_e),this._optionalContentConfigPromise=ge,we(this,T,Ct).call(this,ke);const Te=this._scrollMode===g.ScrollMode.PAGE?null:this.viewer,Oe=this.currentScale,te=_e.getViewport({scale:Oe*m.PixelsPerInch.PDF_TO_CSS_UNITS}),F=this.textLayerMode===g.TextLayerMode.DISABLE||z?null:this,O=Pe(this,ne)!==m.AnnotationMode.DISABLE?this:null,ce=z?this:null;for(let me=1;me<=ye;++me){const ve=new i.PDFPageView({container:Te,eventBus:this.eventBus,id:me,scale:Oe,defaultViewport:te.clone(),optionalContentConfigPromise:ge,renderingQueue:this.renderingQueue,textLayerFactory:F,textLayerMode:this.textLayerMode,annotationLayerFactory:O,annotationMode:Pe(this,ne),xfaLayerFactory:ce,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(ve)}const fe=this._pages[0];fe&&(fe.setPdfPage(_e),this.linkService.cachePageRef(1,_e.ref)),this._scrollMode===g.ScrollMode.PAGE?we(this,l,Je).call(this):this._spreadMode!==g.SpreadMode.NONE&&this._updateSpreadMode(),we(this,c,St).call(this).then(p(function*(){if(I.findController&&I.findController.setDocument(v),I._scriptingManager&&I._scriptingManager.setDocument(v),v.loadingParams.disableAutoFetch||ye>b.FORCE_LAZY_PAGE_INIT)return void I._pagesCapability.resolve();let me=ye-1;if(me<=0)I._pagesCapability.resolve();else for(let ve=2;ve<=ye;++ve){const Me=v.getPage(ve).then(Le=>{const De=I._pages[ve-1];De.pdfPage||De.setPdfPage(Le),I.linkService.cachePageRef(ve,Le.ref),0==--me&&I._pagesCapability.resolve()},Le=>{console.error(`Unable to get page ${ve} to initialize viewer`,Le),0==--me&&I._pagesCapability.resolve()});ve%b.PAUSE_EAGER_PAGE_INIT==0&&(yield Me)}})),this.eventBus.dispatch("pagesinit",{source:this}),v.getMetadata().then(({info:me})=>{v===this.pdfDocument&&me.Language&&(this.viewer.lang=me.Language)}),this.defaultRenderingQueue&&this.update()}).catch(_e=>{console.error("Unable to initialize viewer",_e),this._pagesCapability.reject(_e)})}setPageLabels(v){if(this.pdfDocument){v?Array.isArray(v)&&this.pdfDocument.numPages===v.length?this._pageLabels=v:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let I=0,z=this._pages.length;I<z;I++)this._pages[I].setPageLabel(this._pageLabels?.[I]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=g.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,Ne(this,X,new y(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,m.createPromiseCapability)(),this._onePageRenderedCapability=(0,m.createPromiseCapability)(),this._pagesCapability=(0,m.createPromiseCapability)(),this._scrollMode=g.ScrollMode.VERTICAL,this._previousScrollMode=g.ScrollMode.UNKNOWN,this._spreadMode=g.SpreadMode.NONE,Ne(this,re,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),Pe(this,le)&&(document.removeEventListener("visibilitychange",Pe(this,le)),Ne(this,le,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(A),null!==Pe(this,B)&&(Ne(this,ne,Pe(this,B)),Ne(this,B,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_setScaleUpdatePages(v,I,z=!1,ye=!1){if(this._currentScaleValue=I.toString(),we(this,E,Pt).call(this,v))return void(ye&&this.eventBus.dispatch("scalechanging",{source:this,scale:v,presetValue:I}));this._doc.style.setProperty("--zoom-factor",v);const Ae={scale:v};for(const ge of this._pages)ge.update(Ae);if(this._currentScale=v,!z){let Ce,ge=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(ge=this._location.pageNumber,Ce=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:ge,destArray:Ce,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:v,presetValue:ye?I:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==g.SpreadMode.NONE&&this._scrollMode!==g.ScrollMode.HORIZONTAL?2:1}_setScale(v,I=!1){let z=parseFloat(v);if(z>0)this._setScaleUpdatePages(z,v,I,!1);else{const ye=this._pages[this._currentPageNumber-1];if(!ye)return;let Ae=g.SCROLLBAR_PADDING,ge=g.VERTICAL_PADDING;this.isInPresentationMode?Ae=ge=4:this.removePageBorders?Ae=ge=0:this._scrollMode===g.ScrollMode.HORIZONTAL&&([Ae,ge]=[ge,Ae]);const Ce=(this.container.clientWidth-Ae)/ye.width*ye.scale/this._pageWidthScaleFactor,_e=(this.container.clientHeight-ge)/ye.height*ye.scale;switch(v){case"page-actual":z=1;break;case"page-width":z=Ce;break;case"page-height":z=_e;break;case"page-fit":z=Math.min(Ce,_e);break;case"auto":const ke=(0,g.isPortraitOrientation)(ye)?Ce:Math.min(_e,Ce);z=Math.min(g.MAX_AUTO_SCALE,ke);break;default:return void console.error(`_setScale: "${v}" is an unknown zoom value.`)}this._setScaleUpdatePages(z,v,I,!0)}}pageLabelToPageNumber(v){if(!this._pageLabels)return null;const I=this._pageLabels.indexOf(v);return I<0?null:I+1}scrollPageIntoView({pageNumber:v,destArray:I=null,allowNegativeOffset:z=!1,ignoreDestinationZoom:ye=!1}){if(!this.pdfDocument)return;const Ae=Number.isInteger(v)&&this._pages[v-1];if(!Ae)return void console.error(`scrollPageIntoView: "${v}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!I)return void this._setCurrentPageNumber(v,!0);let Te,Oe,ge=0,Ce=0,_e=0,ke=0;const te=Ae.rotation%180!=0,F=(te?Ae.height:Ae.width)/Ae.scale/m.PixelsPerInch.PDF_TO_CSS_UNITS,O=(te?Ae.width:Ae.height)/Ae.scale/m.PixelsPerInch.PDF_TO_CSS_UNITS;let ce=0;switch(I[1].name){case"XYZ":ge=I[2],Ce=I[3],ce=I[4],ge=null!==ge?ge:0,Ce=null!==Ce?Ce:O;break;case"Fit":case"FitB":ce="page-fit";break;case"FitH":case"FitBH":Ce=I[2],ce="page-width",null===Ce&&this._location?(ge=this._location.left,Ce=this._location.top):("number"!=typeof Ce||Ce<0)&&(Ce=O);break;case"FitV":case"FitBV":ge=I[2],_e=F,ke=O,ce="page-height";break;case"FitR":ge=I[2],Ce=I[3],_e=I[4]-ge,ke=I[5]-Ce,Te=(this.container.clientWidth-(this.removePageBorders?0:g.SCROLLBAR_PADDING))/_e/m.PixelsPerInch.PDF_TO_CSS_UNITS,Oe=(this.container.clientHeight-(this.removePageBorders?0:g.VERTICAL_PADDING))/ke/m.PixelsPerInch.PDF_TO_CSS_UNITS,ce=Math.min(Math.abs(Te),Math.abs(Oe));break;default:return void console.error(`scrollPageIntoView: "${I[1].name}" is not a valid destination type.`)}if(ye||(ce&&ce!==this._currentScale?this.currentScaleValue=ce:this._currentScale===g.UNKNOWN_SCALE&&(this.currentScaleValue=g.DEFAULT_SCALE_VALUE)),"page-fit"===ce&&!I[4])return void we(this,P,it).call(this,Ae);const fe=[Ae.viewport.convertToViewportPoint(ge,Ce),Ae.viewport.convertToViewportPoint(ge+_e,Ce+ke)];let me=Math.min(fe[0][0],fe[1][0]),ve=Math.min(fe[0][1],fe[1][1]);z||(me=Math.max(me,0),ve=Math.max(ve,0)),we(this,P,it).call(this,Ae,{left:me,top:ve})}_updateLocation(v){const I=this._currentScale,z=this._currentScaleValue,ye=parseFloat(z)===I?Math.round(1e4*I)/100:z,Ae=v.id,Ce=this.container,_e=this._pages[Ae-1].getPagePoint(Ce.scrollLeft-v.x,Ce.scrollTop-v.y),ke=Math.round(_e[0]),Te=Math.round(_e[1]);let Oe=`#page=${Ae}`;this.isInPresentationMode||(Oe+=`&zoom=${ye},${ke},${Te}`),this._location={pageNumber:Ae,scale:ye,top:Te,left:ke,rotation:this._pagesRotation,pdfOpenParams:Oe}}update(){const v=this._getVisiblePages(),I=v.views,z=I.length;if(0===z)return;const ye=Math.max(10,2*z+1);Pe(this,X).resize(ye,v.ids),this.renderingQueue.renderHighestPriority(v);const Ae=this._spreadMode===g.SpreadMode.NONE&&(this._scrollMode===g.ScrollMode.PAGE||this._scrollMode===g.ScrollMode.VERTICAL),ge=this._currentPageNumber;let Ce=!1;for(const _e of I){if(_e.percent<100)break;if(_e.id===ge&&Ae){Ce=!0;break}}this._setCurrentPageNumber(Ce?ge:I[0].id),this._updateLocation(v.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(v){return this.container.contains(v)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===g.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===g.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const v=this._scrollMode===g.ScrollMode.PAGE?Pe(this,re).pages:this._pages,I=this._scrollMode===g.ScrollMode.HORIZONTAL;return(0,g.getVisibleElements)({scrollEl:this.container,views:v,sortByVisibility:!0,horizontal:I,rtl:I&&this._isContainerRtl})}isPageVisible(v){return!!this.pdfDocument&&(Number.isInteger(v)&&v>0&&v<=this.pagesCount?this._getVisiblePages().ids.has(v):(console.error(`isPageVisible: "${v}" is not a valid page.`),!1))}isPageCached(v){if(!this.pdfDocument)return!1;if(!(Number.isInteger(v)&&v>0&&v<=this.pagesCount))return console.error(`isPageCached: "${v}" is not a valid page.`),!1;const I=this._pages[v-1];return Pe(this,X).has(I)}cleanup(){for(const v of this._pages)v.renderingState!==g.RenderingStates.FINISHED&&v.reset()}_cancelRendering(){for(const v of this._pages)v.cancelRendering()}forceRendering(v){const I=v||this._getVisiblePages(),z=we(this,ie,xt).call(this,I),Ae=this.renderingQueue.getHighestPriority(I,this._pages,z,this._spreadMode!==g.SpreadMode.NONE&&this._scrollMode!==g.ScrollMode.HORIZONTAL);return we(this,Se,Et).call(this,I.ids),!!Ae&&(we(this,G,wt).call(this,Ae).then(()=>{this.renderingQueue.renderView(Ae)}),!0)}createTextLayerBuilder(v,I,z,ye=!1,Ae,ge){return new d.TextLayerBuilder({textLayerDiv:v,eventBus:Ae,pageIndex:I,viewport:z,enhanceTextSelection:!this.isInPresentationMode&&ye,highlighter:ge})}createTextHighlighter(v,I){return new e.TextHighlighter({eventBus:I,pageIndex:v,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(v,I,z=null,ye="",Ae=!0,ge=_.NullL10n,Ce=null,_e=null,ke=null,Te=null,Oe=null){return new a.AnnotationLayerBuilder({pageDiv:v,pdfPage:I,annotationStorage:z||this.pdfDocument?.annotationStorage,imageResourcesPath:ye,renderForms:Ae,linkService:this.linkService,downloadManager:this.downloadManager,l10n:ge,enableScripting:Ce??this.enableScripting,hasJSActionsPromise:_e||this.pdfDocument?.hasJSActions(),fieldObjectsPromise:Te||this.pdfDocument?.getFieldObjects(),mouseState:ke||this._scriptingManager?.mouseState,annotationCanvasMap:Oe})}createXfaLayerBuilder(v,I,z=null){return new n.XfaLayerBuilder({pageDiv:v,pdfPage:I,annotationStorage:z||this.pdfDocument?.annotationStorage,linkService:this.linkService})}createStructTreeLayerBuilder(v){return new w.StructTreeLayerBuilder({pdfPage:v})}get hasEqualPageSizes(){const v=this._pages[0];for(let I=1,z=this._pages.length;I<z;++I){const ye=this._pages[I];if(ye.width!==v.width||ye.height!==v.height)return!1}return!0}getPagesOverview(){return this._pages.map(v=>{const I=v.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,g.isPortraitOrientation)(I)?{width:I.width,height:I.height,rotation:I.rotation}:{width:I.height,height:I.width,rotation:(I.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(v){if(!(v instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${v}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=v;const I={optionalContentConfigPromise:v};for(const z of this._pages)z.update(I);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:v})}get scrollMode(){return this._scrollMode}set scrollMode(v){if(this._scrollMode!==v){if(!(0,g.isValidScrollMode)(v))throw new Error(`Invalid scroll mode: ${v}`);this.pagesCount>b.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=v,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:v}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(v=null){const I=this._scrollMode,z=this.viewer;z.classList.toggle("scrollHorizontal",I===g.ScrollMode.HORIZONTAL),z.classList.toggle("scrollWrapped",I===g.ScrollMode.WRAPPED),this.pdfDocument&&v&&(I===g.ScrollMode.PAGE?we(this,l,Je).call(this):this._previousScrollMode===g.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(v,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(v){if(this._spreadMode!==v){if(!(0,g.isValidSpreadMode)(v))throw new Error(`Invalid spread mode: ${v}`);this._spreadMode=v,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:v}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(v=null){if(!this.pdfDocument)return;const I=this.viewer,z=this._pages;if(this._scrollMode===g.ScrollMode.PAGE)we(this,l,Je).call(this);else if(I.textContent="",this._spreadMode===g.SpreadMode.NONE)for(const ye of this._pages)I.appendChild(ye.div);else{const ye=this._spreadMode-1;let Ae=null;for(let ge=0,Ce=z.length;ge<Ce;++ge)null===Ae?(Ae=document.createElement("div"),Ae.className="spread",I.appendChild(Ae)):ge%2===ye&&(Ae=Ae.cloneNode(!1),I.appendChild(Ae)),Ae.appendChild(z[ge].div)}!v||(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(v,!0),this.update())}_getPageAdvance(v,I=!1){switch(this._scrollMode){case g.ScrollMode.WRAPPED:{const{views:z}=this._getVisiblePages(),ye=new Map;for(const{id:Ae,y:ge,percent:Ce,widthPercent:_e}of z){if(0===Ce||_e<100)continue;let ke=ye.get(ge);ke||ye.set(ge,ke||(ke=[])),ke.push(Ae)}for(const Ae of ye.values()){const ge=Ae.indexOf(v);if(-1===ge)continue;const Ce=Ae.length;if(1===Ce)break;if(I)for(let _e=ge-1,ke=0;_e>=ke;_e--){const Oe=Ae[_e+1]-1;if(Ae[_e]<Oe)return v-Oe}else for(let _e=ge+1,ke=Ce;_e<ke;_e++){const Oe=Ae[_e-1]+1;if(Ae[_e]>Oe)return Oe-v}if(I){const _e=Ae[0];if(_e<v)return v-_e+1}else{const _e=Ae[Ce-1];if(_e>v)return _e-v+1}break}break}case g.ScrollMode.HORIZONTAL:break;case g.ScrollMode.PAGE:case g.ScrollMode.VERTICAL:{if(this._spreadMode===g.SpreadMode.NONE)break;const z=this._spreadMode-1;if(I&&v%2!==z)break;if(!I&&v%2===z)break;const{views:ye}=this._getVisiblePages(),Ae=I?v-1:v+1;for(const{id:ge,percent:Ce,widthPercent:_e}of ye)if(ge===Ae){if(Ce>0&&100===_e)return 2;break}break}}return 1}nextPage(){const v=this._currentPageNumber,I=this.pagesCount;if(v>=I)return!1;const z=this._getPageAdvance(v,!1)||1;return this.currentPageNumber=Math.min(v+z,I),!0}previousPage(){const v=this._currentPageNumber;if(v<=1)return!1;const I=this._getPageAdvance(v,!0)||1;return this.currentPageNumber=Math.max(v-I,1),!0}increaseScale(v=1){let I=this._currentScale;do{I=(I*g.DEFAULT_SCALE_DELTA).toFixed(2),I=Math.ceil(10*I)/10,I=Math.min(g.MAX_SCALE,I)}while(--v>0&&I<g.MAX_SCALE);this.currentScaleValue=I}decreaseScale(v=1){let I=this._currentScale;do{I=(I/g.DEFAULT_SCALE_DELTA).toFixed(2),I=Math.floor(10*I)/10,I=Math.max(g.MIN_SCALE,I)}while(--v>0&&I>g.MIN_SCALE);this.currentScaleValue=I}updateContainerHeightCss(){const v=this.container.clientHeight;v!==Pe(this,J)&&(Ne(this,J,v),this._doc.style.setProperty("--viewer-container-height",`${v}px`))}};let k=oe;X=new WeakMap,ne=new WeakMap,B=new WeakMap,q=new WeakMap,J=new WeakMap,re=new WeakMap,le=new WeakMap,T=new WeakSet,Ct=function(v){!v||(v.includes(m.PermissionFlag.COPY)||this.viewer.classList.add(A),!v.includes(m.PermissionFlag.MODIFY_ANNOTATIONS)&&!v.includes(m.PermissionFlag.FILL_INTERACTIVE_FORMS)&&Pe(this,ne)===m.AnnotationMode.ENABLE_FORMS&&(Ne(this,B,Pe(this,ne)),Ne(this,ne,m.AnnotationMode.ENABLE)))},c=new WeakSet,St=function(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const v=new Promise(I=>{Ne(this,le,()=>{"hidden"===document.visibilityState&&(I(),document.removeEventListener("visibilitychange",Pe(this,le)),Ne(this,le,null))}),document.addEventListener("visibilitychange",Pe(this,le))});return Promise.race([this._onePageRenderedCapability.promise,v])},l=new WeakSet,Je=function(){if(this._scrollMode!==g.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const v=this._currentPageNumber,I=Pe(this,re),z=this.viewer;if(z.textContent="",I.pages.length=0,this._spreadMode!==g.SpreadMode.NONE||this.isInPresentationMode){const ye=new Set,Ae=this._spreadMode-1;-1===Ae?ye.add(v-1):v%2!==Ae?(ye.add(v-1),ye.add(v)):(ye.add(v-2),ye.add(v-1));const ge=document.createElement("div");if(ge.className="spread",this.isInPresentationMode){const Ce=document.createElement("div");Ce.className="dummyPage",ge.appendChild(Ce)}for(const Ce of ye){const _e=this._pages[Ce];!_e||(ge.appendChild(_e.div),I.pages.push(_e))}z.appendChild(ge)}else{const ye=this._pages[v-1];z.appendChild(ye.div),I.pages.push(ye)}I.scrollDown=v>=I.previousPageNumber,I.previousPageNumber=v},P=new WeakSet,it=function(v,I=null){const{div:z,id:ye}=v;if(this._scrollMode===g.ScrollMode.PAGE&&(this._setCurrentPageNumber(ye),we(this,l,Je).call(this),this.update()),!I&&!this.isInPresentationMode){const Ae=z.offsetLeft+z.clientLeft,ge=Ae+z.clientWidth,{scrollLeft:Ce,clientWidth:_e}=this.container;(this._scrollMode===g.ScrollMode.HORIZONTAL||Ae<Ce||ge>Ce+_e)&&(I={left:0,top:0})}(0,g.scrollIntoView)(z,I)},E=new WeakSet,Pt=function(v){return v===this._currentScale||Math.abs(v-this._currentScale)<1e-15},j=new WeakSet,ut=function(){const v=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),we(this,P,it).call(this,v)},G=new WeakSet,wt=function(v){var I=this;return p(function*(){if(v.pdfPage)return v.pdfPage;try{const z=yield I.pdfDocument.getPage(v.id);return v.pdfPage||v.setPdfPage(z),I.linkService._cachedPageNumber?.(z.ref)||I.linkService.cachePageRef(v.id,z.ref),z}catch(z){return console.error("Unable to get page for page view",z),null}})()},ie=new WeakSet,xt=function(v){if(1===v.first?.id)return!0;if(v.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case g.ScrollMode.PAGE:return Pe(this,re).scrollDown;case g.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down},Se=new WeakSet,Et=function(v){for(const I of v)this._pages[I-1]?.toggleLoadingIconSpinner(!0);for(const I of Pe(this,X))v.has(I.id)||I.toggleLoadingIconSpinner(!1)},h.BaseViewer=k},(D,h,S)=>{var u;Object.defineProperty(h,"__esModule",{value:!0}),h.PDFPageView=void 0;var m=S(3),g=S(6),a=S(13),_=S(4);const i=a.compatibilityParams.maxCanvasPixels||16777216;u=new WeakMap,h.PDFPageView=class r{constructor(e){xe(this,u,m.AnnotationMode.ENABLE_FORMS);const d=e.container,n=e.defaultViewport;this.id=e.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=e.scale||g.DEFAULT_SCALE,this.viewport=n,this.pdfPageRotate=n.rotation,this._optionalContentConfigPromise=e.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=e.textLayerMode??g.TextLayerMode.ENABLE,Ne(this,u,e.annotationMode??m.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=e.imageResourcesPath||"",this.useOnlyCssZoom=e.useOnlyCssZoom||!1,this.maxCanvasPixels=e.maxCanvasPixels||i,this.pageColors=e.pageColors||null,this.eventBus=e.eventBus,this.renderingQueue=e.renderingQueue,this.textLayerFactory=e.textLayerFactory,this.annotationLayerFactory=e.annotationLayerFactory,this.xfaLayerFactory=e.xfaLayerFactory,this.textHighlighter=e.textHighlighterFactory?.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=e.structTreeLayerFactory,this.renderer=e.renderer||g.RendererType.CANVAS,this.l10n=e.l10n||_.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=g.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const s=document.createElement("div");s.className="page",s.style.width=Math.floor(this.viewport.width)+"px",s.style.height=Math.floor(this.viewport.height)+"px",s.setAttribute("data-page-number",this.id),s.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(A=>{s.setAttribute("aria-label",A)}),this.div=s,d?.appendChild(s)}setPdfPage(e){this.pdfPage=e,this.pdfPageRotate=e.rotate,this.viewport=e.getViewport({scale:this.scale*m.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var e=this;return p(function*(){let d=null;try{yield e.annotationLayer.render(e.viewport,"display")}catch(n){d=n}finally{e.eventBus.dispatch("annotationlayerrendered",{source:e,pageNumber:e.id,error:d})}})()}_renderXfaLayer(){var e=this;return p(function*(){let d=null;try{const n=yield e.xfaLayer.render(e.viewport,"display");e.textHighlighter&&e._buildXfaTextContentItems(n.textDivs)}catch(n){d=n}finally{e.eventBus.dispatch("xfalayerrendered",{source:e,pageNumber:e.id,error:d})}})()}_buildXfaTextContentItems(e){var d=this;return p(function*(){const n=yield d.pdfPage.getTextContent(),s=[];for(const A of n.items)s.push(A.str);d.textHighlighter.setTextMapping(e,s),d.textHighlighter.enable()})()}_resetZoomLayer(e=!1){if(!this.zoomLayer)return;const d=this.zoomLayer.firstChild;this.paintedViewportMap.delete(d),d.width=0,d.height=0,e&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:e=!1,keepAnnotationLayer:d=!1,keepXfaLayer:n=!1}={}){this.cancelRendering({keepAnnotationLayer:d,keepXfaLayer:n}),this.renderingState=g.RenderingStates.INITIAL;const s=this.div;s.style.width=Math.floor(this.viewport.width)+"px",s.style.height=Math.floor(this.viewport.height)+"px";const A=s.childNodes,b=e&&this.zoomLayer||null,y=d&&this.annotationLayer?.div||null,k=n&&this.xfaLayer?.div||null;for(let L=A.length-1;L>=0;L--){const R=A[L];switch(R){case b:case y:case k:continue}R.remove()}s.removeAttribute("data-loaded"),y&&this.annotationLayer.hide(),k&&this.xfaLayer.hide(),b||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(L=>{this.loadingIconDiv?.setAttribute("aria-label",L)}),s.appendChild(this.loadingIconDiv)}update({scale:e=0,rotation:d=null,optionalContentConfigPromise:n=null}){if(this.scale=e||this.scale,"number"==typeof d&&(this.rotation=d),n instanceof Promise&&(this._optionalContentConfigPromise=n),this.viewport=this.viewport.clone({scale:this.scale*m.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:b}=document.documentElement;b.setProperty("--zoom-factor",this.scale)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let A=!1;if(this.canvas&&this.maxCanvasPixels>0){const b=this.outputScale;(Math.floor(this.viewport.width)*b.sx|0)*(Math.floor(this.viewport.height)*b.sy|0)>this.maxCanvasPixels&&(A=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&A)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:e=!1,keepXfaLayer:d=!1}={}){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!e||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!d||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this.textHighlighter?.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:e,redrawAnnotationLayer:d=!1,redrawXfaLayer:n=!1}){const s=this.viewport.width,A=this.viewport.height,b=this.div;e.style.width=e.parentNode.style.width=b.style.width=Math.floor(s)+"px",e.style.height=e.parentNode.style.height=b.style.height=Math.floor(A)+"px";const y=this.viewport.rotation-this.paintedViewportMap.get(e).rotation,k=Math.abs(y);let L=1,R=1;if((90===k||270===k)&&(L=A/s,R=s/A),e.style.transform=`rotate(${y}deg) scale(${L}, ${R})`,this.textLayer){const N=this.textLayer.viewport,X=Math.abs(this.viewport.rotation-N.rotation);let ne=s/N.width;(90===X||270===X)&&(ne=s/N.height);const B=this.textLayer.textLayerDiv;let q,J;switch(X){case 0:q=J=0;break;case 90:q=0,J="-"+B.style.height;break;case 180:q="-"+B.style.width,J="-"+B.style.height;break;case 270:q="-"+B.style.width,J=0;break;default:console.error("Bad rotation value.")}B.style.transform=`rotate(${X}deg) scale(${ne}) translate(${q}, ${J})`,B.style.transformOrigin="0% 0%"}d&&this.annotationLayer&&this._renderAnnotationLayer(),n&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(e,d){return this.viewport.convertToPdfPoint(e,d)}toggleLoadingIconSpinner(e=!1){this.loadingIconDiv?.classList.toggle("notVisible",!e)}draw(){var e=this;this.renderingState!==g.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:d,pdfPage:n}=this;if(!n)return this.renderingState=g.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=g.RenderingStates.RUNNING;const s=document.createElement("div");s.style.width=d.style.width,s.style.height=d.style.height,s.classList.add("canvasWrapper"),this.annotationLayer?.div?d.insertBefore(s,this.annotationLayer.div):d.appendChild(s);let A=null;if(this.textLayerMode!==g.TextLayerMode.DISABLE&&this.textLayerFactory){const R=document.createElement("div");R.className="textLayer",R.style.width=s.style.width,R.style.height=s.style.height,this.annotationLayer?.div?d.insertBefore(R,this.annotationLayer.div):d.appendChild(R),A=this.textLayerFactory.createTextLayerBuilder(R,this.id-1,this.viewport,this.textLayerMode===g.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=A,Pe(this,u)!==m.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(d,n,null,this.imageResourcesPath,Pe(this,u)===m.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap))),this.xfaLayer?.div&&d.appendChild(this.xfaLayer.div);let b=null;this.renderingQueue&&(b=R=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=g.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=g.RenderingStates.RUNNING,R()});R()});const y=function(){var R=p(function*(N=null){if(k===e.paintTask&&(e.paintTask=null),N instanceof m.RenderingCancelledException)e._renderError=null;else if(e._renderError=N,e.renderingState=g.RenderingStates.FINISHED,e.loadingIconDiv&&(e.loadingIconDiv.remove(),delete e.loadingIconDiv),e._resetZoomLayer(!0),e.eventBus.dispatch("pagerendered",{source:e,pageNumber:e.id,cssTransform:!1,timestamp:performance.now(),error:e._renderError}),N)throw N});return function(){return R.apply(this,arguments)}}(),k=this.renderer===g.RendererType.SVG?this.paintOnSvg(s):this.paintOnCanvas(s);k.onRenderContinue=b,this.paintTask=k;const L=k.promise.then(()=>y(null).then(()=>{if(A){const R=n.streamTextContent({includeMarkedContent:!0});A.setTextContentStream(R),A.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(R){return y(R)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(d,n,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=R=>{R.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(N=>{if(!N||!this.canvas)return;const H=this.structTreeLayer.render(N);H.classList.add("structTree"),this.canvas.appendChild(H)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(n)),d.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),L}paintOnCanvas(e){const d=(0,m.createPromiseCapability)(),n={promise:d.promise,onRenderContinue(B){B()},cancel(){ne.cancel()}},s=this.viewport,A=document.createElement("canvas");A.hidden=!0;let b=!0;const y=function(){b&&(A.hidden=!1,b=!1)};e.appendChild(A),this.canvas=A;const k=A.getContext("2d",{alpha:!1}),L=this.outputScale=new g.OutputScale;if(this.useOnlyCssZoom){const B=s.clone({scale:m.PixelsPerInch.PDF_TO_CSS_UNITS});L.sx*=B.width/s.width,L.sy*=B.height/s.height}if(this.maxCanvasPixels>0){const q=Math.sqrt(this.maxCanvasPixels/(s.width*s.height));L.sx>q||L.sy>q?(L.sx=q,L.sy=q,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const R=(0,g.approximateFraction)(L.sx),N=(0,g.approximateFraction)(L.sy);A.width=(0,g.roundToDivide)(s.width*L.sx,R[0]),A.height=(0,g.roundToDivide)(s.height*L.sy,N[0]),A.style.width=(0,g.roundToDivide)(s.width,R[1])+"px",A.style.height=(0,g.roundToDivide)(s.height,N[1])+"px",this.paintedViewportMap.set(A,s);const X={canvasContext:k,transform:L.scaled?[L.sx,0,0,L.sy,0,0]:null,viewport:this.viewport,annotationMode:Pe(this,u),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},ne=this.pdfPage.render(X);return ne.onContinue=function(B){y(),n.onRenderContinue?n.onRenderContinue(B):B()},ne.promise.then(function(){y(),d.resolve()},function(B){y(),d.reject(B)}),n}paintOnSvg(e){let d=!1;const n=()=>{if(d)throw new m.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},s=this.pdfPage,A=this.viewport.clone({scale:m.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:s.getOperatorList({annotationMode:Pe(this,u)}).then(y=>(n(),new m.SVGGraphics(s.commonObjs,s.objs).getSVG(y,A).then(L=>{n(),this.svg=L,this.paintedViewportMap.set(L,A),L.style.width=e.style.width,L.style.height=e.style.height,this.renderingState=g.RenderingStates.FINISHED,e.appendChild(L)}))),onRenderContinue(y){y()},cancel(){d=!0}}}setPageLabel(e){this.pageLabel="string"==typeof e?e:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(D,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.compatibilityParams=h.OptionKind=h.AppOptions=void 0;const S=Object.create(null);h.compatibilityParams=S;{const i=navigator.userAgent||"",r=navigator.platform||"",u=navigator.maxTouchPoints||1,w=/Android/.test(i);(/\b(iPad|iPhone|iPod)(?=;)/.test(i)||"MacIntel"===r&&u>1||w)&&(S.maxCanvasPixels=5242880)}const m={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};h.OptionKind=m;const g={annotationMode:{value:2,kind:m.VIEWER+m.PREFERENCE},cursorToolOnLoad:{value:0,kind:m.VIEWER+m.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:m.VIEWER},defaultZoomValue:{value:"",kind:m.VIEWER+m.PREFERENCE},disableHistory:{value:!1,kind:m.VIEWER},disablePageLabels:{value:!1,kind:m.VIEWER+m.PREFERENCE},enablePermissions:{value:!1,kind:m.VIEWER+m.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:m.VIEWER+m.PREFERENCE},enableScripting:{value:!0,kind:m.VIEWER+m.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:m.VIEWER},externalLinkTarget:{value:0,kind:m.VIEWER+m.PREFERENCE},historyUpdateUrl:{value:!1,kind:m.VIEWER+m.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:m.VIEWER+m.PREFERENCE},imageResourcesPath:{value:"./images/",kind:m.VIEWER},maxCanvasPixels:{value:16777216,compatibility:S.maxCanvasPixels,kind:m.VIEWER},pageColorsBackground:{value:"Canvas",kind:m.VIEWER+m.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:m.VIEWER+m.PREFERENCE},pdfBugEnabled:{value:!1,kind:m.VIEWER+m.PREFERENCE},printResolution:{value:150,kind:m.VIEWER},renderer:{value:"canvas",kind:m.VIEWER},sidebarViewOnLoad:{value:-1,kind:m.VIEWER+m.PREFERENCE},scrollModeOnLoad:{value:-1,kind:m.VIEWER+m.PREFERENCE},spreadModeOnLoad:{value:-1,kind:m.VIEWER+m.PREFERENCE},textLayerMode:{value:1,kind:m.VIEWER+m.PREFERENCE},useOnlyCssZoom:{value:!1,kind:m.VIEWER+m.PREFERENCE},viewerCssTheme:{value:0,kind:m.VIEWER+m.PREFERENCE},viewOnLoad:{value:0,kind:m.VIEWER+m.PREFERENCE},cMapPacked:{value:!0,kind:m.API},cMapUrl:{value:"../web/cmaps/",kind:m.API},disableAutoFetch:{value:!1,kind:m.API+m.PREFERENCE},disableFontFace:{value:!1,kind:m.API+m.PREFERENCE},disableRange:{value:!1,kind:m.API+m.PREFERENCE},disableStream:{value:!1,kind:m.API+m.PREFERENCE},docBaseUrl:{value:"",kind:m.API},enableXfa:{value:!0,kind:m.API+m.PREFERENCE},fontExtraProperties:{value:!1,kind:m.API},isEvalSupported:{value:!0,kind:m.API},maxImageSize:{value:-1,kind:m.API},pdfBug:{value:!1,kind:m.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:m.API},verbosity:{value:1,kind:m.API},workerPort:{value:null,kind:m.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:m.WORKER}};g.disablePreferences={value:!1,kind:m.VIEWER},g.locale={value:navigator.language||"en-US",kind:m.VIEWER},g.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:m.VIEWER},g.renderer.kind+=m.PREFERENCE;const a=Object.create(null);h.AppOptions=class _{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(r){const u=a[r];if(void 0!==u)return u;const w=g[r];return void 0!==w?w.compatibility??w.value:void 0}static getAll(r=null){const u=Object.create(null);for(const w in g){const e=g[w];if(r){if(0==(r&e.kind))continue;if(r===m.PREFERENCE){const n=e.value,s=typeof n;if("boolean"===s||"string"===s||"number"===s&&Number.isInteger(n)){u[w]=n;continue}throw new Error(`Invalid type for preference: ${w}`)}}const d=a[w];u[w]=void 0!==d?d:e.compatibility??e.value}return u}static set(r,u){a[r]=u}static setAll(r){for(const u in r)a[u]=r[u]}static remove(r){delete a[r]}static _hasUserOptions(){return Object.keys(a).length>0}}},(D,h,S)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.PDFRenderingQueue=void 0;var m=S(3),g=S(6);h.PDFRenderingQueue=class _{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(r){this.pdfViewer=r}setThumbnailViewer(r){this.pdfThumbnailViewer=r}isHighestPriority(r){return this.highestPriorityPage===r.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(r){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(r)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(r,u,w,e=!1){const d=r.views,n=d.length;if(0===n)return null;for(let k=0;k<n;k++){const L=d[k].view;if(!this.isViewFinished(L))return L}const s=r.first.id,A=r.last.id;if(A-s+1>n){const k=r.ids;for(let L=1,R=A-s;L<R;L++){const N=w?s+L:A-L;if(k.has(N))continue;const H=u[N-1];if(!this.isViewFinished(H))return H}}let b=w?A:s-2,y=u[b];return y&&!this.isViewFinished(y)||e&&(b+=w?1:-1,y=u[b],y&&!this.isViewFinished(y))?y:null}isViewFinished(r){return r.renderingState===g.RenderingStates.FINISHED}renderView(r){switch(r.renderingState){case g.RenderingStates.FINISHED:return!1;case g.RenderingStates.PAUSED:this.highestPriorityPage=r.renderingId,r.resume();break;case g.RenderingStates.RUNNING:this.highestPriorityPage=r.renderingId;break;case g.RenderingStates.INITIAL:this.highestPriorityPage=r.renderingId,r.draw().finally(()=>{this.renderHighestPriority()}).catch(u=>{u instanceof m.RenderingCancelledException||console.error(`renderView: "${u}"`)})}return!0}}},(D,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TextHighlighter=void 0,h.TextHighlighter=class S{constructor({findController:g,eventBus:a,pageIndex:_}){this.findController=g,this.matches=[],this.eventBus=a,this.pageIdx=_,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(g,a){this.textDivs=g,this.textContentItemsStr=a}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=g=>{(g.pageIndex===this.pageIdx||-1===g.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){!this.enabled||(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(g,a){if(!g)return[];const{textContentItemsStr:_}=this;let i=0,r=0;const u=_.length-1,w=[];for(let e=0,d=g.length;e<d;e++){let n=g[e];for(;i!==u&&n>=r+_[i].length;)r+=_[i].length,i++;i===_.length&&console.error("Could not find a matching mapping");const s={begin:{divIdx:i,offset:n-r}};for(n+=a[e];i!==u&&n>r+_[i].length;)r+=_[i].length,i++;s.end={divIdx:i,offset:n-r},w.push(s)}return w}_renderMatches(g){if(0===g.length)return;const{findController:a,pageIdx:_}=this,{textContentItemsStr:i,textDivs:r}=this,u=_===a.selected.pageIdx,w=a.selected.matchIdx;let d=null;function s(k,L){const R=k.divIdx;return r[R].textContent="",A(R,0,k.offset,L)}function A(k,L,R,N){let H=r[k];if(H.nodeType===Node.TEXT_NODE){const B=document.createElement("span");H.parentNode.insertBefore(B,H),B.appendChild(H),r[k]=B,H=B}const X=i[k].substring(L,R),ne=document.createTextNode(X);if(N){const B=document.createElement("span");return B.className=`${N} appended`,B.appendChild(ne),H.appendChild(B),N.includes("selected")?B.offsetLeft:0}return H.appendChild(ne),0}let b=w,y=b+1;if(a.state.highlightAll)b=0,y=g.length;else if(!u)return;for(let k=b;k<y;k++){const L=g[k],R=L.begin,N=L.end,H=u&&k===w,X=H?" selected":"";let ne=0;if(d&&R.divIdx===d.divIdx?A(d.divIdx,d.offset,R.offset):(null!==d&&A(d.divIdx,d.offset,undefined),s(R)),R.divIdx===N.divIdx)ne=A(R.divIdx,R.offset,N.offset,"highlight"+X);else{ne=A(R.divIdx,R.offset,undefined,"highlight begin"+X);for(let B=R.divIdx+1,q=N.divIdx;B<q;B++)r[B].className="highlight middle"+X;s(N,"highlight end"+X)}d=N,H&&a.scrollMatchIntoView({element:r[R.divIdx],selectedLeft:ne,pageIndex:_,matchIndex:w})}d&&A(d.divIdx,d.offset,undefined)}_updateMatches(){if(!this.enabled)return;const{findController:g,matches:a,pageIdx:_}=this,{textContentItemsStr:i,textDivs:r}=this;let u=-1;for(let d=0,n=a.length;d<n;d++){const s=a[d];for(let b=Math.max(u,s.begin.divIdx),y=s.end.divIdx;b<=y;b++){const k=r[b];k.textContent=i[b],k.className=""}u=s.end.divIdx+1}g?.highlightMatches&&(this.matches=this._convertMatches(g.pageMatches[_]||null,g.pageMatchesLength[_]||null),this._renderMatches(this.matches))}}},(D,h,S)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.DownloadManager=void 0;var m=S(3);function g(_,i){const r=document.createElement("a");if(!r.click)throw new Error('DownloadManager: "a.click()" is not supported.');r.href=_,r.target="_parent","download"in r&&(r.download=i),(document.body||document.documentElement).appendChild(r),r.click(),r.remove()}h.DownloadManager=class a{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(i,r){(0,m.createValidAbsoluteUrl)(i,"http://example.com")?g(i+"#pdfjs.action=download",r):console.error(`downloadUrl - not a valid URL: ${i}`)}downloadData(i,r,u){g(URL.createObjectURL(new Blob([i],{type:u})),r)}openOrDownloadData(i,r,u){const w=(0,m.isPdfFile)(u),e=w?"application/pdf":"";if(w){let n,d=this._openBlobUrls.get(i);d||(d=URL.createObjectURL(new Blob([r],{type:e})),this._openBlobUrls.set(i,d)),n="?file="+encodeURIComponent(d+"#"+u);try{return window.open(n),!0}catch(s){console.error(`openOrDownloadData: ${s}`),URL.revokeObjectURL(d),this._openBlobUrls.delete(i)}}return this.downloadData(r,u,e),!1}download(i,r,u,w="download"){g(URL.createObjectURL(i),u)}}},(D,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.WaitOnType=h.EventBus=h.AutomationEventBus=void 0,h.waitOnEventOrTimeout=function m({target:_,name:i,delay:r=0}){return new Promise(function(u,w){if("object"!=typeof _||!i||"string"!=typeof i||!(Number.isInteger(r)&&r>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function e(A){_ instanceof g?_._off(i,d):_.removeEventListener(i,d),s&&clearTimeout(s),u(A)}const d=e.bind(null,S.EVENT);_ instanceof g?_._on(i,d):_.addEventListener(i,d);const n=e.bind(null,S.TIMEOUT),s=setTimeout(n,r)})};const S={EVENT:"event",TIMEOUT:"timeout"};h.WaitOnType=S;class g{constructor(){this._listeners=Object.create(null)}on(i,r,u=null){this._on(i,r,{external:!0,once:u?.once})}off(i,r,u=null){this._off(i,r,{external:!0,once:u?.once})}dispatch(i,r){const u=this._listeners[i];if(!u||0===u.length)return;let w;for(const{listener:e,external:d,once:n}of u.slice(0))n&&this._off(i,e),d?(w||(w=[])).push(e):e(r);if(w){for(const e of w)e(r);w=null}}_on(i,r,u=null){var e;((e=this._listeners)[i]||(e[i]=[])).push({listener:r,external:!0===u?.external,once:!0===u?.once})}_off(i,r,u=null){const w=this._listeners[i];if(w)for(let e=0,d=w.length;e<d;e++)if(w[e].listener===r)return void w.splice(e,1)}}h.EventBus=g,h.AutomationEventBus=class a extends g{dispatch(i,r){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(D,h,S)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.GenericL10n=void 0,S(19);var m=S(4);const g=document.webL10n;h.GenericL10n=class a{constructor(i){this._lang=i,this._ready=new Promise((r,u)=>{g.setLanguage((0,m.fixupLangCode)(i),()=>{r(g)})})}getLanguage(){var i=this;return p(function*(){return(yield i._ready).getLanguage()})()}getDirection(){var i=this;return p(function*(){return(yield i._ready).getDirection()})()}get(i,r=null,u=(0,m.getL10nFallback)(i,r)){var w=this;return p(function*(){return(yield w._ready).get(i,r,u)})()}translate(i){var r=this;return p(function*(){return(yield r._ready).translate(i)})()}}},()=>{document.webL10n=function(D,h,S){var m={},g="",a="textContent",_="",i={},r="loading";function s(B,q,J){q=q||function(T){},J=J||function(){};var re=new XMLHttpRequest;re.open("GET",B,!0),re.overrideMimeType&&re.overrideMimeType("text/plain; charset=utf-8"),re.onreadystatechange=function(){4==re.readyState&&(200==re.status||0===re.status?q(re.responseText):J())},re.onerror=J,re.ontimeout=J;try{re.send(null)}catch{J()}}function b(B,q){B&&(B=B.toLowerCase()),q=q||function(){},function y(){m={},g="",_=""}(),_=B;var J=function w(){return h.querySelectorAll('link[type="application/l10n"]')}(),re=J.length;if(0!==re){var c,t=0;c=function(){++t>=re&&(q(),r="complete")};for(var f=0;f<re;f++)new l(J[f]).load(B,c)}else{var le=function e(){var B=h.querySelector('script[type="application/l10n"]');return B?JSON.parse(B.innerHTML):null}();if(le&&le.locales&&le.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(m=le.locales[B])){var T=le.default_locale.toLowerCase();for(var o in le.locales){if((o=o.toLowerCase())===B){m=le.locales[B];break}o===T&&(m=le.locales[T])}}q()}else console.log("no resource to load, early way out");r="complete"}function l(C){var E=C.href;this.load=function(U,j){!function A(B,q,J,re){var le=B.replace(/[^\/]*$/,"")||"./";function T(c){return c.lastIndexOf("\\")<0?c:c.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}s(B,function(c){g+=c,function o(c,t){var l={},f=/^\s*|\s*$/,P=/^\s*#|^\s*$/,C=/^\s*\[(.*)\]\s*$/,E=/^\s*@import\s+url\((.*)\)\s*$/i,U=/^([^=\s]*)\s*=\s*(.+)$/;function j(G,Y,ie){var pe=G.replace(f,"").split(/[\r\n]+/),Se="*",ee=q.split("-",1)[0],oe=!1,Q="";!function v(){for(;;){if(!pe.length)return void ie();var I=pe.shift();if(!P.test(I)){if(Y){if(Q=C.exec(I)){Se=Q[1].toLowerCase(),oe="*"!==Se&&Se!==q&&Se!==ee;continue}if(oe)continue;if(Q=E.exec(I))return void V(le+Q[1],v)}var z=I.match(U);z&&3==z.length&&(l[z[1]]=T(z[2]))}}}()}function V(G,Y){s(G,function(ie){j(ie,!1,Y)},function(){console.warn(G+" not found."),Y()})}j(c,!0,function(){t(l)})}(c,function(t){for(var l in t){var f,P,C=l.lastIndexOf(".");C>0?(f=l.substring(0,C),P=l.substring(C+1)):(f=l,P=a),m[f]||(m[f]={}),m[f][P]=t[l]}J&&J()})},re)}(E,U,j,function(){console.warn(E+" not found."),console.warn('"'+U+'" resource not found'),_="",j()})}}}function L(B,q,J){var re=m[B];if(!re){if(console.warn("#"+B+" is undefined."),!J)return null;re=J}var le={};for(var T in re){var o=re[T];o=N(o=R(o,q,B,T),q,B),le[T]=o}return le}function R(B,q,J,re){var T=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(B);if(!T||!T.length)return B;var t,o=T[1],c=T[2];return q&&c in q?t=q[c]:c in m&&(t=m[c]),o in i&&(B=(0,i[o])(B,t,J,re)),B}function N(B,q,J){return B.replace(/\{\{\s*(.+?)\s*\}\}/g,function(le,T){return q&&T in q?q[T]:T in m?m[T]:(console.log("argument {{"+T+"}} for #"+J+" is undefined."),le)})}function H(B){var q=function n(B){if(!B)return{};var q=B.getAttribute("data-l10n-id"),J=B.getAttribute("data-l10n-args"),re={};if(J)try{re=JSON.parse(J)}catch{console.warn("could not parse arguments for #"+q)}return{id:q,args:re}}(B);if(q.id){var J=L(q.id,q.args);if(!J)return void console.warn("#"+q.id+" is undefined.");if(J[a]){if(0===function X(B){if(B.children)return B.children.length;if(typeof B.childElementCount<"u")return B.childElementCount;for(var q=0,J=0;J<B.childNodes.length;J++)q+=1===B.nodeType?1:0;return q}(B))B[a]=J[a];else{for(var re=B.childNodes,le=!1,T=0,o=re.length;T<o;T++)3===re[T].nodeType&&/\S/.test(re[T].nodeValue)&&(le?re[T].nodeValue="":(re[T].nodeValue=J[a],le=!0));if(!le){var c=h.createTextNode(J[a]);B.insertBefore(c,B.firstChild)}}delete J[a]}for(var t in J)B[t]=J[t]}}return i.plural=function(B,q,J,re){var le=parseFloat(q);if(isNaN(le)||re!=a)return B;i._pluralRules||(i._pluralRules=function k(B){function J(o,c){return-1!==c.indexOf(o)}function re(o,c,t){return c<=o&&o<=t}var le={0:function(o){return"other"},1:function(o){return re(o%100,3,10)?"few":0===o?"zero":re(o%100,11,99)?"many":2==o?"two":1==o?"one":"other"},2:function(o){return 0!==o&&o%10==0?"many":2==o?"two":1==o?"one":"other"},3:function(o){return 1==o?"one":"other"},4:function(o){return re(o,0,1)?"one":"other"},5:function(o){return re(o,0,2)&&2!=o?"one":"other"},6:function(o){return 0===o?"zero":o%10==1&&o%100!=11?"one":"other"},7:function(o){return 2==o?"two":1==o?"one":"other"},8:function(o){return re(o,3,6)?"few":re(o,7,10)?"many":2==o?"two":1==o?"one":"other"},9:function(o){return 0===o||1!=o&&re(o%100,1,19)?"few":1==o?"one":"other"},10:function(o){return re(o%10,2,9)&&!re(o%100,11,19)?"few":o%10!=1||re(o%100,11,19)?"other":"one"},11:function(o){return re(o%10,2,4)&&!re(o%100,12,14)?"few":o%10==0||re(o%10,5,9)||re(o%100,11,14)?"many":o%10==1&&o%100!=11?"one":"other"},12:function(o){return re(o,2,4)?"few":1==o?"one":"other"},13:function(o){return re(o%10,2,4)&&!re(o%100,12,14)?"few":1!=o&&re(o%10,0,1)||re(o%10,5,9)||re(o%100,12,14)?"many":1==o?"one":"other"},14:function(o){return re(o%100,3,4)?"few":o%100==2?"two":o%100==1?"one":"other"},15:function(o){return 0===o||re(o%100,2,10)?"few":re(o%100,11,19)?"many":1==o?"one":"other"},16:function(o){return o%10==1&&11!=o?"one":"other"},17:function(o){return 3==o?"few":0===o?"zero":6==o?"many":2==o?"two":1==o?"one":"other"},18:function(o){return 0===o?"zero":re(o,0,2)&&0!==o&&2!=o?"one":"other"},19:function(o){return re(o,2,10)?"few":re(o,0,1)?"one":"other"},20:function(o){return!re(o%10,3,4)&&o%10!=9||re(o%100,10,19)||re(o%100,70,79)||re(o%100,90,99)?o%1e6==0&&0!==o?"many":o%10!=2||J(o%100,[12,72,92])?o%10!=1||J(o%100,[11,71,91])?"other":"one":"two":"few"},21:function(o){return 0===o?"zero":1==o?"one":"other"},22:function(o){return re(o,0,1)||re(o,11,99)?"one":"other"},23:function(o){return re(o%10,1,2)||o%20==0?"one":"other"},24:function(o){return re(o,3,10)||re(o,13,19)?"few":J(o,[2,12])?"two":J(o,[1,11])?"one":"other"}},T={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[B.replace(/-.*$/,"")];return T in le?le[T]:(console.warn("plural form unknown for ["+B+"]"),function(){return"other"})}(_));var T="["+i._pluralRules(le)+"]";return 0===le&&J+"[zero]"in m?B=m[J+"[zero]"][re]:1==le&&J+"[one]"in m?B=m[J+"[one]"][re]:2==le&&J+"[two]"in m?B=m[J+"[two]"][re]:J+T in m?B=m[J+T][re]:J+"[other]"in m&&(B=m[J+"[other]"][re]),B},{get:function(B,q,J){var T,re=B.lastIndexOf("."),le=a;re>0&&(le=B.substring(re+1),B=B.substring(0,re)),J&&((T={})[le]=J);var o=L(B,q,T);return o&&le in o?o[le]:"{{"+B+"}}"},getData:function(){return m},getText:function(){return g},getLanguage:function(){return _},setLanguage:function(B,q){b(B,function(){q&&q()})},getDirection:function(){var q=_.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(q)>=0?"rtl":"ltr"},translate:function ne(B){for(var q=function d(B){return B?B.querySelectorAll("*[data-l10n-id]"):[]}(B=B||h.documentElement),J=q.length,re=0;re<J;re++)H(q[re]);H(B)},getReadyState:function(){return r},ready:function(B){B&&("complete"==r||"interactive"==r?D.setTimeout(function(){B()}):h.addEventListener&&h.addEventListener("localized",function q(){h.removeEventListener("localized",q),B()}))}}}(window,document)},(D,h,S)=>{var N,Tt,X,dt,B,ft,J,Mt,le,kt,o,Lt,t,pt,f,Rt,C,Ft,U,st,V,et,Y,Qe,pe,Ot,ee,gt,Q,_t,I,rt,ye,Dt,ge,mt,_e,It,Te,tt;Object.defineProperty(h,"__esModule",{value:!0}),h.PDFFindController=h.FindState=void 0;var m=S(6),g=S(3),a=S(21);const _={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};h.FindState=_;const w={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},e=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),d=[...e.values()].map(te=>String.fromCharCode(te)).join(""),n=/\p{M}+/gu,s=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,A=/([^\p{M}])\p{M}*$/u,b=/^\p{M}*([^\p{M}])/u;let y=null;function k(te){if(!y){const Fe=Object.keys(w).join("");y=new RegExp(`([${Fe}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const F=[];let O;for(;null!==(O=n.exec(te));)F.push([O[0].length,O.index]);let ce=te.normalize("NFD");const fe=[[0,0]];let me=0,ve=0,Me=0,Le=0,De=!1;return ce=ce.replace(y,(Fe,Ue,Be,qe,Ie,je)=>{if(je-=Me,Ue){const He=w[Fe],ze=He.length;for(let Ge=1;Ge<ze;Ge++)fe.push([je-ve+Ge,ve-Ge]);return ve-=ze-1,He}if(Be){const He=Be.endsWith("\n"),ze=He?Be.length-2:Be.length;De=!0;let Ge=ze;je+Le===F[me]?.[1]&&(Ge-=F[me][0],++me);for(let Xe=1;Xe<Ge+1;Xe++)fe.push([je-1-ve+Xe,ve-Xe]);return ve-=Ge,Me+=Ge,He?(fe.push([(je+=ze-1)-ve+1,1+ve]),ve+=1,Me+=1,Le+=1,Be.slice(0,ze)):Be}return qe?(fe.push([je-ve+1,1+ve]),ve+=1,Me+=1,Le+=1,qe.charAt(0)):(fe.push([je-ve+1,ve-1]),ve-=1,Me+=1,Le+=1," ")}),fe.push([ce.length,ve]),[ce,fe,De]}function L(te,F,O){if(!te)return[F,O];const ce=F,fe=F+O;let me=(0,m.binarySearchFirstItem)(te,Me=>Me[0]>=ce);te[me][0]>ce&&--me;let ve=(0,m.binarySearchFirstItem)(te,Me=>Me[0]>=fe,me);return te[ve][0]>fe&&--ve,[ce+te[me][1],O+te[ve][1]-te[me][1]]}N=new WeakSet,Tt=function(F){if(!F)return;const O=this._pdfDocument,{type:ce}=F;(null===this._state||we(this,J,Mt).call(this,F))&&(this._dirtyMatch=!0),this._state=F,"highlightallchange"!==ce&&we(this,Te,tt).call(this,_.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||O&&this._pdfDocument!==O)return;we(this,C,Ft).call(this);const fe=!this._highlightMatches,me=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),ce?this._dirtyMatch?we(this,Y,Qe).call(this):"again"===ce?(we(this,Y,Qe).call(this),fe&&this._state.highlightAll&&we(this,V,et).call(this)):"highlightallchange"===ce?(me?we(this,Y,Qe).call(this):this._highlightMatches=!0,we(this,V,et).call(this)):we(this,Y,Qe).call(this):this._findTimeout=setTimeout(()=>{we(this,Y,Qe).call(this),this._findTimeout=null},250)})},X=new WeakSet,dt=function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,g.createPromiseCapability)()},B=new WeakSet,ft=function(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=k(this._state.query)),this._normalizedQuery},J=new WeakSet,Mt=function(F){if(F.query!==this._state.query)return!0;switch(F.type){case"again":const O=this._selected.pageIdx+1,ce=this._linkService;return O>=1&&O<=ce.pagesCount&&O!==ce.page&&!ce.isPageVisible(O);case"highlightallchange":return!1}return!0},le=new WeakSet,kt=function(F,O,ce){let fe=F.slice(0,O).match(A);if(fe){const me=F.charCodeAt(O),ve=fe[1].charCodeAt(0);if((0,a.getCharacterType)(me)===(0,a.getCharacterType)(ve))return!1}if(fe=F.slice(O+ce).match(b),fe){const me=F.charCodeAt(O+ce-1),ve=fe[1].charCodeAt(0);if((0,a.getCharacterType)(me)===(0,a.getCharacterType)(ve))return!1}return!0},o=new WeakSet,Lt=function(F,O,ce,fe){const me=[],ve=[],Me=this._pageDiffs[ce];let Le;for(;null!==(Le=F.exec(fe));){if(O&&!we(this,le,kt).call(this,fe,Le.index,Le[0].length))continue;const[De,Fe]=L(Me,Le.index,Le[0].length);Fe&&(me.push(De),ve.push(Fe))}this._pageMatches[ce]=me,this._pageMatchesLength[ce]=ve},t=new WeakSet,pt=function(F,O){const{matchDiacritics:ce}=this._state;let fe=!1;return(F=F.replace(s,(ve,Me,Le,De,Fe,Ue)=>Me?`[ ]*\\${Me}[ ]*`:Le?`[ ]*${Le}[ ]*`:De?"[ ]+":ce?Fe||Ue:Fe?e.has(Fe.charCodeAt(0))?Fe:"":O?(fe=!0,`${Ue}\\p{M}*`):Ue)).endsWith("[ ]*")&&(F=F.slice(0,F.length-"[ ]*".length)),ce&&O&&(fe=!0,F=`${F}(?=[${d}]|[^\\p{M}]|$)`),[fe,F]},f=new WeakSet,Rt=function(F){let O=Pe(this,B,ft);if(0===O.length)return;const{caseSensitive:ce,entireWord:fe,phraseSearch:me}=this._state,ve=this._pageContents[F],Me=this._hasDiacritics[F];let Le=!1;if(me)[Le,O]=we(this,t,pt).call(this,O,Me);else{const Ue=O.match(/\S+/g);Ue&&(O=Ue.sort().reverse().map(Be=>{const[qe,Ie]=we(this,t,pt).call(this,Be,Me);return Le||(Le=qe),`(${Ie})`}).join("|"))}O=new RegExp(O,`g${Le?"u":""}${ce?"":"i"}`),we(this,o,Lt).call(this,O,fe,F,ve),this._state.highlightAll&&we(this,U,st).call(this,F),this._resumePageIdx===F&&(this._resumePageIdx=null,we(this,ee,gt).call(this));const Fe=this._pageMatches[F].length;Fe>0&&(this._matchesCountTotal+=Fe,we(this,_e,It).call(this))},C=new WeakSet,Ft=function(){if(this._extractTextPromises.length>0)return;let F=Promise.resolve();for(let O=0,ce=this._linkService.pagesCount;O<ce;O++){const fe=(0,g.createPromiseCapability)();this._extractTextPromises[O]=fe.promise,F=F.then(()=>this._pdfDocument.getPage(O+1).then(me=>me.getTextContent()).then(me=>{const ve=[];for(const Me of me.items)ve.push(Me.str),Me.hasEOL&&ve.push("\n");[this._pageContents[O],this._pageDiffs[O],this._hasDiacritics[O]]=k(ve.join("")),fe.resolve()},me=>{console.error(`Unable to get text content for page ${O+1}`,me),this._pageContents[O]="",this._pageDiffs[O]=null,this._hasDiacritics[O]=!1,fe.resolve()}))}},U=new WeakSet,st=function(F){this._scrollMatches&&this._selected.pageIdx===F&&(this._linkService.page=F+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:F})},V=new WeakSet,et=function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})},Y=new WeakSet,Qe=function(){const F=this._state.findPrevious,O=this._linkService.page-1,ce=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=O,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,we(this,V,et).call(this);for(let me=0;me<ce;me++)this._pendingFindMatches.has(me)||(this._pendingFindMatches.add(me),this._extractTextPromises[me].then(()=>{this._pendingFindMatches.delete(me),we(this,f,Rt).call(this,me)}))}if(""===Pe(this,B,ft))return void we(this,Te,tt).call(this,_.FOUND);if(this._resumePageIdx)return;const fe=this._offset;if(this._pagesToSearch=ce,null!==fe.matchIdx){const me=this._pageMatches[fe.pageIdx].length;if(!F&&fe.matchIdx+1<me||F&&fe.matchIdx>0)return fe.matchIdx=F?fe.matchIdx-1:fe.matchIdx+1,void we(this,I,rt).call(this,!0);we(this,Q,_t).call(this,F)}we(this,ee,gt).call(this)},pe=new WeakSet,Ot=function(F){const O=this._offset,ce=F.length,fe=this._state.findPrevious;return ce?(O.matchIdx=fe?ce-1:0,we(this,I,rt).call(this,!0),!0):(we(this,Q,_t).call(this,fe),!!(O.wrapped&&(O.matchIdx=null,this._pagesToSearch<0))&&(we(this,I,rt).call(this,!1),!0))},ee=new WeakSet,gt=function(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let F=null;do{const O=this._offset.pageIdx;if(F=this._pageMatches[O],!F){this._resumePageIdx=O;break}}while(!we(this,pe,Ot).call(this,F))},Q=new WeakSet,_t=function(F){const O=this._offset,ce=this._linkService.pagesCount;O.pageIdx=F?O.pageIdx-1:O.pageIdx+1,O.matchIdx=null,this._pagesToSearch--,(O.pageIdx>=ce||O.pageIdx<0)&&(O.pageIdx=F?ce-1:0,O.wrapped=!0)},I=new WeakSet,rt=function(F=!1){let O=_.NOT_FOUND;const ce=this._offset.wrapped;if(this._offset.wrapped=!1,F){const fe=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,O=ce?_.WRAPPED:_.FOUND,-1!==fe&&fe!==this._selected.pageIdx&&we(this,U,st).call(this,fe)}we(this,Te,tt).call(this,O,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,we(this,U,st).call(this,this._selected.pageIdx))},ye=new WeakSet,Dt=function(F){const O=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||O&&this._pdfDocument!==O||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),we(this,Te,tt).call(this,_.FOUND),this._highlightMatches=!1,we(this,V,et).call(this))})},ge=new WeakSet,mt=function(){const{pageIdx:F,matchIdx:O}=this._selected;let ce=0,fe=this._matchesCountTotal;if(-1!==O){for(let me=0;me<F;me++)ce+=this._pageMatches[me]?.length||0;ce+=O+1}return(ce<1||ce>fe)&&(ce=fe=0),{current:ce,total:fe}},_e=new WeakSet,It=function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:we(this,ge,mt).call(this)})},Te=new WeakSet,tt=function(F,O=!1){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:F,previous:O,matchesCount:we(this,ge,mt).call(this),rawQuery:this._state?.query??null})},h.PDFFindController=class R{constructor({linkService:F,eventBus:O}){xe(this,N),xe(this,X),xe(this,B),xe(this,J),xe(this,le),xe(this,o),xe(this,t),xe(this,f),xe(this,C),xe(this,U),xe(this,V),xe(this,Y),xe(this,pe),xe(this,ee),xe(this,Q),xe(this,I),xe(this,ye),xe(this,ge),xe(this,_e),xe(this,Te),this._linkService=F,this._eventBus=O,we(this,X,dt).call(this),O._on("find",we(this,N,Tt).bind(this)),O._on("findbarclose",we(this,ye,Dt).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(F){this._pdfDocument&&we(this,X,dt).call(this),F&&(this._pdfDocument=F,this._firstPageCapability.resolve())}scrollMatchIntoView({element:F=null,selectedLeft:O=0,pageIndex:ce=-1,matchIndex:fe=-1}){this._scrollMatches&&F&&-1!==fe&&fe===this._selected.matchIdx&&-1!==ce&&ce===this._selected.pageIdx&&(this._scrollMatches=!1,(0,m.scrollIntoView)(F,{top:-50,left:O+-400},!0))}}},(D,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.CharacterType=void 0,h.getCharacterType=function n(s){return function m(s){return s<11904}(s)?function g(s){return 0==(65408&s)}(s)?function i(s){return 32===s||9===s||13===s||10===s}(s)?S.SPACE:function a(s){return s>=97&&s<=122||s>=65&&s<=90}(s)||function _(s){return s>=48&&s<=57}(s)||95===s?S.ALPHA_LETTER:S.PUNCT:function d(s){return 3584==(65408&s)}(s)?S.THAI_LETTER:160===s?S.SPACE:S.ALPHA_LETTER:function r(s){return s>=13312&&s<=40959||s>=63744&&s<=64255}(s)?S.HAN_LETTER:function u(s){return s>=12448&&s<=12543}(s)?S.KATAKANA_LETTER:function w(s){return s>=12352&&s<=12447}(s)?S.HIRAGANA_LETTER:function e(s){return s>=65376&&s<=65439}(s)?S.HALFWIDTH_KATAKANA_LETTER:S.ALPHA_LETTER};const S={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};h.CharacterType=S},(D,h,S)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.PDFHistory=void 0,h.isDestArraysEqual=e,h.isDestHashesEqual=w;var m=S(6),g=S(17);function r(){return document.location.hash}function w(d,n){return"string"==typeof d&&"string"==typeof n&&(d===n||(0,m.parseQueryString)(d).get("nameddest")===n)}function e(d,n){function s(A,b){if(typeof A!=typeof b||Array.isArray(A)||Array.isArray(b))return!1;if(null!==A&&"object"==typeof A&&null!==b){if(Object.keys(A).length!==Object.keys(b).length)return!1;for(const y in A)if(!s(A[y],b[y]))return!1;return!0}return A===b||Number.isNaN(A)&&Number.isNaN(b)}if(!Array.isArray(d)||!Array.isArray(n)||d.length!==n.length)return!1;for(let A=0,b=d.length;A<b;A++)if(!s(d[A],n[A]))return!1;return!0}h.PDFHistory=class u{constructor({linkService:n,eventBus:s}){this.linkService=n,this.eventBus=s,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",A=>{this._isPagesLoaded=!!A.pagesCount},{once:!0})})}initialize({fingerprint:n,resetHistory:s=!1,updateUrl:A=!1}){if(!n||"string"!=typeof n)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const b=""!==this._fingerprint&&this._fingerprint!==n;this._fingerprint=n,this._updateUrl=!0===A,this._initialized=!0,this._bindEvents();const y=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=r(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(y,!0)||s){const{hash:L,page:R,rotation:N}=this._parseCurrentHash(!0);return!L||b||s?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:L,page:R,rotation:N},!0)}const k=y.destination;this._updateInternalState(k,y.uid,!0),void 0!==k.rotation&&(this._initialRotation=k.rotation),k.dest?(this._initialBookmark=JSON.stringify(k.dest),this._destination.page=null):k.hash?this._initialBookmark=k.hash:k.page&&(this._initialBookmark=`page=${k.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:n=null,explicitDest:s,pageNumber:A}){if(!this._initialized)return;if(n&&"string"!=typeof n)return void console.error(`PDFHistory.push: "${n}" is not a valid namedDest parameter.`);if(!Array.isArray(s))return void console.error(`PDFHistory.push: "${s}" is not a valid explicitDest parameter.`);if(!this._isValidPage(A)&&(null!==A||this._destination))return void console.error(`PDFHistory.push: "${A}" is not a valid pageNumber parameter.`);const b=n||JSON.stringify(s);if(!b)return;let y=!1;if(this._destination&&(w(this._destination.hash,b)||e(this._destination.dest,s))){if(this._destination.page)return;y=!0}this._popStateInProgress&&!y||(this._pushOrReplaceState({dest:s,hash:b,page:A,rotation:this.linkService.rotation},y),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(n){if(this._initialized){if(!this._isValidPage(n))return void console.error(`PDFHistory.pushPage: "${n}" is not a valid page number.`);this._destination?.page!==n&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${n}`,page:n,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const n=window.history.state;this._isValidState(n)&&n.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const n=window.history.state;this._isValidState(n)&&n.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(n,s=!1){const A=s||!this._destination,b={fingerprint:this._fingerprint,uid:A?this._uid:this._uid+1,destination:n};let y;if(this._updateInternalState(n,b.uid),this._updateUrl&&n?.hash){const k=document.location.href.split("#")[0];k.startsWith("file://")||(y=`${k}#${n.hash}`)}A?window.history.replaceState(b,"",y):window.history.pushState(b,"",y)}_tryPushCurrentPosition(n=!1){if(!this._position)return;let s=this._position;if(n&&(s=Object.assign(Object.create(null),this._position),s.temporary=!0),!this._destination)return void this._pushOrReplaceState(s);if(this._destination.temporary)return void this._pushOrReplaceState(s,!0);if(this._destination.hash===s.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let A=!1;if(this._destination.page>=s.first&&this._destination.page<=s.page){if(void 0!==this._destination.dest||!this._destination.first)return;A=!0}this._pushOrReplaceState(s,A)}_isValidPage(n){return Number.isInteger(n)&&n>0&&n<=this.linkService.pagesCount}_isValidState(n,s=!1){if(!n)return!1;if(n.fingerprint!==this._fingerprint){if(!s)return!1;{if("string"!=typeof n.fingerprint||n.fingerprint.length!==this._fingerprint.length)return!1;const[A]=performance.getEntriesByType("navigation");if("reload"!==A?.type)return!1}}return!(!Number.isInteger(n.uid)||n.uid<0||null===n.destination||"object"!=typeof n.destination)}_updateInternalState(n,s,A=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),A&&n?.temporary&&delete n.temporary,this._destination=n,this._uid=s,this._maxUid=Math.max(this._maxUid,s),this._numPositionUpdates=0}_parseCurrentHash(n=!1){const s=unescape(r()).substring(1),A=(0,m.parseQueryString)(s),b=A.get("nameddest")||"";let y=0|A.get("page");return(!this._isValidPage(y)||n&&b.length>0)&&(y=null),{hash:s,page:y,rotation:this.linkService.rotation}}_updateViewarea({location:n}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:n.pdfOpenParams.substring(1),page:this.linkService.page,first:n.pageNumber,rotation:n.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:n}){const s=r(),A=this._currentHash!==s;if(this._currentHash=s,!n){this._uid++;const{hash:y,page:k,rotation:L}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:y,page:k,rotation:L},!0)}if(!this._isValidState(n))return;this._popStateInProgress=!0,A&&(this._blockHashChange++,(0,g.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const b=n.destination;this._updateInternalState(b,n.uid,!0),(0,m.isValidRotation)(b.rotation)&&(this.linkService.rotation=b.rotation),b.dest?this.linkService.goToDestination(b.dest):b.hash?this.linkService.setHash(b.hash):b.page&&(this.linkService.page=b.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){!this._boundEvents||(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(D,h,S)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.PDFScriptingManager=void 0;var m=S(6),g=S(3);h.PDFScriptingManager=class a{constructor({eventBus:i,sandboxBundleSrc:r=null,scriptingFactory:u=null,docPropertiesLookup:w=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=i,this._sandboxBundleSrc=r,this._scriptingFactory=u,this._docPropertiesLookup=w,this._scriptingFactory||window.addEventListener("updatefromsandbox",e=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:e.detail})})}setViewer(i){this._pdfViewer=i}setDocument(i){var r=this;return p(function*(){if(r._pdfDocument&&(yield r._destroyScripting()),r._pdfDocument=i,!i)return;const[u,w,e]=yield Promise.all([i.getFieldObjects(),i.getCalculationOrderIds(),i.getJSActions()]);if(u||e){if(i===r._pdfDocument){try{r._scripting=r._createScripting()}catch(d){return console.error(`PDFScriptingManager.setDocument: "${d?.message}".`),void(yield r._destroyScripting())}r._internalEvents.set("updatefromsandbox",d=>{d?.source===window&&r._updateFromSandbox(d.detail)}),r._internalEvents.set("dispatcheventinsandbox",d=>{r._scripting?.dispatchEventInSandbox(d.detail)}),r._internalEvents.set("pagechanging",({pageNumber:d,previous:n})=>{d!==n&&(r._dispatchPageClose(n),r._dispatchPageOpen(d))}),r._internalEvents.set("pagerendered",({pageNumber:d})=>{!r._pageOpenPending.has(d)||d===r._pdfViewer.currentPageNumber&&r._dispatchPageOpen(d)}),r._internalEvents.set("pagesdestroy",function(){var d=p(function*(n){yield r._dispatchPageClose(r._pdfViewer.currentPageNumber),yield r._scripting?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),r._closeCapability?.resolve()});return function(n){return d.apply(this,arguments)}}()),r._domEvents.set("mousedown",d=>{r._mouseState.isDown=!0}),r._domEvents.set("mouseup",d=>{r._mouseState.isDown=!1});for(const[d,n]of r._internalEvents)r._eventBus._on(d,n);for(const[d,n]of r._domEvents)window.addEventListener(d,n,!0);try{const d=yield r._getDocProperties();if(i!==r._pdfDocument)return;yield r._scripting.createSandbox({objects:u,calculationOrder:w,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...d,actions:e}}),r._eventBus.dispatch("sandboxcreated",{source:r})}catch(d){return console.error(`PDFScriptingManager.setDocument: "${d?.message}".`),void(yield r._destroyScripting())}yield r._scripting?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield r._dispatchPageOpen(r._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{i===r._pdfDocument&&(r._ready=!0)})}}else yield r._destroyScripting()})()}dispatchWillSave(i){var r=this;return p(function*(){return r._scripting?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(i){var r=this;return p(function*(){return r._scripting?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(i){var r=this;return p(function*(){return r._scripting?.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(i){var r=this;return p(function*(){return r._scripting?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){return this._destroyCapability?.promise||null}get ready(){return this._ready}get _internalEvents(){return(0,g.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,g.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,g.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,g.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(i){var r=this;return p(function*(){const u=r._pdfViewer.isInPresentationMode||r._pdfViewer.isChangingPresentationMode,{id:w,siblings:e,command:d,value:n}=i;if(!w){switch(d){case"clear":console.clear();break;case"error":console.error(n);break;case"layout":if(u)return;const A=(0,m.apiPageLayoutToViewerModes)(n);r._pdfViewer.spreadMode=A.spreadMode;break;case"page-num":r._pdfViewer.currentPageNumber=n+1;break;case"print":yield r._pdfViewer.pagesPromise,r._eventBus.dispatch("print",{source:r});break;case"println":console.log(n);break;case"zoom":if(u)return;r._pdfViewer.currentScaleValue=n;break;case"SaveAs":r._eventBus.dispatch("save",{source:r});break;case"FirstPage":r._pdfViewer.currentPageNumber=1;break;case"LastPage":r._pdfViewer.currentPageNumber=r._pdfViewer.pagesCount;break;case"NextPage":r._pdfViewer.nextPage();break;case"PrevPage":r._pdfViewer.previousPage();break;case"ZoomViewIn":if(u)return;r._pdfViewer.increaseScale();break;case"ZoomViewOut":if(u)return;r._pdfViewer.decreaseScale()}return}if(u&&i.focus)return;delete i.id,delete i.siblings;const s=e?[w,...e]:[w];for(const A of s){const b=document.getElementById(A);b?b.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:i})):r._pdfDocument?.annotationStorage.setValue(A,i)}})()}_dispatchPageOpen(i,r=!1){var u=this;return p(function*(){const w=u._pdfDocument,e=u._visitedPages;if(r&&(u._closeCapability=(0,g.createPromiseCapability)()),!u._closeCapability)return;const d=u._pdfViewer.getPageView(i-1);if(d?.renderingState!==m.RenderingStates.FINISHED)return void u._pageOpenPending.add(i);u._pageOpenPending.delete(i);const n=p(function*(){const s=yield e.has(i)?null:d.pdfPage?.getJSActions();w===u._pdfDocument&&(yield u._scripting?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:i,actions:s}))})();e.set(i,n)})()}_dispatchPageClose(i){var r=this;return p(function*(){const u=r._pdfDocument,w=r._visitedPages;if(!r._closeCapability||r._pageOpenPending.has(i))return;const e=w.get(i);!e||(w.set(i,null),yield e,u===r._pdfDocument&&(yield r._scripting?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:i})))})()}_getDocProperties(){var i=this;return p(function*(){if(i._docPropertiesLookup)return i._docPropertiesLookup(i._pdfDocument);const{docPropertiesLookup:r}=S(24);return r(i._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,g.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:i}=S(24);return new i(this._sandboxBundleSrc)}_destroyScripting(){var i=this;return p(function*(){if(!i._scripting)return i._pdfDocument=null,void i._destroyCapability?.resolve();i._closeCapability&&(yield Promise.race([i._closeCapability.promise,new Promise(r=>{setTimeout(r,1e3)})]).catch(r=>{}),i._closeCapability=null),i._pdfDocument=null;try{yield i._scripting.destroySandbox()}catch{}for(const[r,u]of i._internalEvents)i._eventBus._off(r,u);i._internalEvents.clear();for(const[r,u]of i._domEvents)window.removeEventListener(r,u,!0);i._domEvents.clear(),i._pageOpenPending.clear(),i._visitedPages.clear(),i._scripting=null,delete i._mouseState.isDown,i._ready=!1,i._destroyCapability?.resolve()})()}}},(D,h,S)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.GenericScripting=void 0,h.docPropertiesLookup=function g(i){return a.apply(this,arguments)};var m=S(3);function a(){return(a=p(function*(i){const u="".split("#")[0];let{info:w,metadata:e,contentDispositionFilename:d,contentLength:n}=yield i.getMetadata();if(!n){const{length:s}=yield i.getDownloadInfo();n=s}return{...w,baseURL:u,filesize:n,filename:d||(0,m.getPdfFilenameFromUrl)(""),metadata:e?.getRaw(),authors:e?.get("dc:creator"),numPages:i.numPages,URL:""}})).apply(this,arguments)}h.GenericScripting=class _{constructor(r){this._ready=(0,m.loadScript)(r,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(r){var u=this;return p(function*(){(yield u._ready).create(r)})()}dispatchEventInSandbox(r){var u=this;return p(function*(){const w=yield u._ready;setTimeout(()=>w.dispatchEvent(r),0)})()}destroySandbox(){var r=this;return p(function*(){(yield r._ready).nukeSandbox()})()}}}],ae={};function $(D){var h=ae[D];if(void 0!==h)return h.exports;var S=ae[D]={exports:{}};return de[D](S,S.exports,$),S.exports}var K={};return(()=>{var D=K;Object.defineProperty(D,"__esModule",{value:!0}),Object.defineProperty(D,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return a.AnnotationLayerBuilder}}),Object.defineProperty(D,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return h.DefaultAnnotationLayerFactory}}),Object.defineProperty(D,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return h.DefaultStructTreeLayerFactory}}),Object.defineProperty(D,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return h.DefaultTextLayerFactory}}),Object.defineProperty(D,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return h.DefaultXfaLayerFactory}}),Object.defineProperty(D,"DownloadManager",{enumerable:!0,get:function(){return _.DownloadManager}}),Object.defineProperty(D,"EventBus",{enumerable:!0,get:function(){return i.EventBus}}),Object.defineProperty(D,"GenericL10n",{enumerable:!0,get:function(){return r.GenericL10n}}),Object.defineProperty(D,"LinkTarget",{enumerable:!0,get:function(){return S.LinkTarget}}),Object.defineProperty(D,"NullL10n",{enumerable:!0,get:function(){return u.NullL10n}}),Object.defineProperty(D,"PDFFindController",{enumerable:!0,get:function(){return w.PDFFindController}}),Object.defineProperty(D,"PDFHistory",{enumerable:!0,get:function(){return e.PDFHistory}}),Object.defineProperty(D,"PDFLinkService",{enumerable:!0,get:function(){return S.PDFLinkService}}),Object.defineProperty(D,"PDFPageView",{enumerable:!0,get:function(){return d.PDFPageView}}),Object.defineProperty(D,"PDFScriptingManager",{enumerable:!0,get:function(){return n.PDFScriptingManager}}),Object.defineProperty(D,"PDFSinglePageViewer",{enumerable:!0,get:function(){return g.PDFSinglePageViewer}}),Object.defineProperty(D,"PDFViewer",{enumerable:!0,get:function(){return g.PDFViewer}}),Object.defineProperty(D,"ProgressBar",{enumerable:!0,get:function(){return m.ProgressBar}}),Object.defineProperty(D,"SimpleLinkService",{enumerable:!0,get:function(){return S.SimpleLinkService}}),Object.defineProperty(D,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return s.StructTreeLayerBuilder}}),Object.defineProperty(D,"TextLayerBuilder",{enumerable:!0,get:function(){return A.TextLayerBuilder}}),Object.defineProperty(D,"XfaLayerBuilder",{enumerable:!0,get:function(){return b.XfaLayerBuilder}}),Object.defineProperty(D,"parseQueryString",{enumerable:!0,get:function(){return m.parseQueryString}});var h=$(1),S=$(5),m=$(6),g=$(10),a=$(2),_=$(16),i=$(17),r=$(18),u=$(4),w=$(20),e=$(22),d=$(12),n=$(23),s=$(7),A=$(8),b=$(9)})(),K})(),be.exports=$()},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{},7156:be=>{function M(p,de,ae,$,K,D,h){try{var S=p[D](h),m=S.value}catch(g){return void ae(g)}S.done?de(m):Promise.resolve(m).then($,K)}be.exports=function se(p){return function(){var de=this,ae=arguments;return new Promise(function($,K){var D=p.apply(de,ae);function h(m){M(D,$,K,h,S,"next",m)}function S(m){M(D,$,K,h,S,"throw",m)}h(void 0)})}},be.exports.__esModule=!0,be.exports.default=be.exports}}]);